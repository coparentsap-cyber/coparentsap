(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var rt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Vm={exports:{}},to={},Fm={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hi=Symbol.for("react.element"),Sx=Symbol.for("react.portal"),Nx=Symbol.for("react.fragment"),_x=Symbol.for("react.strict_mode"),kx=Symbol.for("react.profiler"),Cx=Symbol.for("react.provider"),Tx=Symbol.for("react.context"),Px=Symbol.for("react.forward_ref"),Ex=Symbol.for("react.suspense"),Dx=Symbol.for("react.memo"),Ax=Symbol.for("react.lazy"),Id=Symbol.iterator;function Mx(t){return t===null||typeof t!="object"?null:(t=Id&&t[Id]||t["@@iterator"],typeof t=="function"?t:null)}var Um={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zm=Object.assign,Bm={};function Jr(t,e,n){this.props=t,this.context=e,this.refs=Bm,this.updater=n||Um}Jr.prototype.isReactComponent={};Jr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Wm(){}Wm.prototype=Jr.prototype;function ru(t,e,n){this.props=t,this.context=e,this.refs=Bm,this.updater=n||Um}var su=ru.prototype=new Wm;su.constructor=ru;zm(su,Jr.prototype);su.isPureReactComponent=!0;var Ld=Array.isArray,qm=Object.prototype.hasOwnProperty,iu={current:null},Hm={key:!0,ref:!0,__self:!0,__source:!0};function Km(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)qm.call(e,r)&&!Hm.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:hi,type:t,key:i,ref:a,props:s,_owner:iu.current}}function Ox(t,e){return{$$typeof:hi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function au(t){return typeof t=="object"&&t!==null&&t.$$typeof===hi}function Rx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $d=/\/+/g;function Mo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Rx(""+t.key):e.toString(36)}function na(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case hi:case Sx:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Mo(a,0):r,Ld(s)?(n="",t!=null&&(n=t.replace($d,"$&/")+"/"),na(s,e,n,"",function(u){return u})):s!=null&&(au(s)&&(s=Ox(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace($d,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",Ld(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Mo(i,l);a+=na(i,e,n,c,s)}else if(c=Mx(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Mo(i,l++),a+=na(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ti(t,e,n){if(t==null)return t;var r=[],s=0;return na(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Ix(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Oe={current:null},ra={transition:null},Lx={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:ra,ReactCurrentOwner:iu};function Gm(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:Ti,forEach:function(t,e,n){Ti(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ti(t,function(){e++}),e},toArray:function(t){return Ti(t,function(e){return e})||[]},only:function(t){if(!au(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=Jr;U.Fragment=Nx;U.Profiler=kx;U.PureComponent=ru;U.StrictMode=_x;U.Suspense=Ex;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lx;U.act=Gm;U.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zm({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=iu.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)qm.call(e,c)&&!Hm.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:hi,type:t.type,key:s,ref:i,props:r,_owner:a}};U.createContext=function(t){return t={$$typeof:Tx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Cx,_context:t},t.Consumer=t};U.createElement=Km;U.createFactory=function(t){var e=Km.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:Px,render:t}};U.isValidElement=au;U.lazy=function(t){return{$$typeof:Ax,_payload:{_status:-1,_result:t},_init:Ix}};U.memo=function(t,e){return{$$typeof:Dx,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=ra.transition;ra.transition={};try{t()}finally{ra.transition=e}};U.unstable_act=Gm;U.useCallback=function(t,e){return Oe.current.useCallback(t,e)};U.useContext=function(t){return Oe.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return Oe.current.useDeferredValue(t)};U.useEffect=function(t,e){return Oe.current.useEffect(t,e)};U.useId=function(){return Oe.current.useId()};U.useImperativeHandle=function(t,e,n){return Oe.current.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return Oe.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return Oe.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return Oe.current.useMemo(t,e)};U.useReducer=function(t,e,n){return Oe.current.useReducer(t,e,n)};U.useRef=function(t){return Oe.current.useRef(t)};U.useState=function(t){return Oe.current.useState(t)};U.useSyncExternalStore=function(t,e,n){return Oe.current.useSyncExternalStore(t,e,n)};U.useTransition=function(){return Oe.current.useTransition()};U.version="18.3.1";Fm.exports=U;var _=Fm.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x=_,Vx=Symbol.for("react.element"),Fx=Symbol.for("react.fragment"),Ux=Object.prototype.hasOwnProperty,zx=$x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bx={key:!0,ref:!0,__self:!0,__source:!0};function Jm(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Ux.call(e,r)&&!Bx.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Vx,type:t,key:i,ref:a,props:s,_owner:zx.current}}to.Fragment=Fx;to.jsx=Jm;to.jsxs=Jm;Vm.exports=to;var o=Vm.exports,Ym={exports:{}},Ge={},Qm={exports:{}},Xm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(E,M){var I=E.length;E.push(M);e:for(;0<I;){var X=I-1>>>1,me=E[X];if(0<s(me,M))E[X]=M,E[I]=me,I=X;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var M=E[0],I=E.pop();if(I!==M){E[0]=I;e:for(var X=0,me=E.length,ki=me>>>1;X<ki;){var Nn=2*(X+1)-1,Ao=E[Nn],_n=Nn+1,Ci=E[_n];if(0>s(Ao,I))_n<me&&0>s(Ci,Ao)?(E[X]=Ci,E[_n]=I,X=_n):(E[X]=Ao,E[Nn]=I,X=Nn);else if(_n<me&&0>s(Ci,I))E[X]=Ci,E[_n]=I,X=_n;else break e}}return M}function s(E,M){var I=E.sortIndex-M.sortIndex;return I!==0?I:E.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,b=!1,v=!1,j=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(E){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=E)r(u),M.sortIndex=M.expirationTime,e(c,M);else break;M=n(u)}}function x(E){if(v=!1,m(E),!b)if(n(c)!==null)b=!0,tr(w);else{var M=n(u);M!==null&&ie(x,M.startTime-E)}}function w(E,M){b=!1,v&&(v=!1,g(k),k=-1),p=!0;var I=f;try{for(m(M),h=n(c);h!==null&&(!(h.expirationTime>M)||E&&!A());){var X=h.callback;if(typeof X=="function"){h.callback=null,f=h.priorityLevel;var me=X(h.expirationTime<=M);M=t.unstable_now(),typeof me=="function"?h.callback=me:h===n(c)&&r(c),m(M)}else r(c);h=n(c)}if(h!==null)var ki=!0;else{var Nn=n(u);Nn!==null&&ie(x,Nn.startTime-M),ki=!1}return ki}finally{h=null,f=I,p=!1}}var S=!1,N=null,k=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function V(){if(N!==null){var E=t.unstable_now();C=E;var M=!0;try{M=N(!0,E)}finally{M?z():(S=!1,N=null)}}else S=!1}var z;if(typeof y=="function")z=function(){y(V)};else if(typeof MessageChannel<"u"){var jn=new MessageChannel,Sn=jn.port2;jn.port1.onmessage=V,z=function(){Sn.postMessage(null)}}else z=function(){j(V,0)};function tr(E){N=E,S||(S=!0,z())}function ie(E,M){k=j(function(){E(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){b||p||(b=!0,tr(w))},t.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<E?Math.floor(1e3/E):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(E){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var I=f;f=M;try{return E()}finally{f=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,M){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var I=f;f=E;try{return M()}finally{f=I}},t.unstable_scheduleCallback=function(E,M,I){var X=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?X+I:X):I=X,E){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=I+me,E={id:d++,callback:M,priorityLevel:E,startTime:I,expirationTime:me,sortIndex:-1},I>X?(E.sortIndex=I,e(u,E),n(c)===null&&E===n(u)&&(v?(g(k),k=-1):v=!0,ie(x,I-X))):(E.sortIndex=me,e(c,E),b||p||(b=!0,tr(w))),E},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(E){var M=f;return function(){var I=f;f=M;try{return E.apply(this,arguments)}finally{f=I}}}})(Xm);Qm.exports=Xm;var Wx=Qm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx=_,Ke=Wx;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zm=new Set,Fs={};function Xn(t,e){Lr(t,e),Lr(t+"Capture",e)}function Lr(t,e){for(Fs[t]=e,t=0;t<e.length;t++)Zm.add(e[t])}var Lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),El=Object.prototype.hasOwnProperty,Hx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vd={},Fd={};function Kx(t){return El.call(Fd,t)?!0:El.call(Vd,t)?!1:Hx.test(t)?Fd[t]=!0:(Vd[t]=!0,!1)}function Gx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Jx(t,e,n,r){if(e===null||typeof e>"u"||Gx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Re(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Se[t]=new Re(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Se[e]=new Re(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Se[t]=new Re(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Se[t]=new Re(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Se[t]=new Re(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Se[t]=new Re(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Se[t]=new Re(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Se[t]=new Re(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Se[t]=new Re(t,5,!1,t.toLowerCase(),null,!1,!1)});var ou=/[\-:]([a-z])/g;function lu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ou,lu);Se[e]=new Re(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ou,lu);Se[e]=new Re(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ou,lu);Se[e]=new Re(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Se[t]=new Re(t,1,!1,t.toLowerCase(),null,!1,!1)});Se.xlinkHref=new Re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Se[t]=new Re(t,1,!1,t.toLowerCase(),null,!0,!0)});function cu(t,e,n,r){var s=Se.hasOwnProperty(e)?Se[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Jx(e,n,s,r)&&(n=null),r||s===null?Kx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qt=qx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pi=Symbol.for("react.element"),dr=Symbol.for("react.portal"),hr=Symbol.for("react.fragment"),uu=Symbol.for("react.strict_mode"),Dl=Symbol.for("react.profiler"),ep=Symbol.for("react.provider"),tp=Symbol.for("react.context"),du=Symbol.for("react.forward_ref"),Al=Symbol.for("react.suspense"),Ml=Symbol.for("react.suspense_list"),hu=Symbol.for("react.memo"),Qt=Symbol.for("react.lazy"),np=Symbol.for("react.offscreen"),Ud=Symbol.iterator;function rs(t){return t===null||typeof t!="object"?null:(t=Ud&&t[Ud]||t["@@iterator"],typeof t=="function"?t:null)}var ne=Object.assign,Oo;function gs(t){if(Oo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Oo=e&&e[1]||""}return`
`+Oo+t}var Ro=!1;function Io(t,e){if(!t||Ro)return"";Ro=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{Ro=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?gs(t):""}function Yx(t){switch(t.tag){case 5:return gs(t.type);case 16:return gs("Lazy");case 13:return gs("Suspense");case 19:return gs("SuspenseList");case 0:case 2:case 15:return t=Io(t.type,!1),t;case 11:return t=Io(t.type.render,!1),t;case 1:return t=Io(t.type,!0),t;default:return""}}function Ol(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hr:return"Fragment";case dr:return"Portal";case Dl:return"Profiler";case uu:return"StrictMode";case Al:return"Suspense";case Ml:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tp:return(t.displayName||"Context")+".Consumer";case ep:return(t._context.displayName||"Context")+".Provider";case du:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hu:return e=t.displayName||null,e!==null?e:Ol(t.type)||"Memo";case Qt:e=t._payload,t=t._init;try{return Ol(t(e))}catch{}}return null}function Qx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ol(e);case 8:return e===uu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Xx(t){var e=rp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ei(t){t._valueTracker||(t._valueTracker=Xx(t))}function sp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rl(t,e){var n=e.checked;return ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ip(t,e){e=e.checked,e!=null&&cu(t,"checked",e,!1)}function Il(t,e){ip(t,e);var n=fn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ll(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ll(t,e.type,fn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Bd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ll(t,e,n){(e!=="number"||xa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ys=Array.isArray;function Pr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function $l(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(ys(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fn(n)}}function ap(t,e){var n=fn(e.value),r=fn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function op(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?op(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Di,lp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Di=Di||document.createElement("div"),Di.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Di.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Us(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zx=["Webkit","ms","Moz","O"];Object.keys(Ss).forEach(function(t){Zx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ss[e]=Ss[t]})});function cp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ss.hasOwnProperty(t)&&Ss[t]?(""+e).trim():e+"px"}function up(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=cp(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var ev=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fl(t,e){if(e){if(ev[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function Ul(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zl=null;function fu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bl=null,Er=null,Dr=null;function Hd(t){if(t=pi(t)){if(typeof Bl!="function")throw Error(P(280));var e=t.stateNode;e&&(e=ao(e),Bl(t.stateNode,t.type,e))}}function dp(t){Er?Dr?Dr.push(t):Dr=[t]:Er=t}function hp(){if(Er){var t=Er,e=Dr;if(Dr=Er=null,Hd(t),e)for(t=0;t<e.length;t++)Hd(e[t])}}function fp(t,e){return t(e)}function mp(){}var Lo=!1;function pp(t,e,n){if(Lo)return t(e,n);Lo=!0;try{return fp(t,e,n)}finally{Lo=!1,(Er!==null||Dr!==null)&&(mp(),hp())}}function zs(t,e){var n=t.stateNode;if(n===null)return null;var r=ao(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var Wl=!1;if(Lt)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Wl=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Wl=!1}function tv(t,e,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ns=!1,va=null,wa=!1,ql=null,nv={onError:function(t){Ns=!0,va=t}};function rv(t,e,n,r,s,i,a,l,c){Ns=!1,va=null,tv.apply(nv,arguments)}function sv(t,e,n,r,s,i,a,l,c){if(rv.apply(this,arguments),Ns){if(Ns){var u=va;Ns=!1,va=null}else throw Error(P(198));wa||(wa=!0,ql=u)}}function Zn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kd(t){if(Zn(t)!==t)throw Error(P(188))}function iv(t){var e=t.alternate;if(!e){if(e=Zn(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Kd(s),t;if(i===r)return Kd(s),e;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function yp(t){return t=iv(t),t!==null?xp(t):null}function xp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xp(t);if(e!==null)return e;t=t.sibling}return null}var vp=Ke.unstable_scheduleCallback,Gd=Ke.unstable_cancelCallback,av=Ke.unstable_shouldYield,ov=Ke.unstable_requestPaint,oe=Ke.unstable_now,lv=Ke.unstable_getCurrentPriorityLevel,mu=Ke.unstable_ImmediatePriority,wp=Ke.unstable_UserBlockingPriority,ba=Ke.unstable_NormalPriority,cv=Ke.unstable_LowPriority,bp=Ke.unstable_IdlePriority,no=null,bt=null;function uv(t){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(no,t,void 0,(t.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:fv,dv=Math.log,hv=Math.LN2;function fv(t){return t>>>=0,t===0?32:31-(dv(t)/hv|0)|0}var Ai=64,Mi=4194304;function xs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ja(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=xs(l):(i&=a,i!==0&&(r=xs(i)))}else a=n&~s,a!==0?r=xs(a):i!==0&&(r=xs(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ft(e),s=1<<n,r|=t[n],e&=~s;return r}function mv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-ft(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=mv(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Hl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jp(){var t=Ai;return Ai<<=1,!(Ai&4194240)&&(Ai=64),t}function $o(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ft(e),t[e]=n}function gv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ft(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function pu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ft(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var q=0;function Sp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Np,gu,_p,kp,Cp,Kl=!1,Oi=[],sn=null,an=null,on=null,Bs=new Map,Ws=new Map,Zt=[],yv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jd(t,e){switch(t){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":an=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":Bs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(e.pointerId)}}function is(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=pi(e),e!==null&&gu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function xv(t,e,n,r,s){switch(e){case"focusin":return sn=is(sn,t,e,n,r,s),!0;case"dragenter":return an=is(an,t,e,n,r,s),!0;case"mouseover":return on=is(on,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Bs.set(i,is(Bs.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ws.set(i,is(Ws.get(i)||null,t,e,n,r,s)),!0}return!1}function Tp(t){var e=Ln(t.target);if(e!==null){var n=Zn(e);if(n!==null){if(e=n.tag,e===13){if(e=gp(n),e!==null){t.blockedOn=e,Cp(t.priority,function(){_p(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zl=r,n.target.dispatchEvent(r),zl=null}else return e=pi(n),e!==null&&gu(e),t.blockedOn=n,!1;e.shift()}return!0}function Yd(t,e,n){sa(t)&&n.delete(e)}function vv(){Kl=!1,sn!==null&&sa(sn)&&(sn=null),an!==null&&sa(an)&&(an=null),on!==null&&sa(on)&&(on=null),Bs.forEach(Yd),Ws.forEach(Yd)}function as(t,e){t.blockedOn===e&&(t.blockedOn=null,Kl||(Kl=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,vv)))}function qs(t){function e(s){return as(s,t)}if(0<Oi.length){as(Oi[0],t);for(var n=1;n<Oi.length;n++){var r=Oi[n];r.blockedOn===t&&(r.blockedOn=null)}}for(sn!==null&&as(sn,t),an!==null&&as(an,t),on!==null&&as(on,t),Bs.forEach(e),Ws.forEach(e),n=0;n<Zt.length;n++)r=Zt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Zt.length&&(n=Zt[0],n.blockedOn===null);)Tp(n),n.blockedOn===null&&Zt.shift()}var Ar=qt.ReactCurrentBatchConfig,Sa=!0;function wv(t,e,n,r){var s=q,i=Ar.transition;Ar.transition=null;try{q=1,yu(t,e,n,r)}finally{q=s,Ar.transition=i}}function bv(t,e,n,r){var s=q,i=Ar.transition;Ar.transition=null;try{q=4,yu(t,e,n,r)}finally{q=s,Ar.transition=i}}function yu(t,e,n,r){if(Sa){var s=Gl(t,e,n,r);if(s===null)Go(t,e,r,Na,n),Jd(t,r);else if(xv(s,t,e,n,r))r.stopPropagation();else if(Jd(t,r),e&4&&-1<yv.indexOf(t)){for(;s!==null;){var i=pi(s);if(i!==null&&Np(i),i=Gl(t,e,n,r),i===null&&Go(t,e,r,Na,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Go(t,e,r,null,n)}}var Na=null;function Gl(t,e,n,r){if(Na=null,t=fu(r),t=Ln(t),t!==null)if(e=Zn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Na=t,null}function Pp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lv()){case mu:return 1;case wp:return 4;case ba:case cv:return 16;case bp:return 536870912;default:return 16}default:return 16}}var nn=null,xu=null,ia=null;function Ep(){if(ia)return ia;var t,e=xu,n=e.length,r,s="value"in nn?nn.value:nn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return ia=s.slice(t,1<r?1-r:void 0)}function aa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ri(){return!0}function Qd(){return!1}function Je(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ri:Qd,this.isPropagationStopped=Qd,this}return ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),e}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vu=Je(Yr),mi=ne({},Yr,{view:0,detail:0}),jv=Je(mi),Vo,Fo,os,ro=ne({},mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==os&&(os&&t.type==="mousemove"?(Vo=t.screenX-os.screenX,Fo=t.screenY-os.screenY):Fo=Vo=0,os=t),Vo)},movementY:function(t){return"movementY"in t?t.movementY:Fo}}),Xd=Je(ro),Sv=ne({},ro,{dataTransfer:0}),Nv=Je(Sv),_v=ne({},mi,{relatedTarget:0}),Uo=Je(_v),kv=ne({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Cv=Je(kv),Tv=ne({},Yr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pv=Je(Tv),Ev=ne({},Yr,{data:0}),Zd=Je(Ev),Dv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Av={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ov(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Mv[t])?!!e[t]:!1}function wu(){return Ov}var Rv=ne({},mi,{key:function(t){if(t.key){var e=Dv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=aa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Av[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wu,charCode:function(t){return t.type==="keypress"?aa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?aa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Iv=Je(Rv),Lv=ne({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eh=Je(Lv),$v=ne({},mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wu}),Vv=Je($v),Fv=ne({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uv=Je(Fv),zv=ne({},ro,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Bv=Je(zv),Wv=[9,13,27,32],bu=Lt&&"CompositionEvent"in window,_s=null;Lt&&"documentMode"in document&&(_s=document.documentMode);var qv=Lt&&"TextEvent"in window&&!_s,Dp=Lt&&(!bu||_s&&8<_s&&11>=_s),th=" ",nh=!1;function Ap(t,e){switch(t){case"keyup":return Wv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fr=!1;function Hv(t,e){switch(t){case"compositionend":return Mp(e);case"keypress":return e.which!==32?null:(nh=!0,th);case"textInput":return t=e.data,t===th&&nh?null:t;default:return null}}function Kv(t,e){if(fr)return t==="compositionend"||!bu&&Ap(t,e)?(t=Ep(),ia=xu=nn=null,fr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Dp&&e.locale!=="ko"?null:e.data;default:return null}}var Gv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Gv[t.type]:e==="textarea"}function Op(t,e,n,r){dp(r),e=_a(e,"onChange"),0<e.length&&(n=new vu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ks=null,Hs=null;function Jv(t){qp(t,0)}function so(t){var e=gr(t);if(sp(e))return t}function Yv(t,e){if(t==="change")return e}var Rp=!1;if(Lt){var zo;if(Lt){var Bo="oninput"in document;if(!Bo){var sh=document.createElement("div");sh.setAttribute("oninput","return;"),Bo=typeof sh.oninput=="function"}zo=Bo}else zo=!1;Rp=zo&&(!document.documentMode||9<document.documentMode)}function ih(){ks&&(ks.detachEvent("onpropertychange",Ip),Hs=ks=null)}function Ip(t){if(t.propertyName==="value"&&so(Hs)){var e=[];Op(e,Hs,t,fu(t)),pp(Jv,e)}}function Qv(t,e,n){t==="focusin"?(ih(),ks=e,Hs=n,ks.attachEvent("onpropertychange",Ip)):t==="focusout"&&ih()}function Xv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return so(Hs)}function Zv(t,e){if(t==="click")return so(e)}function ew(t,e){if(t==="input"||t==="change")return so(e)}function tw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pt=typeof Object.is=="function"?Object.is:tw;function Ks(t,e){if(pt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!El.call(e,s)||!pt(t[s],e[s]))return!1}return!0}function ah(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oh(t,e){var n=ah(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ah(n)}}function Lp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Lp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $p(){for(var t=window,e=xa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xa(t.document)}return e}function ju(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nw(t){var e=$p(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Lp(n.ownerDocument.documentElement,n)){if(r!==null&&ju(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=oh(n,i);var a=oh(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rw=Lt&&"documentMode"in document&&11>=document.documentMode,mr=null,Jl=null,Cs=null,Yl=!1;function lh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yl||mr==null||mr!==xa(r)||(r=mr,"selectionStart"in r&&ju(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cs&&Ks(Cs,r)||(Cs=r,r=_a(Jl,"onSelect"),0<r.length&&(e=new vu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mr)))}function Ii(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var pr={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionend:Ii("Transition","TransitionEnd")},Wo={},Vp={};Lt&&(Vp=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function io(t){if(Wo[t])return Wo[t];if(!pr[t])return t;var e=pr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Vp)return Wo[t]=e[n];return t}var Fp=io("animationend"),Up=io("animationiteration"),zp=io("animationstart"),Bp=io("transitionend"),Wp=new Map,ch="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(t,e){Wp.set(t,e),Xn(e,[t])}for(var qo=0;qo<ch.length;qo++){var Ho=ch[qo],sw=Ho.toLowerCase(),iw=Ho[0].toUpperCase()+Ho.slice(1);yn(sw,"on"+iw)}yn(Fp,"onAnimationEnd");yn(Up,"onAnimationIteration");yn(zp,"onAnimationStart");yn("dblclick","onDoubleClick");yn("focusin","onFocus");yn("focusout","onBlur");yn(Bp,"onTransitionEnd");Lr("onMouseEnter",["mouseout","mouseover"]);Lr("onMouseLeave",["mouseout","mouseover"]);Lr("onPointerEnter",["pointerout","pointerover"]);Lr("onPointerLeave",["pointerout","pointerover"]);Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aw=new Set("cancel close invalid load scroll toggle".split(" ").concat(vs));function uh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sv(r,e,void 0,t),t.currentTarget=null}function qp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;uh(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;uh(s,l,u),i=c}}}if(wa)throw t=ql,wa=!1,ql=null,t}function G(t,e){var n=e[tc];n===void 0&&(n=e[tc]=new Set);var r=t+"__bubble";n.has(r)||(Hp(e,t,2,!1),n.add(r))}function Ko(t,e,n){var r=0;e&&(r|=4),Hp(n,t,r,e)}var Li="_reactListening"+Math.random().toString(36).slice(2);function Gs(t){if(!t[Li]){t[Li]=!0,Zm.forEach(function(n){n!=="selectionchange"&&(aw.has(n)||Ko(n,!1,t),Ko(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Li]||(e[Li]=!0,Ko("selectionchange",!1,e))}}function Hp(t,e,n,r){switch(Pp(e)){case 1:var s=wv;break;case 4:s=bv;break;default:s=yu}n=s.bind(null,e,n,t),s=void 0,!Wl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Go(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Ln(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}pp(function(){var u=i,d=fu(n),h=[];e:{var f=Wp.get(t);if(f!==void 0){var p=vu,b=t;switch(t){case"keypress":if(aa(n)===0)break e;case"keydown":case"keyup":p=Iv;break;case"focusin":b="focus",p=Uo;break;case"focusout":b="blur",p=Uo;break;case"beforeblur":case"afterblur":p=Uo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Nv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Vv;break;case Fp:case Up:case zp:p=Cv;break;case Bp:p=Uv;break;case"scroll":p=jv;break;case"wheel":p=Bv;break;case"copy":case"cut":case"paste":p=Pv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=eh}var v=(e&4)!==0,j=!v&&t==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var y=u,m;y!==null;){m=y;var x=m.stateNode;if(m.tag===5&&x!==null&&(m=x,g!==null&&(x=zs(y,g),x!=null&&v.push(Js(y,x,m)))),j)break;y=y.return}0<v.length&&(f=new p(f,b,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==zl&&(b=n.relatedTarget||n.fromElement)&&(Ln(b)||b[$t]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(b=n.relatedTarget||n.toElement,p=u,b=b?Ln(b):null,b!==null&&(j=Zn(b),b!==j||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=u),p!==b)){if(v=Xd,x="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=eh,x="onPointerLeave",g="onPointerEnter",y="pointer"),j=p==null?f:gr(p),m=b==null?f:gr(b),f=new v(x,y+"leave",p,n,d),f.target=j,f.relatedTarget=m,x=null,Ln(d)===u&&(v=new v(g,y+"enter",b,n,d),v.target=m,v.relatedTarget=j,x=v),j=x,p&&b)t:{for(v=p,g=b,y=0,m=v;m;m=nr(m))y++;for(m=0,x=g;x;x=nr(x))m++;for(;0<y-m;)v=nr(v),y--;for(;0<m-y;)g=nr(g),m--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=nr(v),g=nr(g)}v=null}else v=null;p!==null&&dh(h,f,p,v,!1),b!==null&&j!==null&&dh(h,j,b,v,!0)}}e:{if(f=u?gr(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var w=Yv;else if(rh(f))if(Rp)w=ew;else{w=Xv;var S=Qv}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=Zv);if(w&&(w=w(t,u))){Op(h,w,n,d);break e}S&&S(t,f,u),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Ll(f,"number",f.value)}switch(S=u?gr(u):window,t){case"focusin":(rh(S)||S.contentEditable==="true")&&(mr=S,Jl=u,Cs=null);break;case"focusout":Cs=Jl=mr=null;break;case"mousedown":Yl=!0;break;case"contextmenu":case"mouseup":case"dragend":Yl=!1,lh(h,n,d);break;case"selectionchange":if(rw)break;case"keydown":case"keyup":lh(h,n,d)}var N;if(bu)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else fr?Ap(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Dp&&n.locale!=="ko"&&(fr||k!=="onCompositionStart"?k==="onCompositionEnd"&&fr&&(N=Ep()):(nn=d,xu="value"in nn?nn.value:nn.textContent,fr=!0)),S=_a(u,k),0<S.length&&(k=new Zd(k,t,null,n,d),h.push({event:k,listeners:S}),N?k.data=N:(N=Mp(n),N!==null&&(k.data=N)))),(N=qv?Hv(t,n):Kv(t,n))&&(u=_a(u,"onBeforeInput"),0<u.length&&(d=new Zd("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=N))}qp(h,e)})}function Js(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _a(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zs(t,n),i!=null&&r.unshift(Js(t,i,s)),i=zs(t,e),i!=null&&r.push(Js(t,i,s))),t=t.return}return r}function nr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dh(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=zs(n,i),c!=null&&a.unshift(Js(n,c,l))):s||(c=zs(n,i),c!=null&&a.push(Js(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var ow=/\r\n?/g,lw=/\u0000|\uFFFD/g;function hh(t){return(typeof t=="string"?t:""+t).replace(ow,`
`).replace(lw,"")}function $i(t,e,n){if(e=hh(e),hh(t)!==e&&n)throw Error(P(425))}function ka(){}var Ql=null,Xl=null;function Zl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ec=typeof setTimeout=="function"?setTimeout:void 0,cw=typeof clearTimeout=="function"?clearTimeout:void 0,fh=typeof Promise=="function"?Promise:void 0,uw=typeof queueMicrotask=="function"?queueMicrotask:typeof fh<"u"?function(t){return fh.resolve(null).then(t).catch(dw)}:ec;function dw(t){setTimeout(function(){throw t})}function Jo(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),qs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);qs(e)}function ln(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Qr=Math.random().toString(36).slice(2),xt="__reactFiber$"+Qr,Ys="__reactProps$"+Qr,$t="__reactContainer$"+Qr,tc="__reactEvents$"+Qr,hw="__reactListeners$"+Qr,fw="__reactHandles$"+Qr;function Ln(t){var e=t[xt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$t]||n[xt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=mh(t);t!==null;){if(n=t[xt])return n;t=mh(t)}return e}t=n,n=t.parentNode}return null}function pi(t){return t=t[xt]||t[$t],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function ao(t){return t[Ys]||null}var nc=[],yr=-1;function xn(t){return{current:t}}function J(t){0>yr||(t.current=nc[yr],nc[yr]=null,yr--)}function K(t,e){yr++,nc[yr]=t.current,t.current=e}var mn={},Te=xn(mn),Ue=xn(!1),Hn=mn;function $r(t,e){var n=t.type.contextTypes;if(!n)return mn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ze(t){return t=t.childContextTypes,t!=null}function Ca(){J(Ue),J(Te)}function ph(t,e,n){if(Te.current!==mn)throw Error(P(168));K(Te,e),K(Ue,n)}function Kp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(P(108,Qx(t)||"Unknown",s));return ne({},n,r)}function Ta(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mn,Hn=Te.current,K(Te,t),K(Ue,Ue.current),!0}function gh(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=Kp(t,e,Hn),r.__reactInternalMemoizedMergedChildContext=t,J(Ue),J(Te),K(Te,t)):J(Ue),K(Ue,n)}var At=null,oo=!1,Yo=!1;function Gp(t){At===null?At=[t]:At.push(t)}function mw(t){oo=!0,Gp(t)}function vn(){if(!Yo&&At!==null){Yo=!0;var t=0,e=q;try{var n=At;for(q=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}At=null,oo=!1}catch(s){throw At!==null&&(At=At.slice(t+1)),vp(mu,vn),s}finally{q=e,Yo=!1}}return null}var xr=[],vr=0,Pa=null,Ea=0,Xe=[],Ze=0,Kn=null,Mt=1,Ot="";function Pn(t,e){xr[vr++]=Ea,xr[vr++]=Pa,Pa=t,Ea=e}function Jp(t,e,n){Xe[Ze++]=Mt,Xe[Ze++]=Ot,Xe[Ze++]=Kn,Kn=t;var r=Mt;t=Ot;var s=32-ft(r)-1;r&=~(1<<s),n+=1;var i=32-ft(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Mt=1<<32-ft(e)+s|n<<s|r,Ot=i+t}else Mt=1<<i|n<<s|r,Ot=t}function Su(t){t.return!==null&&(Pn(t,1),Jp(t,1,0))}function Nu(t){for(;t===Pa;)Pa=xr[--vr],xr[vr]=null,Ea=xr[--vr],xr[vr]=null;for(;t===Kn;)Kn=Xe[--Ze],Xe[Ze]=null,Ot=Xe[--Ze],Xe[Ze]=null,Mt=Xe[--Ze],Xe[Ze]=null}var He=null,qe=null,Y=!1,ht=null;function Yp(t,e){var n=et(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function yh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,He=t,qe=ln(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,He=t,qe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Kn!==null?{id:Mt,overflow:Ot}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=et(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,He=t,qe=null,!0):!1;default:return!1}}function rc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sc(t){if(Y){var e=qe;if(e){var n=e;if(!yh(t,e)){if(rc(t))throw Error(P(418));e=ln(n.nextSibling);var r=He;e&&yh(t,e)?Yp(r,n):(t.flags=t.flags&-4097|2,Y=!1,He=t)}}else{if(rc(t))throw Error(P(418));t.flags=t.flags&-4097|2,Y=!1,He=t}}}function xh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;He=t}function Vi(t){if(t!==He)return!1;if(!Y)return xh(t),Y=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zl(t.type,t.memoizedProps)),e&&(e=qe)){if(rc(t))throw Qp(),Error(P(418));for(;e;)Yp(t,e),e=ln(e.nextSibling)}if(xh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qe=ln(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qe=null}}else qe=He?ln(t.stateNode.nextSibling):null;return!0}function Qp(){for(var t=qe;t;)t=ln(t.nextSibling)}function Vr(){qe=He=null,Y=!1}function _u(t){ht===null?ht=[t]:ht.push(t)}var pw=qt.ReactCurrentBatchConfig;function ls(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function Fi(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vh(t){var e=t._init;return e(t._payload)}function Xp(t){function e(g,y){if(t){var m=g.deletions;m===null?(g.deletions=[y],g.flags|=16):m.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function s(g,y){return g=hn(g,y),g.index=0,g.sibling=null,g}function i(g,y,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<y?(g.flags|=2,y):m):(g.flags|=2,y)):(g.flags|=1048576,y)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,y,m,x){return y===null||y.tag!==6?(y=rl(m,g.mode,x),y.return=g,y):(y=s(y,m),y.return=g,y)}function c(g,y,m,x){var w=m.type;return w===hr?d(g,y,m.props.children,x,m.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Qt&&vh(w)===y.type)?(x=s(y,m.props),x.ref=ls(g,y,m),x.return=g,x):(x=fa(m.type,m.key,m.props,null,g.mode,x),x.ref=ls(g,y,m),x.return=g,x)}function u(g,y,m,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==m.containerInfo||y.stateNode.implementation!==m.implementation?(y=sl(m,g.mode,x),y.return=g,y):(y=s(y,m.children||[]),y.return=g,y)}function d(g,y,m,x,w){return y===null||y.tag!==7?(y=Bn(m,g.mode,x,w),y.return=g,y):(y=s(y,m),y.return=g,y)}function h(g,y,m){if(typeof y=="string"&&y!==""||typeof y=="number")return y=rl(""+y,g.mode,m),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Pi:return m=fa(y.type,y.key,y.props,null,g.mode,m),m.ref=ls(g,null,y),m.return=g,m;case dr:return y=sl(y,g.mode,m),y.return=g,y;case Qt:var x=y._init;return h(g,x(y._payload),m)}if(ys(y)||rs(y))return y=Bn(y,g.mode,m,null),y.return=g,y;Fi(g,y)}return null}function f(g,y,m,x){var w=y!==null?y.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return w!==null?null:l(g,y,""+m,x);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Pi:return m.key===w?c(g,y,m,x):null;case dr:return m.key===w?u(g,y,m,x):null;case Qt:return w=m._init,f(g,y,w(m._payload),x)}if(ys(m)||rs(m))return w!==null?null:d(g,y,m,x,null);Fi(g,m)}return null}function p(g,y,m,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(m)||null,l(y,g,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Pi:return g=g.get(x.key===null?m:x.key)||null,c(y,g,x,w);case dr:return g=g.get(x.key===null?m:x.key)||null,u(y,g,x,w);case Qt:var S=x._init;return p(g,y,m,S(x._payload),w)}if(ys(x)||rs(x))return g=g.get(m)||null,d(y,g,x,w,null);Fi(y,x)}return null}function b(g,y,m,x){for(var w=null,S=null,N=y,k=y=0,T=null;N!==null&&k<m.length;k++){N.index>k?(T=N,N=null):T=N.sibling;var C=f(g,N,m[k],x);if(C===null){N===null&&(N=T);break}t&&N&&C.alternate===null&&e(g,N),y=i(C,y,k),S===null?w=C:S.sibling=C,S=C,N=T}if(k===m.length)return n(g,N),Y&&Pn(g,k),w;if(N===null){for(;k<m.length;k++)N=h(g,m[k],x),N!==null&&(y=i(N,y,k),S===null?w=N:S.sibling=N,S=N);return Y&&Pn(g,k),w}for(N=r(g,N);k<m.length;k++)T=p(N,g,k,m[k],x),T!==null&&(t&&T.alternate!==null&&N.delete(T.key===null?k:T.key),y=i(T,y,k),S===null?w=T:S.sibling=T,S=T);return t&&N.forEach(function(A){return e(g,A)}),Y&&Pn(g,k),w}function v(g,y,m,x){var w=rs(m);if(typeof w!="function")throw Error(P(150));if(m=w.call(m),m==null)throw Error(P(151));for(var S=w=null,N=y,k=y=0,T=null,C=m.next();N!==null&&!C.done;k++,C=m.next()){N.index>k?(T=N,N=null):T=N.sibling;var A=f(g,N,C.value,x);if(A===null){N===null&&(N=T);break}t&&N&&A.alternate===null&&e(g,N),y=i(A,y,k),S===null?w=A:S.sibling=A,S=A,N=T}if(C.done)return n(g,N),Y&&Pn(g,k),w;if(N===null){for(;!C.done;k++,C=m.next())C=h(g,C.value,x),C!==null&&(y=i(C,y,k),S===null?w=C:S.sibling=C,S=C);return Y&&Pn(g,k),w}for(N=r(g,N);!C.done;k++,C=m.next())C=p(N,g,k,C.value,x),C!==null&&(t&&C.alternate!==null&&N.delete(C.key===null?k:C.key),y=i(C,y,k),S===null?w=C:S.sibling=C,S=C);return t&&N.forEach(function(V){return e(g,V)}),Y&&Pn(g,k),w}function j(g,y,m,x){if(typeof m=="object"&&m!==null&&m.type===hr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Pi:e:{for(var w=m.key,S=y;S!==null;){if(S.key===w){if(w=m.type,w===hr){if(S.tag===7){n(g,S.sibling),y=s(S,m.props.children),y.return=g,g=y;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Qt&&vh(w)===S.type){n(g,S.sibling),y=s(S,m.props),y.ref=ls(g,S,m),y.return=g,g=y;break e}n(g,S);break}else e(g,S);S=S.sibling}m.type===hr?(y=Bn(m.props.children,g.mode,x,m.key),y.return=g,g=y):(x=fa(m.type,m.key,m.props,null,g.mode,x),x.ref=ls(g,y,m),x.return=g,g=x)}return a(g);case dr:e:{for(S=m.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===m.containerInfo&&y.stateNode.implementation===m.implementation){n(g,y.sibling),y=s(y,m.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=sl(m,g.mode,x),y.return=g,g=y}return a(g);case Qt:return S=m._init,j(g,y,S(m._payload),x)}if(ys(m))return b(g,y,m,x);if(rs(m))return v(g,y,m,x);Fi(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,y!==null&&y.tag===6?(n(g,y.sibling),y=s(y,m),y.return=g,g=y):(n(g,y),y=rl(m,g.mode,x),y.return=g,g=y),a(g)):n(g,y)}return j}var Fr=Xp(!0),Zp=Xp(!1),Da=xn(null),Aa=null,wr=null,ku=null;function Cu(){ku=wr=Aa=null}function Tu(t){var e=Da.current;J(Da),t._currentValue=e}function ic(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Mr(t,e){Aa=t,ku=wr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ve=!0),t.firstContext=null)}function st(t){var e=t._currentValue;if(ku!==t)if(t={context:t,memoizedValue:e,next:null},wr===null){if(Aa===null)throw Error(P(308));wr=t,Aa.dependencies={lanes:0,firstContext:t}}else wr=wr.next=t;return e}var $n=null;function Pu(t){$n===null?$n=[t]:$n.push(t)}function eg(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Pu(e)):(n.next=s.next,s.next=n),e.interleaved=n,Vt(t,r)}function Vt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xt=!1;function Eu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,B&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Vt(t,n)}return s=r.interleaved,s===null?(e.next=e,Pu(r)):(e.next=s.next,s.next=e),r.interleaved=e,Vt(t,n)}function oa(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pu(t,n)}}function wh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ma(t,e,n,r){var s=t.updateQueue;Xt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,v=l;switch(f=e,p=n,v.tag){case 1:if(b=v.payload,typeof b=="function"){h=b.call(p,h,f);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,f=typeof b=="function"?b.call(p,h,f):b,f==null)break e;h=ne({},h,f);break e;case 2:Xt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Jn|=a,t.lanes=a,t.memoizedState=h}}function bh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var gi={},jt=xn(gi),Qs=xn(gi),Xs=xn(gi);function Vn(t){if(t===gi)throw Error(P(174));return t}function Du(t,e){switch(K(Xs,e),K(Qs,t),K(jt,gi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vl(e,t)}J(jt),K(jt,e)}function Ur(){J(jt),J(Qs),J(Xs)}function ng(t){Vn(Xs.current);var e=Vn(jt.current),n=Vl(e,t.type);e!==n&&(K(Qs,t),K(jt,n))}function Au(t){Qs.current===t&&(J(jt),J(Qs))}var Z=xn(0);function Oa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qo=[];function Mu(){for(var t=0;t<Qo.length;t++)Qo[t]._workInProgressVersionPrimary=null;Qo.length=0}var la=qt.ReactCurrentDispatcher,Xo=qt.ReactCurrentBatchConfig,Gn=0,te=null,de=null,ge=null,Ra=!1,Ts=!1,Zs=0,gw=0;function Ne(){throw Error(P(321))}function Ou(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pt(t[n],e[n]))return!1;return!0}function Ru(t,e,n,r,s,i){if(Gn=i,te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,la.current=t===null||t.memoizedState===null?ww:bw,t=n(r,s),Ts){i=0;do{if(Ts=!1,Zs=0,25<=i)throw Error(P(301));i+=1,ge=de=null,e.updateQueue=null,la.current=jw,t=n(r,s)}while(Ts)}if(la.current=Ia,e=de!==null&&de.next!==null,Gn=0,ge=de=te=null,Ra=!1,e)throw Error(P(300));return t}function Iu(){var t=Zs!==0;return Zs=0,t}function yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?te.memoizedState=ge=t:ge=ge.next=t,ge}function it(){if(de===null){var t=te.alternate;t=t!==null?t.memoizedState:null}else t=de.next;var e=ge===null?te.memoizedState:ge.next;if(e!==null)ge=e,de=t;else{if(t===null)throw Error(P(310));de=t,t={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},ge===null?te.memoizedState=ge=t:ge=ge.next=t}return ge}function ei(t,e){return typeof e=="function"?e(t):e}function Zo(t){var e=it(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=de,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Gn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=r):c=c.next=h,te.lanes|=d,Jn|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,pt(r,e.memoizedState)||(Ve=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,te.lanes|=i,Jn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function el(t){var e=it(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);pt(i,e.memoizedState)||(Ve=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function rg(){}function sg(t,e){var n=te,r=it(),s=e(),i=!pt(r.memoizedState,s);if(i&&(r.memoizedState=s,Ve=!0),r=r.queue,Lu(og.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ge!==null&&ge.memoizedState.tag&1){if(n.flags|=2048,ti(9,ag.bind(null,n,r,s,e),void 0,null),xe===null)throw Error(P(349));Gn&30||ig(n,e,s)}return s}function ig(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=te.updateQueue,e===null?(e={lastEffect:null,stores:null},te.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ag(t,e,n,r){e.value=n,e.getSnapshot=r,lg(e)&&cg(t)}function og(t,e,n){return n(function(){lg(e)&&cg(t)})}function lg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pt(t,n)}catch{return!0}}function cg(t){var e=Vt(t,1);e!==null&&mt(e,t,1,-1)}function jh(t){var e=yt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:t},e.queue=t,t=t.dispatch=vw.bind(null,te,t),[e.memoizedState,t]}function ti(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=te.updateQueue,e===null?(e={lastEffect:null,stores:null},te.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ug(){return it().memoizedState}function ca(t,e,n,r){var s=yt();te.flags|=t,s.memoizedState=ti(1|e,n,void 0,r===void 0?null:r)}function lo(t,e,n,r){var s=it();r=r===void 0?null:r;var i=void 0;if(de!==null){var a=de.memoizedState;if(i=a.destroy,r!==null&&Ou(r,a.deps)){s.memoizedState=ti(e,n,i,r);return}}te.flags|=t,s.memoizedState=ti(1|e,n,i,r)}function Sh(t,e){return ca(8390656,8,t,e)}function Lu(t,e){return lo(2048,8,t,e)}function dg(t,e){return lo(4,2,t,e)}function hg(t,e){return lo(4,4,t,e)}function fg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mg(t,e,n){return n=n!=null?n.concat([t]):null,lo(4,4,fg.bind(null,e,t),n)}function $u(){}function pg(t,e){var n=it();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ou(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gg(t,e){var n=it();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ou(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yg(t,e,n){return Gn&21?(pt(n,e)||(n=jp(),te.lanes|=n,Jn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ve=!0),t.memoizedState=n)}function yw(t,e){var n=q;q=n!==0&&4>n?n:4,t(!0);var r=Xo.transition;Xo.transition={};try{t(!1),e()}finally{q=n,Xo.transition=r}}function xg(){return it().memoizedState}function xw(t,e,n){var r=dn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vg(t))wg(e,n);else if(n=eg(t,e,n,r),n!==null){var s=Ae();mt(n,t,r,s),bg(n,e,r)}}function vw(t,e,n){var r=dn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vg(t))wg(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,pt(l,a)){var c=e.interleaved;c===null?(s.next=s,Pu(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=eg(t,e,s,r),n!==null&&(s=Ae(),mt(n,t,r,s),bg(n,e,r))}}function vg(t){var e=t.alternate;return t===te||e!==null&&e===te}function wg(t,e){Ts=Ra=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pu(t,n)}}var Ia={readContext:st,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},ww={readContext:st,useCallback:function(t,e){return yt().memoizedState=[t,e===void 0?null:e],t},useContext:st,useEffect:Sh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ca(4194308,4,fg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ca(4194308,4,t,e)},useInsertionEffect:function(t,e){return ca(4,2,t,e)},useMemo:function(t,e){var n=yt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=yt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xw.bind(null,te,t),[r.memoizedState,t]},useRef:function(t){var e=yt();return t={current:t},e.memoizedState=t},useState:jh,useDebugValue:$u,useDeferredValue:function(t){return yt().memoizedState=t},useTransition:function(){var t=jh(!1),e=t[0];return t=yw.bind(null,t[1]),yt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=te,s=yt();if(Y){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),xe===null)throw Error(P(349));Gn&30||ig(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Sh(og.bind(null,r,i,t),[t]),r.flags|=2048,ti(9,ag.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=yt(),e=xe.identifierPrefix;if(Y){var n=Ot,r=Mt;n=(r&~(1<<32-ft(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=gw++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bw={readContext:st,useCallback:pg,useContext:st,useEffect:Lu,useImperativeHandle:mg,useInsertionEffect:dg,useLayoutEffect:hg,useMemo:gg,useReducer:Zo,useRef:ug,useState:function(){return Zo(ei)},useDebugValue:$u,useDeferredValue:function(t){var e=it();return yg(e,de.memoizedState,t)},useTransition:function(){var t=Zo(ei)[0],e=it().memoizedState;return[t,e]},useMutableSource:rg,useSyncExternalStore:sg,useId:xg,unstable_isNewReconciler:!1},jw={readContext:st,useCallback:pg,useContext:st,useEffect:Lu,useImperativeHandle:mg,useInsertionEffect:dg,useLayoutEffect:hg,useMemo:gg,useReducer:el,useRef:ug,useState:function(){return el(ei)},useDebugValue:$u,useDeferredValue:function(t){var e=it();return de===null?e.memoizedState=t:yg(e,de.memoizedState,t)},useTransition:function(){var t=el(ei)[0],e=it().memoizedState;return[t,e]},useMutableSource:rg,useSyncExternalStore:sg,useId:xg,unstable_isNewReconciler:!1};function ct(t,e){if(t&&t.defaultProps){e=ne({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ac(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var co={isMounted:function(t){return(t=t._reactInternals)?Zn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ae(),s=dn(t),i=Rt(r,s);i.payload=e,n!=null&&(i.callback=n),e=cn(t,i,s),e!==null&&(mt(e,t,s,r),oa(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ae(),s=dn(t),i=Rt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=cn(t,i,s),e!==null&&(mt(e,t,s,r),oa(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ae(),r=dn(t),s=Rt(n,r);s.tag=2,e!=null&&(s.callback=e),e=cn(t,s,r),e!==null&&(mt(e,t,r,n),oa(e,t,r))}};function Nh(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Ks(n,r)||!Ks(s,i):!0}function jg(t,e,n){var r=!1,s=mn,i=e.contextType;return typeof i=="object"&&i!==null?i=st(i):(s=ze(e)?Hn:Te.current,r=e.contextTypes,i=(r=r!=null)?$r(t,s):mn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=co,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function _h(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&co.enqueueReplaceState(e,e.state,null)}function oc(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Eu(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=st(i):(i=ze(e)?Hn:Te.current,s.context=$r(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ac(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&co.enqueueReplaceState(s,s.state,null),Ma(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function zr(t,e){try{var n="",r=e;do n+=Yx(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function tl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function lc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Sw=typeof WeakMap=="function"?WeakMap:Map;function Sg(t,e,n){n=Rt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$a||($a=!0,xc=r),lc(t,e)},n}function Ng(t,e,n){n=Rt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){lc(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){lc(t,e),typeof r!="function"&&(un===null?un=new Set([this]):un.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function kh(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Sw;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Lw.bind(null,t,e,n),e.then(t,t))}function Ch(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Th(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Rt(-1,1),e.tag=2,cn(n,e,1))),n.lanes|=1),t)}var Nw=qt.ReactCurrentOwner,Ve=!1;function Ee(t,e,n,r){e.child=t===null?Zp(e,null,n,r):Fr(e,t.child,n,r)}function Ph(t,e,n,r,s){n=n.render;var i=e.ref;return Mr(e,s),r=Ru(t,e,n,r,i,s),n=Iu(),t!==null&&!Ve?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ft(t,e,s)):(Y&&n&&Su(e),e.flags|=1,Ee(t,e,r,s),e.child)}function Eh(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Hu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,_g(t,e,i,r,s)):(t=fa(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ks,n(a,r)&&t.ref===e.ref)return Ft(t,e,s)}return e.flags|=1,t=hn(i,r),t.ref=e.ref,t.return=e,e.child=t}function _g(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ks(i,r)&&t.ref===e.ref)if(Ve=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ve=!0);else return e.lanes=t.lanes,Ft(t,e,s)}return cc(t,e,n,r,s)}function kg(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(jr,We),We|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,K(jr,We),We|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,K(jr,We),We|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,K(jr,We),We|=r;return Ee(t,e,s,n),e.child}function Cg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cc(t,e,n,r,s){var i=ze(n)?Hn:Te.current;return i=$r(e,i),Mr(e,s),n=Ru(t,e,n,r,i,s),r=Iu(),t!==null&&!Ve?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ft(t,e,s)):(Y&&r&&Su(e),e.flags|=1,Ee(t,e,n,s),e.child)}function Dh(t,e,n,r,s){if(ze(n)){var i=!0;Ta(e)}else i=!1;if(Mr(e,s),e.stateNode===null)ua(t,e),jg(e,n,r),oc(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=st(u):(u=ze(n)?Hn:Te.current,u=$r(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&_h(e,a,r,u),Xt=!1;var f=e.memoizedState;a.state=f,Ma(e,r,a,s),c=e.memoizedState,l!==r||f!==c||Ue.current||Xt?(typeof d=="function"&&(ac(e,n,d,r),c=e.memoizedState),(l=Xt||Nh(e,n,l,r,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,tg(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ct(e.type,l),a.props=u,h=e.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=st(c):(c=ze(n)?Hn:Te.current,c=$r(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&_h(e,a,r,c),Xt=!1,f=e.memoizedState,a.state=f,Ma(e,r,a,s);var b=e.memoizedState;l!==h||f!==b||Ue.current||Xt?(typeof p=="function"&&(ac(e,n,p,r),b=e.memoizedState),(u=Xt||Nh(e,n,u,r,f,b,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),a.props=r,a.state=b,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return uc(t,e,n,r,i,s)}function uc(t,e,n,r,s,i){Cg(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&gh(e,n,!1),Ft(t,e,i);r=e.stateNode,Nw.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Fr(e,t.child,null,i),e.child=Fr(e,null,l,i)):Ee(t,e,l,i),e.memoizedState=r.state,s&&gh(e,n,!0),e.child}function Tg(t){var e=t.stateNode;e.pendingContext?ph(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ph(t,e.context,!1),Du(t,e.containerInfo)}function Ah(t,e,n,r,s){return Vr(),_u(s),e.flags|=256,Ee(t,e,n,r),e.child}var dc={dehydrated:null,treeContext:null,retryLane:0};function hc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Pg(t,e,n){var r=e.pendingProps,s=Z.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),K(Z,s&1),t===null)return sc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=fo(a,r,0,null),t=Bn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=hc(n),e.memoizedState=dc,t):Vu(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return _w(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=hn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=hn(l,i):(i=Bn(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?hc(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=dc,r}return i=t.child,t=i.sibling,r=hn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vu(t,e){return e=fo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ui(t,e,n,r){return r!==null&&_u(r),Fr(e,t.child,null,n),t=Vu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _w(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=tl(Error(P(422))),Ui(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=fo({mode:"visible",children:r.children},s,0,null),i=Bn(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Fr(e,t.child,null,a),e.child.memoizedState=hc(a),e.memoizedState=dc,i);if(!(e.mode&1))return Ui(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(P(419)),r=tl(i,r,void 0),Ui(t,e,a,r)}if(l=(a&t.childLanes)!==0,Ve||l){if(r=xe,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Vt(t,s),mt(r,t,s,-1))}return qu(),r=tl(Error(P(421))),Ui(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=$w.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,qe=ln(s.nextSibling),He=e,Y=!0,ht=null,t!==null&&(Xe[Ze++]=Mt,Xe[Ze++]=Ot,Xe[Ze++]=Kn,Mt=t.id,Ot=t.overflow,Kn=e),e=Vu(e,r.children),e.flags|=4096,e)}function Mh(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ic(t.return,e,n)}function nl(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Eg(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ee(t,e,r.children,n),r=Z.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mh(t,n,e);else if(t.tag===19)Mh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(K(Z,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Oa(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),nl(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Oa(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}nl(e,!0,n,null,i);break;case"together":nl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ua(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ft(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Jn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=hn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kw(t,e,n){switch(e.tag){case 3:Tg(e),Vr();break;case 5:ng(e);break;case 1:ze(e.type)&&Ta(e);break;case 4:Du(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;K(Da,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(K(Z,Z.current&1),e.flags|=128,null):n&e.child.childLanes?Pg(t,e,n):(K(Z,Z.current&1),t=Ft(t,e,n),t!==null?t.sibling:null);K(Z,Z.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Eg(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(Z,Z.current),r)break;return null;case 22:case 23:return e.lanes=0,kg(t,e,n)}return Ft(t,e,n)}var Dg,fc,Ag,Mg;Dg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fc=function(){};Ag=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Vn(jt.current);var i=null;switch(n){case"input":s=Rl(t,s),r=Rl(t,r),i=[];break;case"select":s=ne({},s,{value:void 0}),r=ne({},r,{value:void 0}),i=[];break;case"textarea":s=$l(t,s),r=$l(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ka)}Fl(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&G("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Mg=function(t,e,n,r){n!==r&&(e.flags|=4)};function cs(t,e){if(!Y)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _e(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Cw(t,e,n){var r=e.pendingProps;switch(Nu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(e),null;case 1:return ze(e.type)&&Ca(),_e(e),null;case 3:return r=e.stateNode,Ur(),J(Ue),J(Te),Mu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ht!==null&&(bc(ht),ht=null))),fc(t,e),_e(e),null;case 5:Au(e);var s=Vn(Xs.current);if(n=e.type,t!==null&&e.stateNode!=null)Ag(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return _e(e),null}if(t=Vn(jt.current),Vi(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[xt]=e,r[Ys]=i,t=(e.mode&1)!==0,n){case"dialog":G("cancel",r),G("close",r);break;case"iframe":case"object":case"embed":G("load",r);break;case"video":case"audio":for(s=0;s<vs.length;s++)G(vs[s],r);break;case"source":G("error",r);break;case"img":case"image":case"link":G("error",r),G("load",r);break;case"details":G("toggle",r);break;case"input":zd(r,i),G("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},G("invalid",r);break;case"textarea":Wd(r,i),G("invalid",r)}Fl(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&$i(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&$i(r.textContent,l,t),s=["children",""+l]):Fs.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&G("scroll",r)}switch(n){case"input":Ei(r),Bd(r,i,!0);break;case"textarea":Ei(r),qd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ka)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=op(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[xt]=e,t[Ys]=r,Dg(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ul(n,r),n){case"dialog":G("cancel",t),G("close",t),s=r;break;case"iframe":case"object":case"embed":G("load",t),s=r;break;case"video":case"audio":for(s=0;s<vs.length;s++)G(vs[s],t);s=r;break;case"source":G("error",t),s=r;break;case"img":case"image":case"link":G("error",t),G("load",t),s=r;break;case"details":G("toggle",t),s=r;break;case"input":zd(t,r),s=Rl(t,r),G("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ne({},r,{value:void 0}),G("invalid",t);break;case"textarea":Wd(t,r),s=$l(t,r),G("invalid",t);break;default:s=r}Fl(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?up(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lp(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Us(t,c):typeof c=="number"&&Us(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fs.hasOwnProperty(i)?c!=null&&i==="onScroll"&&G("scroll",t):c!=null&&cu(t,i,c,a))}switch(n){case"input":Ei(t),Bd(t,r,!1);break;case"textarea":Ei(t),qd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Pr(t,!!r.multiple,i,!1):r.defaultValue!=null&&Pr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ka)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _e(e),null;case 6:if(t&&e.stateNode!=null)Mg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=Vn(Xs.current),Vn(jt.current),Vi(e)){if(r=e.stateNode,n=e.memoizedProps,r[xt]=e,(i=r.nodeValue!==n)&&(t=He,t!==null))switch(t.tag){case 3:$i(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$i(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xt]=e,e.stateNode=r}return _e(e),null;case 13:if(J(Z),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Y&&qe!==null&&e.mode&1&&!(e.flags&128))Qp(),Vr(),e.flags|=98560,i=!1;else if(i=Vi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(P(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[xt]=e}else Vr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_e(e),i=!1}else ht!==null&&(bc(ht),ht=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Z.current&1?he===0&&(he=3):qu())),e.updateQueue!==null&&(e.flags|=4),_e(e),null);case 4:return Ur(),fc(t,e),t===null&&Gs(e.stateNode.containerInfo),_e(e),null;case 10:return Tu(e.type._context),_e(e),null;case 17:return ze(e.type)&&Ca(),_e(e),null;case 19:if(J(Z),i=e.memoizedState,i===null)return _e(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)cs(i,!1);else{if(he!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Oa(t),a!==null){for(e.flags|=128,cs(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return K(Z,Z.current&1|2),e.child}t=t.sibling}i.tail!==null&&oe()>Br&&(e.flags|=128,r=!0,cs(i,!1),e.lanes=4194304)}else{if(!r)if(t=Oa(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),cs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Y)return _e(e),null}else 2*oe()-i.renderingStartTime>Br&&n!==1073741824&&(e.flags|=128,r=!0,cs(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=oe(),e.sibling=null,n=Z.current,K(Z,r?n&1|2:n&1),e):(_e(e),null);case 22:case 23:return Wu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?We&1073741824&&(_e(e),e.subtreeFlags&6&&(e.flags|=8192)):_e(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function Tw(t,e){switch(Nu(e),e.tag){case 1:return ze(e.type)&&Ca(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ur(),J(Ue),J(Te),Mu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Au(e),null;case 13:if(J(Z),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Vr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return J(Z),null;case 4:return Ur(),null;case 10:return Tu(e.type._context),null;case 22:case 23:return Wu(),null;case 24:return null;default:return null}}var zi=!1,ke=!1,Pw=typeof WeakSet=="function"?WeakSet:Set,D=null;function br(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){se(t,e,r)}else n.current=null}function mc(t,e,n){try{n()}catch(r){se(t,e,r)}}var Oh=!1;function Ew(t,e){if(Ql=Sa,t=$p(),ju(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(l=a+s),h!==i||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===s&&(l=a),f===i&&++d===r&&(c=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xl={focusedElem:t,selectionRange:n},Sa=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,j=b.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:ct(e.type,v),j);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(x){se(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return b=Oh,Oh=!1,b}function Ps(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&mc(e,n,i)}s=s.next}while(s!==r)}}function uo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function pc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Og(t){var e=t.alternate;e!==null&&(t.alternate=null,Og(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xt],delete e[Ys],delete e[tc],delete e[hw],delete e[fw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Rg(t){return t.tag===5||t.tag===3||t.tag===4}function Rh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ka));else if(r!==4&&(t=t.child,t!==null))for(gc(t,e,n),t=t.sibling;t!==null;)gc(t,e,n),t=t.sibling}function yc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yc(t,e,n),t=t.sibling;t!==null;)yc(t,e,n),t=t.sibling}var we=null,ut=!1;function Ht(t,e,n){for(n=n.child;n!==null;)Ig(t,e,n),n=n.sibling}function Ig(t,e,n){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(no,n)}catch{}switch(n.tag){case 5:ke||br(n,e);case 6:var r=we,s=ut;we=null,Ht(t,e,n),we=r,ut=s,we!==null&&(ut?(t=we,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(ut?(t=we,n=n.stateNode,t.nodeType===8?Jo(t.parentNode,n):t.nodeType===1&&Jo(t,n),qs(t)):Jo(we,n.stateNode));break;case 4:r=we,s=ut,we=n.stateNode.containerInfo,ut=!0,Ht(t,e,n),we=r,ut=s;break;case 0:case 11:case 14:case 15:if(!ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&mc(n,e,a),s=s.next}while(s!==r)}Ht(t,e,n);break;case 1:if(!ke&&(br(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){se(n,e,l)}Ht(t,e,n);break;case 21:Ht(t,e,n);break;case 22:n.mode&1?(ke=(r=ke)||n.memoizedState!==null,Ht(t,e,n),ke=r):Ht(t,e,n);break;default:Ht(t,e,n)}}function Ih(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Pw),e.forEach(function(r){var s=Vw.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function at(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:we=l.stateNode,ut=!1;break e;case 3:we=l.stateNode.containerInfo,ut=!0;break e;case 4:we=l.stateNode.containerInfo,ut=!0;break e}l=l.return}if(we===null)throw Error(P(160));Ig(i,a,s),we=null,ut=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){se(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Lg(e,t),e=e.sibling}function Lg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(at(e,t),gt(t),r&4){try{Ps(3,t,t.return),uo(3,t)}catch(v){se(t,t.return,v)}try{Ps(5,t,t.return)}catch(v){se(t,t.return,v)}}break;case 1:at(e,t),gt(t),r&512&&n!==null&&br(n,n.return);break;case 5:if(at(e,t),gt(t),r&512&&n!==null&&br(n,n.return),t.flags&32){var s=t.stateNode;try{Us(s,"")}catch(v){se(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ip(s,i),Ul(l,a);var u=Ul(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?up(s,h):d==="dangerouslySetInnerHTML"?lp(s,h):d==="children"?Us(s,h):cu(s,d,h,u)}switch(l){case"input":Il(s,i);break;case"textarea":ap(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Pr(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Pr(s,!!i.multiple,i.defaultValue,!0):Pr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ys]=i}catch(v){se(t,t.return,v)}}break;case 6:if(at(e,t),gt(t),r&4){if(t.stateNode===null)throw Error(P(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){se(t,t.return,v)}}break;case 3:if(at(e,t),gt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qs(e.containerInfo)}catch(v){se(t,t.return,v)}break;case 4:at(e,t),gt(t);break;case 13:at(e,t),gt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(zu=oe())),r&4&&Ih(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ke=(u=ke)||d,at(e,t),ke=u):at(e,t),gt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(D=t,d=t.child;d!==null;){for(h=D=d;D!==null;){switch(f=D,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ps(4,f,f.return);break;case 1:br(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(v){se(r,n,v)}}break;case 5:br(f,f.return);break;case 22:if(f.memoizedState!==null){$h(h);continue}}p!==null?(p.return=f,D=p):$h(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=cp("display",a))}catch(v){se(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){se(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:at(e,t),gt(t),r&4&&Ih(t);break;case 21:break;default:at(e,t),gt(t)}}function gt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Rg(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Us(s,""),r.flags&=-33);var i=Rh(t);yc(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Rh(t);gc(t,l,a);break;default:throw Error(P(161))}}catch(c){se(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Dw(t,e,n){D=t,$g(t)}function $g(t,e,n){for(var r=(t.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||zi;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||ke;l=zi;var u=ke;if(zi=a,(ke=c)&&!u)for(D=s;D!==null;)a=D,c=a.child,a.tag===22&&a.memoizedState!==null?Vh(s):c!==null?(c.return=a,D=c):Vh(s);for(;i!==null;)D=i,$g(i),i=i.sibling;D=s,zi=l,ke=u}Lh(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):Lh(t)}}function Lh(t){for(;D!==null;){var e=D;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ke||uo(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ke)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ct(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&bh(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bh(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&qs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}ke||e.flags&512&&pc(e)}catch(f){se(e,e.return,f)}}if(e===t){D=null;break}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}}function $h(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var n=e.sibling;if(n!==null){n.return=e.return,D=n;break}D=e.return}}function Vh(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{uo(4,e)}catch(c){se(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){se(e,s,c)}}var i=e.return;try{pc(e)}catch(c){se(e,i,c)}break;case 5:var a=e.return;try{pc(e)}catch(c){se(e,a,c)}}}catch(c){se(e,e.return,c)}if(e===t){D=null;break}var l=e.sibling;if(l!==null){l.return=e.return,D=l;break}D=e.return}}var Aw=Math.ceil,La=qt.ReactCurrentDispatcher,Fu=qt.ReactCurrentOwner,tt=qt.ReactCurrentBatchConfig,B=0,xe=null,ce=null,je=0,We=0,jr=xn(0),he=0,ni=null,Jn=0,ho=0,Uu=0,Es=null,Le=null,zu=0,Br=1/0,Pt=null,$a=!1,xc=null,un=null,Bi=!1,rn=null,Va=0,Ds=0,vc=null,da=-1,ha=0;function Ae(){return B&6?oe():da!==-1?da:da=oe()}function dn(t){return t.mode&1?B&2&&je!==0?je&-je:pw.transition!==null?(ha===0&&(ha=jp()),ha):(t=q,t!==0||(t=window.event,t=t===void 0?16:Pp(t.type)),t):1}function mt(t,e,n,r){if(50<Ds)throw Ds=0,vc=null,Error(P(185));fi(t,n,r),(!(B&2)||t!==xe)&&(t===xe&&(!(B&2)&&(ho|=n),he===4&&en(t,je)),Be(t,r),n===1&&B===0&&!(e.mode&1)&&(Br=oe()+500,oo&&vn()))}function Be(t,e){var n=t.callbackNode;pv(t,e);var r=ja(t,t===xe?je:0);if(r===0)n!==null&&Gd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gd(n),e===1)t.tag===0?mw(Fh.bind(null,t)):Gp(Fh.bind(null,t)),uw(function(){!(B&6)&&vn()}),n=null;else{switch(Sp(r)){case 1:n=mu;break;case 4:n=wp;break;case 16:n=ba;break;case 536870912:n=bp;break;default:n=ba}n=Hg(n,Vg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Vg(t,e){if(da=-1,ha=0,B&6)throw Error(P(327));var n=t.callbackNode;if(Or()&&t.callbackNode!==n)return null;var r=ja(t,t===xe?je:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fa(t,r);else{e=r;var s=B;B|=2;var i=Ug();(xe!==t||je!==e)&&(Pt=null,Br=oe()+500,zn(t,e));do try{Rw();break}catch(l){Fg(t,l)}while(!0);Cu(),La.current=i,B=s,ce!==null?e=0:(xe=null,je=0,e=he)}if(e!==0){if(e===2&&(s=Hl(t),s!==0&&(r=s,e=wc(t,s))),e===1)throw n=ni,zn(t,0),en(t,r),Be(t,oe()),n;if(e===6)en(t,r);else{if(s=t.current.alternate,!(r&30)&&!Mw(s)&&(e=Fa(t,r),e===2&&(i=Hl(t),i!==0&&(r=i,e=wc(t,i))),e===1))throw n=ni,zn(t,0),en(t,r),Be(t,oe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:En(t,Le,Pt);break;case 3:if(en(t,r),(r&130023424)===r&&(e=zu+500-oe(),10<e)){if(ja(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ae(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ec(En.bind(null,t,Le,Pt),e);break}En(t,Le,Pt);break;case 4:if(en(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-ft(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Aw(r/1960))-r,10<r){t.timeoutHandle=ec(En.bind(null,t,Le,Pt),r);break}En(t,Le,Pt);break;case 5:En(t,Le,Pt);break;default:throw Error(P(329))}}}return Be(t,oe()),t.callbackNode===n?Vg.bind(null,t):null}function wc(t,e){var n=Es;return t.current.memoizedState.isDehydrated&&(zn(t,e).flags|=256),t=Fa(t,e),t!==2&&(e=Le,Le=n,e!==null&&bc(e)),t}function bc(t){Le===null?Le=t:Le.push.apply(Le,t)}function Mw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!pt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function en(t,e){for(e&=~Uu,e&=~ho,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ft(e),r=1<<n;t[n]=-1,e&=~r}}function Fh(t){if(B&6)throw Error(P(327));Or();var e=ja(t,0);if(!(e&1))return Be(t,oe()),null;var n=Fa(t,e);if(t.tag!==0&&n===2){var r=Hl(t);r!==0&&(e=r,n=wc(t,r))}if(n===1)throw n=ni,zn(t,0),en(t,e),Be(t,oe()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,En(t,Le,Pt),Be(t,oe()),null}function Bu(t,e){var n=B;B|=1;try{return t(e)}finally{B=n,B===0&&(Br=oe()+500,oo&&vn())}}function Yn(t){rn!==null&&rn.tag===0&&!(B&6)&&Or();var e=B;B|=1;var n=tt.transition,r=q;try{if(tt.transition=null,q=1,t)return t()}finally{q=r,tt.transition=n,B=e,!(B&6)&&vn()}}function Wu(){We=jr.current,J(jr)}function zn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cw(n)),ce!==null)for(n=ce.return;n!==null;){var r=n;switch(Nu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ca();break;case 3:Ur(),J(Ue),J(Te),Mu();break;case 5:Au(r);break;case 4:Ur();break;case 13:J(Z);break;case 19:J(Z);break;case 10:Tu(r.type._context);break;case 22:case 23:Wu()}n=n.return}if(xe=t,ce=t=hn(t.current,null),je=We=e,he=0,ni=null,Uu=ho=Jn=0,Le=Es=null,$n!==null){for(e=0;e<$n.length;e++)if(n=$n[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}$n=null}return t}function Fg(t,e){do{var n=ce;try{if(Cu(),la.current=Ia,Ra){for(var r=te.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ra=!1}if(Gn=0,ge=de=te=null,Ts=!1,Zs=0,Fu.current=null,n===null||n.return===null){he=1,ni=e,ce=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=je,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ch(a);if(p!==null){p.flags&=-257,Th(p,a,l,i,e),p.mode&1&&kh(i,u,e),e=p,c=u;var b=e.updateQueue;if(b===null){var v=new Set;v.add(c),e.updateQueue=v}else b.add(c);break e}else{if(!(e&1)){kh(i,u,e),qu();break e}c=Error(P(426))}}else if(Y&&l.mode&1){var j=Ch(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Th(j,a,l,i,e),_u(zr(c,l));break e}}i=c=zr(c,l),he!==4&&(he=2),Es===null?Es=[i]:Es.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Sg(i,c,e);wh(i,g);break e;case 1:l=c;var y=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(un===null||!un.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=Ng(i,l,e);wh(i,x);break e}}i=i.return}while(i!==null)}Bg(n)}catch(w){e=w,ce===n&&n!==null&&(ce=n=n.return);continue}break}while(!0)}function Ug(){var t=La.current;return La.current=Ia,t===null?Ia:t}function qu(){(he===0||he===3||he===2)&&(he=4),xe===null||!(Jn&268435455)&&!(ho&268435455)||en(xe,je)}function Fa(t,e){var n=B;B|=2;var r=Ug();(xe!==t||je!==e)&&(Pt=null,zn(t,e));do try{Ow();break}catch(s){Fg(t,s)}while(!0);if(Cu(),B=n,La.current=r,ce!==null)throw Error(P(261));return xe=null,je=0,he}function Ow(){for(;ce!==null;)zg(ce)}function Rw(){for(;ce!==null&&!av();)zg(ce)}function zg(t){var e=qg(t.alternate,t,We);t.memoizedProps=t.pendingProps,e===null?Bg(t):ce=e,Fu.current=null}function Bg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Tw(n,e),n!==null){n.flags&=32767,ce=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{he=6,ce=null;return}}else if(n=Cw(n,e,We),n!==null){ce=n;return}if(e=e.sibling,e!==null){ce=e;return}ce=e=t}while(e!==null);he===0&&(he=5)}function En(t,e,n){var r=q,s=tt.transition;try{tt.transition=null,q=1,Iw(t,e,n,r)}finally{tt.transition=s,q=r}return null}function Iw(t,e,n,r){do Or();while(rn!==null);if(B&6)throw Error(P(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(gv(t,i),t===xe&&(ce=xe=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bi||(Bi=!0,Hg(ba,function(){return Or(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=tt.transition,tt.transition=null;var a=q;q=1;var l=B;B|=4,Fu.current=null,Ew(t,n),Lg(n,t),nw(Xl),Sa=!!Ql,Xl=Ql=null,t.current=n,Dw(n),ov(),B=l,q=a,tt.transition=i}else t.current=n;if(Bi&&(Bi=!1,rn=t,Va=s),i=t.pendingLanes,i===0&&(un=null),uv(n.stateNode),Be(t,oe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if($a)throw $a=!1,t=xc,xc=null,t;return Va&1&&t.tag!==0&&Or(),i=t.pendingLanes,i&1?t===vc?Ds++:(Ds=0,vc=t):Ds=0,vn(),null}function Or(){if(rn!==null){var t=Sp(Va),e=tt.transition,n=q;try{if(tt.transition=null,q=16>t?16:t,rn===null)var r=!1;else{if(t=rn,rn=null,Va=0,B&6)throw Error(P(331));var s=B;for(B|=4,D=t.current;D!==null;){var i=D,a=i.child;if(D.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(D=u;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:Ps(8,d,i)}var h=d.child;if(h!==null)h.return=d,D=h;else for(;D!==null;){d=D;var f=d.sibling,p=d.return;if(Og(d),d===u){D=null;break}if(f!==null){f.return=p,D=f;break}D=p}}}var b=i.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var j=v.sibling;v.sibling=null,v=j}while(v!==null)}}D=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,D=a;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ps(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,D=g;break e}D=i.return}}var y=t.current;for(D=y;D!==null;){a=D;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,D=m;else e:for(a=y;D!==null;){if(l=D,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:uo(9,l)}}catch(w){se(l,l.return,w)}if(l===a){D=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,D=x;break e}D=l.return}}if(B=s,vn(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(no,t)}catch{}r=!0}return r}finally{q=n,tt.transition=e}}return!1}function Uh(t,e,n){e=zr(n,e),e=Sg(t,e,1),t=cn(t,e,1),e=Ae(),t!==null&&(fi(t,1,e),Be(t,e))}function se(t,e,n){if(t.tag===3)Uh(t,t,n);else for(;e!==null;){if(e.tag===3){Uh(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(un===null||!un.has(r))){t=zr(n,t),t=Ng(e,t,1),e=cn(e,t,1),t=Ae(),e!==null&&(fi(e,1,t),Be(e,t));break}}e=e.return}}function Lw(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ae(),t.pingedLanes|=t.suspendedLanes&n,xe===t&&(je&n)===n&&(he===4||he===3&&(je&130023424)===je&&500>oe()-zu?zn(t,0):Uu|=n),Be(t,e)}function Wg(t,e){e===0&&(t.mode&1?(e=Mi,Mi<<=1,!(Mi&130023424)&&(Mi=4194304)):e=1);var n=Ae();t=Vt(t,e),t!==null&&(fi(t,e,n),Be(t,n))}function $w(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Wg(t,n)}function Vw(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),Wg(t,n)}var qg;qg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ue.current)Ve=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ve=!1,kw(t,e,n);Ve=!!(t.flags&131072)}else Ve=!1,Y&&e.flags&1048576&&Jp(e,Ea,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ua(t,e),t=e.pendingProps;var s=$r(e,Te.current);Mr(e,n),s=Ru(null,e,r,t,s,n);var i=Iu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ze(r)?(i=!0,Ta(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Eu(e),s.updater=co,e.stateNode=s,s._reactInternals=e,oc(e,r,t,n),e=uc(null,e,r,!0,i,n)):(e.tag=0,Y&&i&&Su(e),Ee(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ua(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Uw(r),t=ct(r,t),s){case 0:e=cc(null,e,r,t,n);break e;case 1:e=Dh(null,e,r,t,n);break e;case 11:e=Ph(null,e,r,t,n);break e;case 14:e=Eh(null,e,r,ct(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ct(r,s),cc(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ct(r,s),Dh(t,e,r,s,n);case 3:e:{if(Tg(e),t===null)throw Error(P(387));r=e.pendingProps,i=e.memoizedState,s=i.element,tg(t,e),Ma(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=zr(Error(P(423)),e),e=Ah(t,e,r,n,s);break e}else if(r!==s){s=zr(Error(P(424)),e),e=Ah(t,e,r,n,s);break e}else for(qe=ln(e.stateNode.containerInfo.firstChild),He=e,Y=!0,ht=null,n=Zp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vr(),r===s){e=Ft(t,e,n);break e}Ee(t,e,r,n)}e=e.child}return e;case 5:return ng(e),t===null&&sc(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Zl(r,s)?a=null:i!==null&&Zl(r,i)&&(e.flags|=32),Cg(t,e),Ee(t,e,a,n),e.child;case 6:return t===null&&sc(e),null;case 13:return Pg(t,e,n);case 4:return Du(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fr(e,null,r,n):Ee(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ct(r,s),Ph(t,e,r,s,n);case 7:return Ee(t,e,e.pendingProps,n),e.child;case 8:return Ee(t,e,e.pendingProps.children,n),e.child;case 12:return Ee(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,K(Da,r._currentValue),r._currentValue=a,i!==null)if(pt(i.value,a)){if(i.children===s.children&&!Ue.current){e=Ft(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Rt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),ic(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(P(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),ic(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ee(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Mr(e,n),s=st(s),r=r(s),e.flags|=1,Ee(t,e,r,n),e.child;case 14:return r=e.type,s=ct(r,e.pendingProps),s=ct(r.type,s),Eh(t,e,r,s,n);case 15:return _g(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ct(r,s),ua(t,e),e.tag=1,ze(r)?(t=!0,Ta(e)):t=!1,Mr(e,n),jg(e,r,s),oc(e,r,s,n),uc(null,e,r,!0,t,n);case 19:return Eg(t,e,n);case 22:return kg(t,e,n)}throw Error(P(156,e.tag))};function Hg(t,e){return vp(t,e)}function Fw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function et(t,e,n,r){return new Fw(t,e,n,r)}function Hu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Uw(t){if(typeof t=="function")return Hu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===du)return 11;if(t===hu)return 14}return 2}function hn(t,e){var n=t.alternate;return n===null?(n=et(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fa(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")Hu(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case hr:return Bn(n.children,s,i,e);case uu:a=8,s|=8;break;case Dl:return t=et(12,n,e,s|2),t.elementType=Dl,t.lanes=i,t;case Al:return t=et(13,n,e,s),t.elementType=Al,t.lanes=i,t;case Ml:return t=et(19,n,e,s),t.elementType=Ml,t.lanes=i,t;case np:return fo(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ep:a=10;break e;case tp:a=9;break e;case du:a=11;break e;case hu:a=14;break e;case Qt:a=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=et(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Bn(t,e,n,r){return t=et(7,t,r,e),t.lanes=n,t}function fo(t,e,n,r){return t=et(22,t,r,e),t.elementType=np,t.lanes=n,t.stateNode={isHidden:!1},t}function rl(t,e,n){return t=et(6,t,null,e),t.lanes=n,t}function sl(t,e,n){return e=et(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zw(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$o(0),this.expirationTimes=$o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$o(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ku(t,e,n,r,s,i,a,l,c){return t=new zw(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=et(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eu(i),t}function Bw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Kg(t){if(!t)return mn;t=t._reactInternals;e:{if(Zn(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ze(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(ze(n))return Kp(t,n,e)}return e}function Gg(t,e,n,r,s,i,a,l,c){return t=Ku(n,r,!0,t,s,i,a,l,c),t.context=Kg(null),n=t.current,r=Ae(),s=dn(n),i=Rt(r,s),i.callback=e??null,cn(n,i,s),t.current.lanes=s,fi(t,s,r),Be(t,r),t}function mo(t,e,n,r){var s=e.current,i=Ae(),a=dn(s);return n=Kg(n),e.context===null?e.context=n:e.pendingContext=n,e=Rt(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=cn(s,e,a),t!==null&&(mt(t,s,a,i),oa(t,s,a)),a}function Ua(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Gu(t,e){zh(t,e),(t=t.alternate)&&zh(t,e)}function Ww(){return null}var Jg=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ju(t){this._internalRoot=t}po.prototype.render=Ju.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));mo(t,e,null,null)};po.prototype.unmount=Ju.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Yn(function(){mo(null,t,null,null)}),e[$t]=null}};function po(t){this._internalRoot=t}po.prototype.unstable_scheduleHydration=function(t){if(t){var e=kp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zt.length&&e!==0&&e<Zt[n].priority;n++);Zt.splice(n,0,t),n===0&&Tp(t)}};function Yu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function go(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bh(){}function qw(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Ua(a);i.call(u)}}var a=Gg(e,r,t,0,null,!1,!1,"",Bh);return t._reactRootContainer=a,t[$t]=a.current,Gs(t.nodeType===8?t.parentNode:t),Yn(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Ua(c);l.call(u)}}var c=Ku(t,0,!1,null,null,!1,!1,"",Bh);return t._reactRootContainer=c,t[$t]=c.current,Gs(t.nodeType===8?t.parentNode:t),Yn(function(){mo(e,c,n,r)}),c}function yo(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Ua(a);l.call(c)}}mo(e,a,t,s)}else a=qw(n,e,t,s,r);return Ua(a)}Np=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xs(e.pendingLanes);n!==0&&(pu(e,n|1),Be(e,oe()),!(B&6)&&(Br=oe()+500,vn()))}break;case 13:Yn(function(){var r=Vt(t,1);if(r!==null){var s=Ae();mt(r,t,1,s)}}),Gu(t,1)}};gu=function(t){if(t.tag===13){var e=Vt(t,134217728);if(e!==null){var n=Ae();mt(e,t,134217728,n)}Gu(t,134217728)}};_p=function(t){if(t.tag===13){var e=dn(t),n=Vt(t,e);if(n!==null){var r=Ae();mt(n,t,e,r)}Gu(t,e)}};kp=function(){return q};Cp=function(t,e){var n=q;try{return q=t,e()}finally{q=n}};Bl=function(t,e,n){switch(e){case"input":if(Il(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ao(r);if(!s)throw Error(P(90));sp(r),Il(r,s)}}}break;case"textarea":ap(t,n);break;case"select":e=n.value,e!=null&&Pr(t,!!n.multiple,e,!1)}};fp=Bu;mp=Yn;var Hw={usingClientEntryPoint:!1,Events:[pi,gr,ao,dp,hp,Bu]},us={findFiberByHostInstance:Ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kw={bundleType:us.bundleType,version:us.version,rendererPackageName:us.rendererPackageName,rendererConfig:us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yp(t),t===null?null:t.stateNode},findFiberByHostInstance:us.findFiberByHostInstance||Ww,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wi.isDisabled&&Wi.supportsFiber)try{no=Wi.inject(Kw),bt=Wi}catch{}}Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hw;Ge.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yu(e))throw Error(P(200));return Bw(t,e,null,n)};Ge.createRoot=function(t,e){if(!Yu(t))throw Error(P(299));var n=!1,r="",s=Jg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ku(t,1,!1,null,null,n,!1,r,s),t[$t]=e.current,Gs(t.nodeType===8?t.parentNode:t),new Ju(e)};Ge.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=yp(e),t=t===null?null:t.stateNode,t};Ge.flushSync=function(t){return Yn(t)};Ge.hydrate=function(t,e,n){if(!go(e))throw Error(P(200));return yo(null,t,e,!0,n)};Ge.hydrateRoot=function(t,e,n){if(!Yu(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Jg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Gg(e,null,t,1,n??null,s,!1,i,a),t[$t]=e.current,Gs(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new po(e)};Ge.render=function(t,e,n){if(!go(e))throw Error(P(200));return yo(null,t,e,!1,n)};Ge.unmountComponentAtNode=function(t){if(!go(t))throw Error(P(40));return t._reactRootContainer?(Yn(function(){yo(null,null,t,!1,function(){t._reactRootContainer=null,t[$t]=null})}),!0):!1};Ge.unstable_batchedUpdates=Bu;Ge.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!go(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return yo(t,e,n,!1,r)};Ge.version="18.3.1-next-f1338f8080-20240426";function Yg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yg)}catch(t){console.error(t)}}Yg(),Ym.exports=Ge;var Gw=Ym.exports,Qg,Wh=Gw;Qg=Wh.createRoot,Wh.hydrateRoot;const Qu=_.createContext({});function Xu(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const Zu=typeof window<"u",Xg=Zu?_.useLayoutEffect:_.useEffect,xo=_.createContext(null);function ed(t,e){t.indexOf(e)===-1&&t.push(e)}function td(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ut=(t,e,n)=>n>e?e:n<t?t:n;let za=()=>{};const zt={},Zg=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function e0(t){return typeof t=="object"&&t!==null}const t0=t=>/^0[^.\s]+$/u.test(t);function nd(t){let e;return()=>(e===void 0&&(e=t()),e)}const nt=t=>t,Jw=(t,e)=>n=>e(t(n)),yi=(...t)=>t.reduce(Jw),ri=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class rd{constructor(){this.subscriptions=[]}add(e){return ed(this.subscriptions,e),()=>td(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const St=t=>t*1e3,Nt=t=>t/1e3;function n0(t,e){return e?t*(1e3/e):0}const r0=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Yw=1e-7,Qw=12;function Xw(t,e,n,r,s){let i,a,l=0;do a=e+(n-e)/2,i=r0(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>Yw&&++l<Qw);return a}function xi(t,e,n,r){if(t===e&&n===r)return nt;const s=i=>Xw(i,0,1,t,n);return i=>i===0||i===1?i:r0(s(i),e,r)}const s0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,i0=t=>e=>1-t(1-e),a0=xi(.33,1.53,.69,.99),sd=i0(a0),o0=s0(sd),l0=t=>(t*=2)<1?.5*sd(t):.5*(2-Math.pow(2,-10*(t-1))),id=t=>1-Math.sin(Math.acos(t)),c0=i0(id),u0=s0(id),Zw=xi(.42,0,1,1),e1=xi(0,0,.58,1),d0=xi(.42,0,.58,1),t1=t=>Array.isArray(t)&&typeof t[0]!="number",h0=t=>Array.isArray(t)&&typeof t[0]=="number",qh={linear:nt,easeIn:Zw,easeInOut:d0,easeOut:e1,circIn:id,circInOut:u0,circOut:c0,backIn:sd,backInOut:o0,backOut:a0,anticipate:l0},n1=t=>typeof t=="string",Hh=t=>{if(h0(t)){za(t.length===4);const[e,n,r,s]=t;return xi(e,n,r,s)}else if(n1(t))return za(qh[t]!==void 0),qh[t];return t},qi=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Kh={value:null,addProjectionMetrics:null};function r1(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){a.has(h)&&(d.schedule(h),t()),c++,h(l)}const d={schedule:(h,f=!1,p=!1)=>{const v=p&&s?n:r;return f&&a.add(h),v.has(h)||v.add(h),h},cancel:h=>{r.delete(h),a.delete(h)},process:h=>{if(l=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),e&&Kh.value&&Kh.value.frameloop[e].push(c),c=0,n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const s1=40;function f0(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=qi.reduce((m,x)=>(m[x]=r1(i,e?x:void 0),m),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:p,postRender:b}=a,v=()=>{const m=zt.useManualTiming?s.timestamp:performance.now();n=!1,zt.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(m-s.timestamp,s1),1)),s.timestamp=m,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),p.process(s),b.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(v))},j=()=>{n=!0,r=!0,s.isProcessing||t(v)};return{schedule:qi.reduce((m,x)=>{const w=a[x];return m[x]=(S,N=!1,k=!1)=>(n||j(),w.schedule(S,N,k)),m},{}),cancel:m=>{for(let x=0;x<qi.length;x++)a[qi[x]].cancel(m)},state:s,steps:a}}const{schedule:Q,cancel:pn,state:be,steps:il}=f0(typeof requestAnimationFrame<"u"?requestAnimationFrame:nt,!0);let ma;function i1(){ma=void 0}const Fe={now:()=>(ma===void 0&&Fe.set(be.isProcessing||zt.useManualTiming?be.timestamp:performance.now()),ma),set:t=>{ma=t,queueMicrotask(i1)}},m0=t=>e=>typeof e=="string"&&e.startsWith(t),ad=m0("--"),a1=m0("var(--"),od=t=>a1(t)?o1.test(t.split("/*")[0].trim()):!1,o1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Xr={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},si={...Xr,transform:t=>Ut(0,1,t)},Hi={...Xr,default:1},As=t=>Math.round(t*1e5)/1e5,ld=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function l1(t){return t==null}const c1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cd=(t,e)=>n=>!!(typeof n=="string"&&c1.test(n)&&n.startsWith(t)||e&&!l1(n)&&Object.prototype.hasOwnProperty.call(n,e)),p0=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,l]=r.match(ld);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},u1=t=>Ut(0,255,t),al={...Xr,transform:t=>Math.round(u1(t))},Fn={test:cd("rgb","red"),parse:p0("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+al.transform(t)+", "+al.transform(e)+", "+al.transform(n)+", "+As(si.transform(r))+")"};function d1(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const jc={test:cd("#"),parse:d1,transform:Fn.transform},vi=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Jt=vi("deg"),_t=vi("%"),O=vi("px"),h1=vi("vh"),f1=vi("vw"),Gh={..._t,parse:t=>_t.parse(t)/100,transform:t=>_t.transform(t*100)},Sr={test:cd("hsl","hue"),parse:p0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+_t.transform(As(e))+", "+_t.transform(As(n))+", "+As(si.transform(r))+")"},le={test:t=>Fn.test(t)||jc.test(t)||Sr.test(t),parse:t=>Fn.test(t)?Fn.parse(t):Sr.test(t)?Sr.parse(t):jc.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Fn.transform(t):Sr.transform(t),getAnimatableNone:t=>{const e=le.parse(t);return e.alpha=0,le.transform(e)}},m1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function p1(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ld))==null?void 0:e.length)||0)+(((n=t.match(m1))==null?void 0:n.length)||0)>0}const g0="number",y0="color",g1="var",y1="var(",Jh="${}",x1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ii(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(x1,c=>(le.test(c)?(r.color.push(i),s.push(y0),n.push(le.parse(c))):c.startsWith(y1)?(r.var.push(i),s.push(g1),n.push(c)):(r.number.push(i),s.push(g0),n.push(parseFloat(c))),++i,Jh)).split(Jh);return{values:n,split:l,indexes:r,types:s}}function x0(t){return ii(t).values}function v0(t){const{split:e,types:n}=ii(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const l=n[a];l===g0?i+=As(s[a]):l===y0?i+=le.transform(s[a]):i+=s[a]}return i}}const v1=t=>typeof t=="number"?0:le.test(t)?le.getAnimatableNone(t):t;function w1(t){const e=x0(t);return v0(t)(e.map(v1))}const gn={test:p1,parse:x0,createTransformer:v0,getAnimatableNone:w1};function ol(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function b1({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=ol(c,l,t+1/3),i=ol(c,l,t),a=ol(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function Ba(t,e){return n=>n>0?e:t}const ee=(t,e,n)=>t+(e-t)*n,ll=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},j1=[jc,Fn,Sr],S1=t=>j1.find(e=>e.test(t));function Yh(t){const e=S1(t);if(!e)return!1;let n=e.parse(t);return e===Sr&&(n=b1(n)),n}const Qh=(t,e)=>{const n=Yh(t),r=Yh(e);if(!n||!r)return Ba(t,e);const s={...n};return i=>(s.red=ll(n.red,r.red,i),s.green=ll(n.green,r.green,i),s.blue=ll(n.blue,r.blue,i),s.alpha=ee(n.alpha,r.alpha,i),Fn.transform(s))},Sc=new Set(["none","hidden"]);function N1(t,e){return Sc.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function _1(t,e){return n=>ee(t,e,n)}function ud(t){return typeof t=="number"?_1:typeof t=="string"?od(t)?Ba:le.test(t)?Qh:T1:Array.isArray(t)?w0:typeof t=="object"?le.test(t)?Qh:k1:Ba}function w0(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>ud(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function k1(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=ud(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function C1(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],l=t.values[a]??0;n[s]=l,r[i]++}return n}const T1=(t,e)=>{const n=gn.createTransformer(e),r=ii(t),s=ii(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Sc.has(t)&&!s.values.length||Sc.has(e)&&!r.values.length?N1(t,e):yi(w0(C1(r,s),s.values),n):Ba(t,e)};function b0(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ee(t,e,n):ud(t)(t,e)}const P1=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Q.update(e,n),stop:()=>pn(e),now:()=>be.isProcessing?be.timestamp:Fe.now()}},j0=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Wa=2e4;function dd(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Wa;)e+=n,r=t.next(e);return e>=Wa?1/0:e}function E1(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(dd(r),Wa);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Nt(s)}}const D1=5;function S0(t,e,n){const r=Math.max(e-D1,0);return n0(n-t(r),e-r)}const re={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cl=.001;function A1({duration:t=re.duration,bounce:e=re.bounce,velocity:n=re.velocity,mass:r=re.mass}){let s,i,a=1-e;a=Ut(re.minDamping,re.maxDamping,a),t=Ut(re.minDuration,re.maxDuration,Nt(t)),a<1?(s=u=>{const d=u*a,h=d*t,f=d-n,p=Nc(u,a),b=Math.exp(-h);return cl-f/p*b},i=u=>{const h=u*a*t,f=h*n+n,p=Math.pow(a,2)*Math.pow(u,2)*t,b=Math.exp(-h),v=Nc(Math.pow(u,2),a);return(-s(u)+cl>0?-1:1)*((f-p)*b)/v}):(s=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-cl+d*h},i=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const l=5/t,c=O1(s,i,l);if(t=St(t),isNaN(c))return{stiffness:re.stiffness,damping:re.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const M1=12;function O1(t,e,n){let r=n;for(let s=1;s<M1;s++)r=r-t(r)/e(r);return r}function Nc(t,e){return t*Math.sqrt(1-e*e)}const R1=["duration","bounce"],I1=["stiffness","damping","mass"];function Xh(t,e){return e.some(n=>t[n]!==void 0)}function L1(t){let e={velocity:re.velocity,stiffness:re.stiffness,damping:re.damping,mass:re.mass,isResolvedFromDuration:!1,...t};if(!Xh(t,I1)&&Xh(t,R1))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Ut(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:re.mass,stiffness:s,damping:i}}else{const n=A1(t);e={...e,...n,mass:re.mass},e.isResolvedFromDuration=!0}return e}function qa(t=re.visualDuration,e=re.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=L1({...n,velocity:-Nt(n.velocity||0)}),b=f||0,v=u/(2*Math.sqrt(c*d)),j=a-i,g=Nt(Math.sqrt(c/d)),y=Math.abs(j)<5;r||(r=y?re.restSpeed.granular:re.restSpeed.default),s||(s=y?re.restDelta.granular:re.restDelta.default);let m;if(v<1){const w=Nc(g,v);m=S=>{const N=Math.exp(-v*g*S);return a-N*((b+v*g*j)/w*Math.sin(w*S)+j*Math.cos(w*S))}}else if(v===1)m=w=>a-Math.exp(-g*w)*(j+(b+g*j)*w);else{const w=g*Math.sqrt(v*v-1);m=S=>{const N=Math.exp(-v*g*S),k=Math.min(w*S,300);return a-N*((b+v*g*j)*Math.sinh(k)+w*j*Math.cosh(k))/w}}const x={calculatedDuration:p&&h||null,next:w=>{const S=m(w);if(p)l.done=w>=h;else{let N=w===0?b:0;v<1&&(N=w===0?St(b):S0(m,w,S));const k=Math.abs(N)<=r,T=Math.abs(a-S)<=s;l.done=k&&T}return l.value=l.done?a:S,l},toString:()=>{const w=Math.min(dd(x),Wa),S=j0(N=>x.next(w*N).value,w,30);return w+"ms "+S},toTransition:()=>{}};return x}qa.applyToOptions=t=>{const e=E1(t,100,qa);return t.ease=e.ease,t.duration=St(e.duration),t.type="keyframes",t};function _c({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},p=k=>l!==void 0&&k<l||c!==void 0&&k>c,b=k=>l===void 0?c:c===void 0||Math.abs(l-k)<Math.abs(c-k)?l:c;let v=n*e;const j=h+v,g=a===void 0?j:a(j);g!==j&&(v=g-h);const y=k=>-v*Math.exp(-k/r),m=k=>g+y(k),x=k=>{const T=y(k),C=m(k);f.done=Math.abs(T)<=u,f.value=f.done?g:C};let w,S;const N=k=>{p(f.value)&&(w=k,S=qa({keyframes:[f.value,b(f.value)],velocity:S0(m,k,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:k=>{let T=!1;return!S&&w===void 0&&(T=!0,x(k),N(k)),w!==void 0&&k>=w?S.next(k-w):(!T&&x(k),f)}}}function $1(t,e,n){const r=[],s=n||zt.mix||b0,i=t.length-1;for(let a=0;a<i;a++){let l=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||nt:e;l=yi(c,l)}r.push(l)}return r}function V1(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(za(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=$1(e,r,s),c=l.length,u=d=>{if(a&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=ri(t[h],t[h+1],d);return l[h](f)};return n?d=>u(Ut(t[0],t[i-1],d)):u}function F1(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ri(0,e,r);t.push(ee(n,1,s))}}function U1(t){const e=[0];return F1(e,t.length-1),e}function z1(t,e){return t.map(n=>n*e)}function B1(t,e){return t.map(()=>e||d0).splice(0,t.length-1)}function Ms({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=t1(r)?r.map(Hh):Hh(r),i={done:!1,value:e[0]},a=z1(n&&n.length===e.length?n:U1(e),t),l=V1(a,e,{ease:Array.isArray(s)?s:B1(e,s)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const W1=t=>t!==null;function hd(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(W1),l=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const q1={decay:_c,inertia:_c,tween:Ms,keyframes:Ms,spring:qa};function N0(t){typeof t.type=="string"&&(t.type=q1[t.type])}class fd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const H1=t=>t/100;class md extends fd{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Fe.now()&&this.tick(Fe.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;N0(e);const{type:n=Ms,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:l}=e;const c=n||Ms;c!==Ms&&typeof l[0]!="number"&&(this.mixKeyframes=yi(H1,b0(l[0],l[1])),l=[0,100]);const u=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=dd(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:p,type:b,onUpdate:v,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let m=this.currentTime,x=r;if(h){const k=Math.min(this.currentTime,s)/l;let T=Math.floor(k),C=k%1;!C&&k>=1&&(C=1),C===1&&T--,T=Math.min(T,h+1),!!(T%2)&&(f==="reverse"?(C=1-C,p&&(C-=p/l)):f==="mirror"&&(x=a)),m=Ut(0,1,C)*l}const w=y?{done:!1,value:d[0]}:x.next(m);i&&(w.value=i(w.value));let{done:S}=w;!y&&c!==null&&(S=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return N&&b!==_c&&(w.value=hd(d,this.options,j,this.speed)),v&&v(w.value),N&&this.finish(),w}then(e,n){return this.finished.then(e,n)}get duration(){return Nt(this.calculatedDuration)}get time(){return Nt(this.currentTime)}set time(e){var n;e=St(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Fe.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Nt(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=P1,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function K1(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Un=t=>t*180/Math.PI,kc=t=>{const e=Un(Math.atan2(t[1],t[0]));return Cc(e)},G1={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:kc,rotateZ:kc,skewX:t=>Un(Math.atan(t[1])),skewY:t=>Un(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Cc=t=>(t=t%360,t<0&&(t+=360),t),Zh=kc,ef=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),tf=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),J1={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ef,scaleY:tf,scale:t=>(ef(t)+tf(t))/2,rotateX:t=>Cc(Un(Math.atan2(t[6],t[5]))),rotateY:t=>Cc(Un(Math.atan2(-t[2],t[0]))),rotateZ:Zh,rotate:Zh,skewX:t=>Un(Math.atan(t[4])),skewY:t=>Un(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Tc(t){return t.includes("scale")?1:0}function Pc(t,e){if(!t||t==="none")return Tc(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=J1,s=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=G1,s=l}if(!s)return Tc(e);const i=r[e],a=s[1].split(",").map(Q1);return typeof i=="function"?i(a):a[i]}const Y1=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Pc(n,e)};function Q1(t){return parseFloat(t.trim())}const Zr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],es=new Set(Zr),nf=t=>t===Xr||t===O,X1=new Set(["x","y","z"]),Z1=Zr.filter(t=>!X1.has(t));function eb(t){const e=[];return Z1.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Wn={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Pc(e,"x"),y:(t,{transform:e})=>Pc(e,"y")};Wn.translateX=Wn.x;Wn.translateY=Wn.y;const qn=new Set;let Ec=!1,Dc=!1,Ac=!1;function _0(){if(Dc){const t=Array.from(qn).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=eb(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var l;(l=r.getValue(i))==null||l.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Dc=!1,Ec=!1,qn.forEach(t=>t.complete(Ac)),qn.clear()}function k0(){qn.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Dc=!0)})}function tb(){Ac=!0,k0(),_0(),Ac=!1}class pd{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(qn.add(this),Ec||(Ec=!0,Q.read(k0),Q.resolveKeyframes(_0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}K1(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),qn.delete(this)}cancel(){this.state==="scheduled"&&(qn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const nb=t=>t.startsWith("--");function rb(t,e,n){nb(e)?t.style.setProperty(e,n):t.style[e]=n}const sb=nd(()=>window.ScrollTimeline!==void 0),ib={};function ab(t,e){const n=nd(t);return()=>ib[e]??n()}const C0=ab(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ws=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,rf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ws([0,.65,.55,1]),circOut:ws([.55,0,1,.45]),backIn:ws([.31,.01,.66,-.59]),backOut:ws([.33,1.53,.69,.99])};function T0(t,e){if(t)return typeof t=="function"?C0()?j0(t,e):"ease-out":h0(t)?ws(t):Array.isArray(t)?t.map(n=>T0(n,e)||rf.easeOut):rf[t]}function ob(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[e]:n};c&&(d.offset=c);const h=T0(l,s);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(d,f)}function P0(t){return typeof t=="function"&&"applyToOptions"in t}function lb({type:t,...e}){return P0(t)&&C0()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class cb extends fd{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,za(typeof e.type!="string");const u=lb(e);this.animation=ob(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=hd(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):rb(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Nt(Number(e))}get time(){return Nt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=St(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&sb()?(this.animation.timeline=e,nt):n(this)}}const E0={anticipate:l0,backInOut:o0,circInOut:u0};function ub(t){return t in E0}function db(t){typeof t.ease=="string"&&ub(t.ease)&&(t.ease=E0[t.ease])}const sf=10;class hb extends cb{constructor(e){db(e),N0(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new md({...a,autoplay:!1}),c=St(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-sf).value,l.sample(c).value,sf),l.stop()}}const af=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(gn.test(t)||t==="0")&&!t.startsWith("url("));function fb(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function mb(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=af(s,e),l=af(i,e);return!a||!l?!1:fb(t)||(n==="spring"||P0(n))&&r}function Mc(t){t.duration=0,t.type}const pb=new Set(["opacity","clipPath","filter","transform"]),gb=nd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function yb(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return gb()&&n&&pb.has(n)&&(n!=="transform"||!u)&&!c&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const xb=40;class vb extends fd{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var b;super(),this.stop=()=>{var v,j;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=Fe.now();const f={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:c,motionValue:u,element:d,...h},p=(d==null?void 0:d.KeyframeResolver)||pd;this.keyframeResolver=new p(l,(v,j,g)=>this.onKeyframesResolved(v,j,f,!g),c,u,d),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=Fe.now(),mb(e,i,a,l)||((zt.instantAnimations||!c)&&(d==null||d(hd(e,r,n))),e[0]=e[e.length-1],Mc(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>xb?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},p=!u&&yb(f)?new hb({...f,element:f.motionValue.owner.current}):new md(f);p.finished.then(()=>this.notifyFinished()).catch(nt),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),tb()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const wb=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bb(t){const e=wb.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function D0(t,e,n=1){const[r,s]=bb(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return Zg(a)?parseFloat(a):a}return od(s)?D0(s,e,n+1):s}function gd(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const A0=new Set(["width","height","top","left","right","bottom",...Zr]),jb={test:t=>t==="auto",parse:t=>t},M0=t=>e=>e.test(t),O0=[Xr,O,_t,Jt,f1,h1,jb],of=t=>O0.find(M0(t));function Sb(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||t0(t):!0}const Nb=new Set(["brightness","contrast","saturate","opacity"]);function _b(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ld)||[];if(!r)return t;const s=n.replace(r,"");let i=Nb.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const kb=/\b([a-z-]*)\(.*?\)/gu,Oc={...gn,getAnimatableNone:t=>{const e=t.match(kb);return e?e.map(_b).join(" "):t}},lf={...Xr,transform:Math.round},Cb={rotate:Jt,rotateX:Jt,rotateY:Jt,rotateZ:Jt,scale:Hi,scaleX:Hi,scaleY:Hi,scaleZ:Hi,skew:Jt,skewX:Jt,skewY:Jt,distance:O,translateX:O,translateY:O,translateZ:O,x:O,y:O,z:O,perspective:O,transformPerspective:O,opacity:si,originX:Gh,originY:Gh,originZ:O},yd={borderWidth:O,borderTopWidth:O,borderRightWidth:O,borderBottomWidth:O,borderLeftWidth:O,borderRadius:O,radius:O,borderTopLeftRadius:O,borderTopRightRadius:O,borderBottomRightRadius:O,borderBottomLeftRadius:O,width:O,maxWidth:O,height:O,maxHeight:O,top:O,right:O,bottom:O,left:O,padding:O,paddingTop:O,paddingRight:O,paddingBottom:O,paddingLeft:O,margin:O,marginTop:O,marginRight:O,marginBottom:O,marginLeft:O,backgroundPositionX:O,backgroundPositionY:O,...Cb,zIndex:lf,fillOpacity:si,strokeOpacity:si,numOctaves:lf},Tb={...yd,color:le,backgroundColor:le,outlineColor:le,fill:le,stroke:le,borderColor:le,borderTopColor:le,borderRightColor:le,borderBottomColor:le,borderLeftColor:le,filter:Oc,WebkitFilter:Oc},R0=t=>Tb[t];function I0(t,e){let n=R0(t);return n!==Oc&&(n=gn),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Pb=new Set(["auto","none","0"]);function Eb(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!Pb.has(i)&&ii(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=I0(n,s)}class Db extends pd{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),od(u))){const d=D0(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!A0.has(r)||e.length!==2)return;const[s,i]=e,a=of(s),l=of(i);if(a!==l)if(nf(a)&&nf(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else Wn[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||Sb(e[s]))&&r.push(s);r.length&&Eb(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wn[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=Wn[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Ab(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const L0=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function $0(t){return e0(t)&&"offsetHeight"in t}const cf=30,Mb=t=>!isNaN(parseFloat(t));class Ob{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Fe.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Fe.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Mb(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new rd);const r=this.events[e].add(n);return e==="change"?()=>{r(),Q.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Fe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>cf)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,cf);return n0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wr(t,e){return new Ob(t,e)}const{schedule:xd,cancel:qT}=f0(queueMicrotask,!1),lt={x:!1,y:!1};function V0(){return lt.x||lt.y}function Rb(t){return t==="x"||t==="y"?lt[t]?null:(lt[t]=!0,()=>{lt[t]=!1}):lt.x||lt.y?null:(lt.x=lt.y=!0,()=>{lt.x=lt.y=!1})}function F0(t,e){const n=Ab(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function uf(t){return!(t.pointerType==="touch"||V0())}function Ib(t,e,n={}){const[r,s,i]=F0(t,n),a=l=>{if(!uf(l))return;const{target:c}=l,u=e(c,l);if(typeof u!="function"||!c)return;const d=h=>{uf(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return r.forEach(l=>{l.addEventListener("pointerenter",a,s)}),i}const U0=(t,e)=>e?t===e?!0:U0(t,e.parentElement):!1,vd=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Lb=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $b(t){return Lb.has(t.tagName)||t.tabIndex!==-1}const pa=new WeakSet;function df(t){return e=>{e.key==="Enter"&&t(e)}}function ul(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Vb=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=df(()=>{if(pa.has(n))return;ul(n,"down");const s=df(()=>{ul(n,"up")}),i=()=>ul(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function hf(t){return vd(t)&&!V0()}function Fb(t,e,n={}){const[r,s,i]=F0(t,n),a=l=>{const c=l.currentTarget;if(!hf(l))return;pa.add(c);const u=e(c,l),d=(p,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),pa.has(c)&&pa.delete(c),hf(p)&&typeof u=="function"&&u(p,{success:b})},h=p=>{d(p,c===window||c===document||n.useGlobalTarget||U0(c,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),$0(l)&&(l.addEventListener("focus",u=>Vb(u,s)),!$b(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function z0(t){return e0(t)&&"ownerSVGElement"in t}function Ub(t){return z0(t)&&t.tagName==="svg"}const Ce=t=>!!(t&&t.getVelocity),zb=[...O0,le,gn],Bb=t=>zb.find(M0(t)),wd=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Wb extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=$0(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function qb({children:t,isPresent:e,anchorX:n,root:r}){const s=_.useId(),i=_.useRef(null),a=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=_.useContext(wd);return _.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:h,right:f}=a.current;if(e||!i.current||!c||!u)return;const p=n==="left"?`left: ${h}`:`right: ${f}`;i.current.dataset.motionPopId=s;const b=document.createElement("style");l&&(b.nonce=l);const v=r??document.head;return v.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${p}px !important;
            top: ${d}px !important;
          }
        `),()=>{v.contains(b)&&v.removeChild(b)}},[e]),o.jsx(Wb,{isPresent:e,childRef:i,sizeRef:a,children:_.cloneElement(t,{ref:i})})}const Hb=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:l,root:c})=>{const u=Xu(Kb),d=_.useId();let h=!0,f=_.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:n,custom:s,onExitComplete:p=>{u.set(p,!0);for(const b of u.values())if(!b)return;r&&r()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[n,u,r]);return i&&h&&(f={...f}),_.useMemo(()=>{u.forEach((p,b)=>u.set(b,!1))},[n]),_.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),a==="popLayout"&&(t=o.jsx(qb,{isPresent:n,anchorX:l,root:c,children:t})),o.jsx(xo.Provider,{value:f,children:t})};function Kb(){return new Map}function B0(t=!0){const e=_.useContext(xo);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=_.useId();_.useEffect(()=>{if(t)return s(i)},[t]);const a=_.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const Ki=t=>t.key||"";function ff(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const Gb=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[u,d]=B0(a),h=_.useMemo(()=>ff(t),[t]),f=a&&!u?[]:h.map(Ki),p=_.useRef(!0),b=_.useRef(h),v=Xu(()=>new Map),[j,g]=_.useState(h),[y,m]=_.useState(h);Xg(()=>{p.current=!1,b.current=h;for(let S=0;S<y.length;S++){const N=Ki(y[S]);f.includes(N)?v.delete(N):v.get(N)!==!0&&v.set(N,!1)}},[y,f.length,f.join("-")]);const x=[];if(h!==j){let S=[...h];for(let N=0;N<y.length;N++){const k=y[N],T=Ki(k);f.includes(T)||(S.splice(N,0,k),x.push(k))}return i==="wait"&&x.length&&(S=x),m(ff(S)),g(h),null}const{forceRender:w}=_.useContext(Qu);return o.jsx(o.Fragment,{children:y.map(S=>{const N=Ki(S),k=a&&!u?!1:h===y||f.includes(N),T=()=>{if(v.has(N))v.set(N,!0);else return;let C=!0;v.forEach(A=>{A||(C=!1)}),C&&(w==null||w(),m(b.current),a&&(d==null||d()),r&&r())};return o.jsx(Hb,{isPresent:k,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:k?void 0:T,anchorX:l,children:S},N)})})},W0=_.createContext({strict:!1}),mf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qr={};for(const t in mf)qr[t]={isEnabled:e=>mf[t].some(n=>!!e[n])};function Jb(t){for(const e in t)qr[e]={...qr[e],...t[e]}}const Yb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ha(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Yb.has(t)}let q0=t=>!Ha(t);function Qb(t){typeof t=="function"&&(q0=e=>e.startsWith("on")?!Ha(e):t(e))}try{Qb(require("@emotion/is-prop-valid").default)}catch{}function Xb(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(q0(s)||n===!0&&Ha(s)||!e&&!Ha(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const vo=_.createContext({});function wo(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ai(t){return typeof t=="string"||Array.isArray(t)}const bd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jd=["initial",...bd];function bo(t){return wo(t.animate)||jd.some(e=>ai(t[e]))}function H0(t){return!!(bo(t)||t.variants)}function Zb(t,e){if(bo(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ai(n)?n:void 0,animate:ai(r)?r:void 0}}return t.inherit!==!1?e:{}}function ej(t){const{initial:e,animate:n}=Zb(t,_.useContext(vo));return _.useMemo(()=>({initial:e,animate:n}),[pf(e),pf(n)])}function pf(t){return Array.isArray(t)?t.join(" "):t}const oi={};function tj(t){for(const e in t)oi[e]=t[e],ad(e)&&(oi[e].isCSSVariable=!0)}function K0(t,{layout:e,layoutId:n}){return es.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!oi[t]||t==="opacity")}const nj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rj=Zr.length;function sj(t,e,n){let r="",s=!0;for(let i=0;i<rj;i++){const a=Zr[i],l=t[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=L0(l,yd[a]);if(!c){s=!1;const d=nj[a]||a;r+=`${d}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Sd(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,l=!1;for(const c in e){const u=e[c];if(es.has(c)){a=!0;continue}else if(ad(c)){s[c]=u;continue}else{const d=L0(u,yd[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(e.transform||(a||n?r.transform=sj(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const Nd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function G0(t,e,n){for(const r in e)!Ce(e[r])&&!K0(r,n)&&(t[r]=e[r])}function ij({transformTemplate:t},e){return _.useMemo(()=>{const n=Nd();return Sd(n,e,t),Object.assign({},n.vars,n.style)},[e])}function aj(t,e){const n=t.style||{},r={};return G0(r,n,t),Object.assign(r,ij(t,e)),r}function oj(t,e){const n={},r=aj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const lj={offset:"stroke-dashoffset",array:"stroke-dasharray"},cj={offset:"strokeDashoffset",array:"strokeDasharray"};function uj(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?lj:cj;t[i.offset]=O.transform(-r);const a=O.transform(e),l=O.transform(n);t[i.array]=`${a} ${l}`}function J0(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...l},c,u,d){if(Sd(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&uj(h,s,i,a,!1)}const Y0=()=>({...Nd(),attrs:{}}),Q0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function dj(t,e,n,r){const s=_.useMemo(()=>{const i=Y0();return J0(i,e,Q0(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};G0(i,t.style,t),s.style={...i,...s.style}}return s}const hj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _d(t){return typeof t!="string"||t.includes("-")?!1:!!(hj.indexOf(t)>-1||/[A-Z]/u.test(t))}function fj(t,e,n,{latestValues:r},s,i=!1){const l=(_d(t)?dj:oj)(e,r,s,t),c=Xb(e,typeof t=="string",i),u=t!==_.Fragment?{...c,...l,ref:n}:{},{children:d}=e,h=_.useMemo(()=>Ce(d)?d.get():d,[d]);return _.createElement(t,{...u,children:h})}function gf(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function kd(t,e,n,r){if(typeof e=="function"){const[s,i]=gf(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=gf(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function ga(t){return Ce(t)?t.get():t}function mj({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:pj(n,r,s,t),renderState:e()}}function pj(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=ga(i[f]);let{initial:a,animate:l}=t;const c=bo(t),u=H0(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?l:a;if(h&&typeof h!="boolean"&&!wo(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const b=kd(t,f[p]);if(b){const{transitionEnd:v,transition:j,...g}=b;for(const y in g){let m=g[y];if(Array.isArray(m)){const x=d?m.length-1:0;m=m[x]}m!==null&&(s[y]=m)}for(const y in v)s[y]=v[y]}}}return s}const X0=t=>(e,n)=>{const r=_.useContext(vo),s=_.useContext(xo),i=()=>mj(t,e,r,s);return n?i():Xu(i)};function Cd(t,e,n){var i;const{style:r}=t,s={};for(const a in r)(Ce(r[a])||e.style&&Ce(e.style[a])||K0(a,t)||((i=n==null?void 0:n.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}const gj=X0({scrapeMotionValuesFromProps:Cd,createRenderState:Nd});function Z0(t,e,n){const r=Cd(t,e,n);for(const s in t)if(Ce(t[s])||Ce(e[s])){const i=Zr.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const yj=X0({scrapeMotionValuesFromProps:Z0,createRenderState:Y0}),xj=Symbol.for("motionComponentSymbol");function Nr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function vj(t,e,n){return _.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Nr(n)&&(n.current=r))},[e])}const Td=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),wj="framerAppearId",ey="data-"+Td(wj),ty=_.createContext({});function bj(t,e,n,r,s){var v,j;const{visualElement:i}=_.useContext(vo),a=_.useContext(W0),l=_.useContext(xo),c=_.useContext(wd).reducedMotion,u=_.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=_.useContext(ty);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&jj(u.current,n,s,h);const f=_.useRef(!1);_.useInsertionEffect(()=>{d&&f.current&&d.update(n,l)});const p=n[ey],b=_.useRef(!!p&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,p))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,p)));return Xg(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),b.current&&d.animationState&&d.animationState.animateChanges())}),_.useEffect(()=>{d&&(!b.current&&d.animationState&&d.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,p)}),b.current=!1),d.enteringChildren=void 0)}),d}function jj(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ny(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||l&&Nr(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function ny(t){if(t)return t.options.allowProjection!==!1?t.projection:ny(t.parent)}function dl(t,{forwardMotionProps:e=!1}={},n,r){n&&Jb(n);const s=_d(t)?yj:gj;function i(l,c){let u;const d={..._.useContext(wd),...l,layoutId:Sj(l)},{isStatic:h}=d,f=ej(l),p=s(l,h);if(!h&&Zu){Nj();const b=_j(d);u=b.MeasureLayout,f.visualElement=bj(t,p,d,r,b.ProjectionNode)}return o.jsxs(vo.Provider,{value:f,children:[u&&f.visualElement?o.jsx(u,{visualElement:f.visualElement,...d}):null,fj(t,l,vj(p,f.visualElement,c),p,h,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=_.forwardRef(i);return a[xj]=t,a}function Sj({layoutId:t}){const e=_.useContext(Qu).id;return e&&t!==void 0?e+"-"+t:t}function Nj(t,e){_.useContext(W0).strict}function _j(t){const{drag:e,layout:n}=qr;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function kj(t,e){if(typeof Proxy>"u")return dl;const n=new Map,r=(i,a)=>dl(i,a,t,e),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,dl(a,void 0,t,e)),n.get(a))})}function ry({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Cj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Tj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function hl(t){return t===void 0||t===1}function Rc({scale:t,scaleX:e,scaleY:n}){return!hl(t)||!hl(e)||!hl(n)}function Dn(t){return Rc(t)||sy(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function sy(t){return yf(t.x)||yf(t.y)}function yf(t){return t&&t!=="0%"}function Ka(t,e,n){const r=t-n,s=e*r;return n+s}function xf(t,e,n,r,s){return s!==void 0&&(t=Ka(t,s,r)),Ka(t,n,r)+e}function Ic(t,e=0,n=1,r,s){t.min=xf(t.min,e,n,r,s),t.max=xf(t.max,e,n,r,s)}function iy(t,{x:e,y:n}){Ic(t.x,e.translate,e.scale,e.originPoint),Ic(t.y,n.translate,n.scale,n.originPoint)}const vf=.999999999999,wf=1.0000000000001;function Pj(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&kr(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,iy(t,a)),r&&Dn(i.latestValues)&&kr(t,i.latestValues))}e.x<wf&&e.x>vf&&(e.x=1),e.y<wf&&e.y>vf&&(e.y=1)}function _r(t,e){t.min=t.min+e,t.max=t.max+e}function bf(t,e,n,r,s=.5){const i=ee(t.min,t.max,s);Ic(t,e,n,i,r)}function kr(t,e){bf(t.x,e.x,e.scaleX,e.scale,e.originX),bf(t.y,e.y,e.scaleY,e.scale,e.originY)}function ay(t,e){return ry(Tj(t.getBoundingClientRect(),e))}function Ej(t,e,n){const r=ay(t,n),{scroll:s}=e;return s&&(_r(r.x,s.offset.x),_r(r.y,s.offset.y)),r}const jf=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cr=()=>({x:jf(),y:jf()}),Sf=()=>({min:0,max:0}),ae=()=>({x:Sf(),y:Sf()}),Lc={current:null},oy={current:!1};function Dj(){if(oy.current=!0,!!Zu)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Lc.current=t.matches;t.addEventListener("change",e),e()}else Lc.current=!1}const Aj=new WeakMap;function Mj(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Ce(s))t.addValue(r,s);else if(Ce(i))t.addValue(r,Wr(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,Wr(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Nf=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Oj{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Fe.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Q.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=bo(n),this.isVariantNode=H0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const p=h[f];c[f]!==void 0&&Ce(p)&&p.set(c[f])}}mount(e){var n;this.current=e,Aj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),oy.current||Dj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Lc.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),pn(this.notifyUpdate),pn(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=es.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Q.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in qr){const n=qr[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ae()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Nf.length;r++){const s=Nf[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=Mj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Wr(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Zg(r)||t0(r))?r=parseFloat(r):!Bb(r)&&gn.test(n)&&(r=I0(e,n)),this.setBaseTarget(e,Ce(r)?r.get():r)),Ce(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=kd(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ce(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new rd),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){xd.render(this.render)}}class ly extends Oj{constructor(){super(...arguments),this.KeyframeResolver=Db}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ce(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function cy(t,{style:e,vars:n},r,s){const i=t.style;let a;for(a in e)i[a]=e[a];s==null||s.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function Rj(t){return window.getComputedStyle(t)}class Ij extends ly{constructor(){super(...arguments),this.type="html",this.renderInstance=cy}readValueFromInstance(e,n){var r;if(es.has(n))return(r=this.projection)!=null&&r.isProjecting?Tc(n):Y1(e,n);{const s=Rj(e),i=(ad(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ay(e,n)}build(e,n,r){Sd(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Cd(e,n,r)}}const uy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Lj(t,e,n,r){cy(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(uy.has(s)?s:Td(s),e.attrs[s])}class $j extends ly{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ae}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(es.has(n)){const r=R0(n);return r&&r.default||0}return n=uy.has(n)?n:Td(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Z0(e,n,r)}build(e,n,r){J0(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){Lj(e,n,r,s)}mount(e){this.isSVGTag=Q0(e.tagName),super.mount(e)}}const Vj=(t,e)=>_d(t)?new $j(e):new Ij(e,{allowProjection:t!==_.Fragment});function Rr(t,e,n){const r=t.getProps();return kd(r,e,n!==void 0?n:r.custom,t)}const $c=t=>Array.isArray(t);function Fj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Wr(n))}function Uj(t){return $c(t)?t[t.length-1]||0:t}function zj(t,e){const n=Rr(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const l=Uj(i[a]);Fj(t,a,l)}}function Bj(t){return!!(Ce(t)&&t.add)}function Vc(t,e){const n=t.getValue("willChange");if(Bj(n))return n.add(e);if(!n&&zt.WillChange){const r=new zt.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function dy(t){return t.props[ey]}const Wj=t=>t!==null;function qj(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(Wj),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Hj={type:"spring",stiffness:500,damping:25,restSpeed:10},Kj=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Gj={type:"keyframes",duration:.8},Jj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Yj=(t,{keyframes:e})=>e.length>2?Gj:es.has(t)?t.startsWith("scale")?Kj(e[1]):Hj:Jj;function Qj({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Pd=(t,e,n,r={},s,i)=>a=>{const l=gd(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-St(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};Qj(l)||Object.assign(d,Yj(t,d)),d.duration&&(d.duration=St(d.duration)),d.repeatDelay&&(d.repeatDelay=St(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Mc(d),d.delay===0&&(h=!0)),(zt.instantAnimations||zt.skipAnimations)&&(h=!0,Mc(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!i&&e.get()!==void 0){const f=qj(d.keyframes,l);if(f!==void 0){Q.update(()=>{d.onUpdate(f),d.onComplete()});return}}return l.isSync?new md(d):new vb(d)};function Xj({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function hy(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(i=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in l){const h=t.getValue(d,t.latestValues[d]??null),f=l[d];if(f===void 0||u&&Xj(u,d))continue;const p={delay:n,...gd(i||{},d)},b=h.get();if(b!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===b&&!p.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const g=dy(t);if(g){const y=window.MotionHandoffAnimation(g,d,Q);y!==null&&(p.startTime=y,v=!0)}}Vc(t,d),h.start(Pd(d,h,f,t.shouldReduceMotion&&A0.has(d)?{type:!1}:p,t,v));const j=h.animation;j&&c.push(j)}return a&&Promise.all(c).then(()=>{Q.update(()=>{a&&zj(t,a)})}),c}function fy(t,e,n,r=0,s=1){const i=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),a=t.size,l=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:l-i*r}function Fc(t,e,n={}){var c;const r=Rr(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(hy(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return Zj(t,e,u,d,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function Zj(t,e,n=0,r=0,s=0,i=1,a){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(Fc(c,e,{...a,delay:n+(typeof r=="function"?0:r)+fy(t.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function eS(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Fc(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Fc(t,e,n);else{const s=typeof e=="function"?Rr(t,e,n.custom):e;r=Promise.all(hy(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function my(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const tS=jd.length;function py(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?py(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<tS;n++){const r=jd[n],s=t.props[r];(ai(s)||s===!1)&&(e[r]=s)}return e}const nS=[...bd].reverse(),rS=bd.length;function sS(t){return e=>Promise.all(e.map(({animation:n,options:r})=>eS(t,n,r)))}function iS(t){let e=sS(t),n=_f(),r=!0;const s=c=>(u,d)=>{var f;const h=Rr(t,d,c==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:b,...v}=h;u={...u,...v,...b}}return u};function i(c){e=c(t)}function a(c){const{props:u}=t,d=py(t.parent)||{},h=[],f=new Set;let p={},b=1/0;for(let j=0;j<rS;j++){const g=nS[j],y=n[g],m=u[g]!==void 0?u[g]:d[g],x=ai(m),w=g===c?y.isActive:null;w===!1&&(b=j);let S=m===d[g]&&m!==u[g]&&x;if(S&&r&&t.manuallyAnimateOnMount&&(S=!1),y.protectedKeys={...p},!y.isActive&&w===null||!m&&!y.prevProp||wo(m)||typeof m=="boolean")continue;const N=aS(y.prevProp,m);let k=N||g===c&&y.isActive&&!S&&x||j>b&&x,T=!1;const C=Array.isArray(m)?m:[m];let A=C.reduce(s(g),{});w===!1&&(A={});const{prevResolvedValues:V={}}=y,z={...V,...A},jn=ie=>{k=!0,f.has(ie)&&(T=!0,f.delete(ie)),y.needsAnimating[ie]=!0;const E=t.getValue(ie);E&&(E.liveStyle=!1)};for(const ie in z){const E=A[ie],M=V[ie];if(p.hasOwnProperty(ie))continue;let I=!1;$c(E)&&$c(M)?I=!my(E,M):I=E!==M,I?E!=null?jn(ie):f.add(ie):E!==void 0&&f.has(ie)?jn(ie):y.protectedKeys[ie]=!0}y.prevProp=m,y.prevResolvedValues=A,y.isActive&&(p={...p,...A}),r&&t.blockInitialAnimation&&(k=!1);const Sn=S&&N;k&&(!Sn||T)&&h.push(...C.map(ie=>{const E={type:g};if(typeof ie=="string"&&r&&!Sn&&t.manuallyAnimateOnMount&&t.parent){const{parent:M}=t,I=Rr(M,ie);if(M.enteringChildren&&I){const{delayChildren:X}=I.transition||{};E.delay=fy(M.enteringChildren,t,X)}}return{animation:ie,options:E}}))}if(f.size){const j={};if(typeof u.initial!="boolean"){const g=Rr(t,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(j.transition=g.transition)}f.forEach(g=>{const y=t.getBaseTarget(g),m=t.getValue(g);m&&(m.liveStyle=!0),j[g]=y??null}),h.push({animation:j})}let v=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(h):Promise.resolve()}function l(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(c,u)}),n[c].isActive=u;const d=a(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=_f(),r=!0}}}function aS(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!my(e,t):!1}function kn(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _f(){return{animate:kn(!0),whileInView:kn(),whileHover:kn(),whileTap:kn(),whileDrag:kn(),whileFocus:kn(),exit:kn()}}class wn{constructor(e){this.isMounted=!1,this.node=e}update(){}}class oS extends wn{constructor(e){super(e),e.animationState||(e.animationState=iS(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();wo(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let lS=0;class cS extends wn{constructor(){super(...arguments),this.id=lS++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const uS={animation:{Feature:oS},exit:{Feature:cS}};function li(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function wi(t){return{point:{x:t.pageX,y:t.pageY}}}const dS=t=>e=>vd(e)&&t(e,wi(e));function Os(t,e,n,r){return li(t,e,dS(n),r)}const gy=1e-4,hS=1-gy,fS=1+gy,yy=.01,mS=0-yy,pS=0+yy;function De(t){return t.max-t.min}function gS(t,e,n){return Math.abs(t-e)<=n}function kf(t,e,n,r=.5){t.origin=r,t.originPoint=ee(e.min,e.max,t.origin),t.scale=De(n)/De(e),t.translate=ee(n.min,n.max,t.origin)-t.originPoint,(t.scale>=hS&&t.scale<=fS||isNaN(t.scale))&&(t.scale=1),(t.translate>=mS&&t.translate<=pS||isNaN(t.translate))&&(t.translate=0)}function Rs(t,e,n,r){kf(t.x,e.x,n.x,r?r.originX:void 0),kf(t.y,e.y,n.y,r?r.originY:void 0)}function Cf(t,e,n){t.min=n.min+e.min,t.max=t.min+De(e)}function yS(t,e,n){Cf(t.x,e.x,n.x),Cf(t.y,e.y,n.y)}function Tf(t,e,n){t.min=e.min-n.min,t.max=t.min+De(e)}function Is(t,e,n){Tf(t.x,e.x,n.x),Tf(t.y,e.y,n.y)}function Qe(t){return[t("x"),t("y")]}const xy=({current:t})=>t?t.ownerDocument.defaultView:null,Pf=(t,e)=>Math.abs(t-e);function xS(t,e){const n=Pf(t.x,e.x),r=Pf(t.y,e.y);return Math.sqrt(n**2+r**2)}class vy{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=ml(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,b=xS(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!b)return;const{point:v}=f,{timestamp:j}=be;this.history.push({...v,timestamp:j});const{onStart:g,onMove:y}=this.handlers;p||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=fl(p,this.transformPagePoint),Q.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:b,onSessionEnd:v,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=ml(f.type==="pointercancel"?this.lastMoveEventInfo:fl(p,this.transformPagePoint),this.history);this.startEvent&&b&&b(f,g),v&&v(f,g)},!vd(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const l=wi(e),c=fl(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=be;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,ml(c,this.history)),this.removeListeners=yi(Os(this.contextWindow,"pointermove",this.handlePointerMove),Os(this.contextWindow,"pointerup",this.handlePointerUp),Os(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),pn(this.updatePoint)}}function fl(t,e){return e?{point:e(t.point)}:t}function Ef(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ml({point:t},e){return{point:t,delta:Ef(t,wy(e)),offset:Ef(t,vS(e)),velocity:wS(e,.1)}}function vS(t){return t[0]}function wy(t){return t[t.length-1]}function wS(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=wy(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>St(e)));)n--;if(!r)return{x:0,y:0};const i=Nt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function bS(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ee(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ee(n,t,r.max):Math.min(t,n)),t}function Df(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function jS(t,{top:e,left:n,bottom:r,right:s}){return{x:Df(t.x,n,s),y:Df(t.y,e,r)}}function Af(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function SS(t,e){return{x:Af(t.x,e.x),y:Af(t.y,e.y)}}function NS(t,e){let n=.5;const r=De(t),s=De(e);return s>r?n=ri(e.min,e.max-r,t.min):r>s&&(n=ri(t.min,t.max-s,e.min)),Ut(0,1,n)}function _S(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Uc=.35;function kS(t=Uc){return t===!1?t=0:t===!0&&(t=Uc),{x:Mf(t,"left","right"),y:Mf(t,"top","bottom")}}function Mf(t,e,n){return{min:Of(t,e),max:Of(t,n)}}function Of(t,e){return typeof t=="number"?t:t[e]||0}const CS=new WeakMap;class TS{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ae(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wi(h).point)},a=(h,f)=>{const{drag:p,dragPropagation:b,onDragStart:v}=this.getProps();if(p&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Rb(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qe(g=>{let y=this.getAxisMotionValue(g).get()||0;if(_t.test(y)){const{projection:m}=this.visualElement;if(m&&m.layout){const x=m.layout.layoutBox[g];x&&(y=De(x)*(parseFloat(y)/100))}}this.originPoint[g]=y}),v&&Q.postRender(()=>v(h,f)),Vc(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:b,onDirectionLock:v,onDrag:j}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:g}=f;if(b&&this.currentDirection===null){this.currentDirection=PS(g),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),j&&j(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Qe(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new vy(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:xy(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Q.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Gi(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=bS(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Nr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=jS(r.layoutBox,e):this.constraints=!1,this.elastic=kS(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Qe(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=_S(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Nr(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Ej(r,s.root,this.visualElement.getTransformPagePoint());let a=SS(s.layout.layoutBox,i);if(n){const l=n(Cj(a));this.hasMutatedConstraints=!!l,l&&(a=ry(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Qe(d=>{if(!Gi(d,n,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,b={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,b)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Vc(this.visualElement,e),r.start(Pd(e,r,0,n,this.visualElement,!1))}stopAnimation(){Qe(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qe(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Qe(n=>{const{drag:r}=this.getProps();if(!Gi(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(e[n]-ee(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Nr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Qe(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();s[a]=NS({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Qe(a=>{if(!Gi(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(ee(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;CS.set(this.visualElement,this);const e=this.visualElement.current,n=Os(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Nr(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Q.read(r);const a=li(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Qe(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Uc,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function Gi(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function PS(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class ES extends wn{constructor(e){super(e),this.removeGroupControls=nt,this.removeListeners=nt,this.controls=new TS(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rf=t=>(e,n)=>{t&&Q.postRender(()=>t(e,n))};class DS extends wn{constructor(){super(...arguments),this.removePointerDownListener=nt}onPointerDown(e){this.session=new vy(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xy(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Rf(e),onStart:Rf(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Q.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Os(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ya={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function If(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ds={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(O.test(t))t=parseFloat(t);else return t;const n=If(t,e.target.x),r=If(t,e.target.y);return`${n}% ${r}%`}},AS={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=gn.parse(t);if(s.length>5)return r;const i=gn.createTransformer(t),a=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+a]/=l,s[1+a]/=c;const u=ee(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};let pl=!1;class MS extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;tj(OS),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),pl&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ya.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,pl=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Q.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),xd.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;pl=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function by(t){const[e,n]=B0(),r=_.useContext(Qu);return o.jsx(MS,{...t,layoutGroup:r,switchLayoutGroup:_.useContext(ty),isPresent:e,safeToRemove:n})}const OS={borderRadius:{...ds,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ds,borderTopRightRadius:ds,borderBottomLeftRadius:ds,borderBottomRightRadius:ds,boxShadow:AS};function RS(t,e,n){const r=Ce(t)?t:Wr(t);return r.start(Pd("",r,e,n)),r.animation}const IS=(t,e)=>t.depth-e.depth;class LS{constructor(){this.children=[],this.isDirty=!1}add(e){ed(this.children,e),this.isDirty=!0}remove(e){td(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(IS),this.isDirty=!1,this.children.forEach(e)}}function $S(t,e){const n=Fe.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(pn(r),t(i-e))};return Q.setup(r,!0),()=>pn(r)}const jy=["TopLeft","TopRight","BottomLeft","BottomRight"],VS=jy.length,Lf=t=>typeof t=="string"?parseFloat(t):t,$f=t=>typeof t=="number"||O.test(t);function FS(t,e,n,r,s,i){s?(t.opacity=ee(0,n.opacity??1,US(r)),t.opacityExit=ee(e.opacity??1,0,zS(r))):i&&(t.opacity=ee(e.opacity??1,n.opacity??1,r));for(let a=0;a<VS;a++){const l=`border${jy[a]}Radius`;let c=Vf(e,l),u=Vf(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||$f(c)===$f(u)?(t[l]=Math.max(ee(Lf(c),Lf(u),r),0),(_t.test(u)||_t.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=ee(e.rotate||0,n.rotate||0,r))}function Vf(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const US=Sy(0,.5,c0),zS=Sy(.5,.95,nt);function Sy(t,e,n){return r=>r<t?0:r>e?1:n(ri(t,e,r))}function Ff(t,e){t.min=e.min,t.max=e.max}function Ye(t,e){Ff(t.x,e.x),Ff(t.y,e.y)}function Uf(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function zf(t,e,n,r,s){return t-=e,t=Ka(t,1/n,r),s!==void 0&&(t=Ka(t,1/s,r)),t}function BS(t,e=0,n=1,r=.5,s,i=t,a=t){if(_t.test(e)&&(e=parseFloat(e),e=ee(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=ee(i.min,i.max,r);t===i&&(l-=e),t.min=zf(t.min,e,n,l,s),t.max=zf(t.max,e,n,l,s)}function Bf(t,e,[n,r,s],i,a){BS(t,e[n],e[r],e[s],e.scale,i,a)}const WS=["x","scaleX","originX"],qS=["y","scaleY","originY"];function Wf(t,e,n,r){Bf(t.x,e,WS,n?n.x:void 0,r?r.x:void 0),Bf(t.y,e,qS,n?n.y:void 0,r?r.y:void 0)}function qf(t){return t.translate===0&&t.scale===1}function Ny(t){return qf(t.x)&&qf(t.y)}function Hf(t,e){return t.min===e.min&&t.max===e.max}function HS(t,e){return Hf(t.x,e.x)&&Hf(t.y,e.y)}function Kf(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _y(t,e){return Kf(t.x,e.x)&&Kf(t.y,e.y)}function Gf(t){return De(t.x)/De(t.y)}function Jf(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class KS{constructor(){this.members=[]}add(e){ed(this.members,e),e.scheduleRender()}remove(e){if(td(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function GS(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:b}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),b&&(r+=`skewY(${b}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const gl=["","X","Y","Z"],JS=1e3;let YS=0;function yl(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function ky(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=dy(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Q,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&ky(r)}function Cy({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=e==null?void 0:e()){this.id=YS++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ZS),this.nodes.forEach(rN),this.nodes.forEach(sN),this.nodes.forEach(eN)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new LS)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new rd),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=z0(a)&&!Ub(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;Q.read(()=>{h=window.innerWidth}),t(a,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,d&&d(),d=$S(f,250),ya.hasAnimatedSinceResize&&(ya.hasAnimatedSinceResize=!1,this.nodes.forEach(Xf)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||u.getDefaultTransition()||cN,{onLayoutAnimationStart:v,onLayoutAnimationComplete:j}=u.getProps(),g=!this.targetLayout||!_y(this.targetLayout,p),y=!h&&f;if(this.options.layoutRoot||this.resumeFrom||y||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const m={...gd(b,"layout"),onPlay:v,onComplete:j};(u.shouldReduceMotion||this.options.layoutRoot)&&(m.delay=0,m.type=!1),this.startAnimation(m),this.setAnimationOrigin(d,y)}else h||Xf(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iN),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ky(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Yf);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Qf);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nN),this.nodes.forEach(QS),this.nodes.forEach(XS)):this.nodes.forEach(Qf),this.clearAllSnapshots();const l=Fe.now();be.delta=Ut(0,1e3/60,l-be.timestamp),be.timestamp=l,be.isProcessing=!0,il.update.process(be),il.preRender.process(be),il.render.process(be),be.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tN),this.sharedNodes.forEach(aN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Q.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Q.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!De(this.snapshot.measuredBox.x)&&!De(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ae(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Ny(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||Dn(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),uN(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return ae();const l=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(dN))){const{scroll:d}=this.root;d&&(_r(l.x,d.offset.x),_r(l.y,d.offset.y))}return l}removeElementScroll(a){var c;const l=ae();if(Ye(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Ye(l,a),_r(l.x,h.offset.x),_r(l.y,h.offset.y))}return l}applyTransform(a,l=!1){const c=ae();Ye(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&kr(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Dn(d.latestValues)&&kr(c,d.latestValues)}return Dn(this.latestValues)&&kr(c,this.latestValues),c}removeTransform(a){const l=ae();Ye(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Dn(u.latestValues))continue;Rc(u.latestValues)&&u.updateSnapshot();const d=ae(),h=u.measurePageBox();Ye(d,h),Wf(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Dn(this.latestValues)&&Wf(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==be.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=be.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ae(),this.relativeTargetOrigin=ae(),Is(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ye(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ae(),this.targetWithTransforms=ae()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yS(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ye(this.target,this.layout.layoutBox),iy(this.target,this.targetDelta)):Ye(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ae(),this.relativeTargetOrigin=ae(),Is(this.relativeTargetOrigin,this.target,p.target),Ye(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Rc(this.parent.latestValues)||sy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===be.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ye(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Pj(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ae());const{target:p}=a;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Uf(this.prevProjectionDelta.x,this.projectionDelta.x),Uf(this.prevProjectionDelta.y,this.projectionDelta.y)),Rs(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Jf(this.projectionDelta.x,this.prevProjectionDelta.x)||!Jf(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Cr(),this.projectionDelta=Cr(),this.projectionDeltaWithTransform=Cr()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Cr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=ae(),p=c?c.source:void 0,b=this.layout?this.layout.source:void 0,v=p!==b,j=this.getStack(),g=!j||j.members.length<=1,y=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(lN));this.animationProgress=0;let m;this.mixTargetDelta=x=>{const w=x/1e3;Zf(h.x,a.x,w),Zf(h.y,a.y,w),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Is(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oN(this.relativeTarget,this.relativeTargetOrigin,f,w),m&&HS(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=ae()),Ye(m,this.relativeTarget)),v&&(this.animationValues=d,FS(d,u,this.latestValues,w,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(pn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Q.update(()=>{ya.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wr(0)),this.currentAnimation=RS(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(JS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&Ty(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ae();const h=De(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=De(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}Ye(l,c),kr(l,d),Rs(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new KS),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&yl("z",a,u,this.animationValues);for(let d=0;d<gl.length;d++)yl(`rotate${gl[d]}`,a,u,this.animationValues),yl(`skew${gl[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=ga(l==null?void 0:l.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=ga(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Dn(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=GS(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),a.transform=h;const{x:f,y:p}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const b in oi){if(d[b]===void 0)continue;const{correct:v,applyTo:j,isCSSVariable:g}=oi[b],y=h==="none"?d[b]:v(d[b],u);if(j){const m=j.length;for(let x=0;x<m;x++)a[j[x]]=y}else g?this.options.visualElement.renderState.vars[b]=y:a[b]=y}this.options.layoutId&&(a.pointerEvents=u===this?ga(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Yf),this.root.sharedNodes.clear()}}}function QS(t){t.updateLayout()}function XS(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?Qe(h=>{const f=a?e.measuredBox[h]:e.layoutBox[h],p=De(f);f.min=r[h].min,f.max=f.min+p}):Ty(i,e.layoutBox,r)&&Qe(h=>{const f=a?e.measuredBox[h]:e.layoutBox[h],p=De(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const l=Cr();Rs(l,r,e.layoutBox);const c=Cr();a?Rs(c,t.applyTransform(s,!0),e.measuredBox):Rs(c,r,e.layoutBox);const u=!Ny(l);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const b=ae();Is(b,e.layoutBox,f.layoutBox);const v=ae();Is(v,r,p.layoutBox),_y(b,v)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=b,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function ZS(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function eN(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function tN(t){t.clearSnapshot()}function Yf(t){t.clearMeasurements()}function Qf(t){t.isLayoutDirty=!1}function nN(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Xf(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function rN(t){t.resolveTargetDelta()}function sN(t){t.calcProjection()}function iN(t){t.resetSkewAndRotation()}function aN(t){t.removeLeadSnapshot()}function Zf(t,e,n){t.translate=ee(e.translate,0,n),t.scale=ee(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function em(t,e,n,r){t.min=ee(e.min,n.min,r),t.max=ee(e.max,n.max,r)}function oN(t,e,n,r){em(t.x,e.x,n.x,r),em(t.y,e.y,n.y,r)}function lN(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const cN={duration:.45,ease:[.4,0,.1,1]},tm=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),nm=tm("applewebkit/")&&!tm("chrome/")?Math.round:nt;function rm(t){t.min=nm(t.min),t.max=nm(t.max)}function uN(t){rm(t.x),rm(t.y)}function Ty(t,e,n){return t==="position"||t==="preserve-aspect"&&!gS(Gf(e),Gf(n),.2)}function dN(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const hN=Cy({attachResizeListener:(t,e)=>li(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xl={current:void 0},Py=Cy({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xl.current){const t=new hN({});t.mount(window),t.setOptions({layoutScroll:!0}),xl.current=t}return xl.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),fN={pan:{Feature:DS},drag:{Feature:ES,ProjectionNode:Py,MeasureLayout:by}};function sm(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Q.postRender(()=>i(e,wi(e)))}class mN extends wn{mount(){const{current:e}=this.node;e&&(this.unmount=Ib(e,(n,r)=>(sm(this.node,r,"Start"),s=>sm(this.node,s,"End"))))}unmount(){}}class pN extends wn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yi(li(this.node.current,"focus",()=>this.onFocus()),li(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function im(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Q.postRender(()=>i(e,wi(e)))}class gN extends wn{mount(){const{current:e}=this.node;e&&(this.unmount=Fb(e,(n,r)=>(im(this.node,r,"Start"),(s,{success:i})=>im(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zc=new WeakMap,vl=new WeakMap,yN=t=>{const e=zc.get(t.target);e&&e(t)},xN=t=>{t.forEach(yN)};function vN({root:t,...e}){const n=t||document;vl.has(n)||vl.set(n,{});const r=vl.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(xN,{root:t,...e})),r[s]}function wN(t,e,n){const r=vN(e);return zc.set(t,n),r.observe(t),()=>{zc.delete(t),r.unobserve(t)}}const bN={some:0,all:1};class jN extends wn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:bN[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return wN(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(SN(e,n))&&this.startObserver()}unmount(){}}function SN({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const NN={inView:{Feature:jN},tap:{Feature:gN},focus:{Feature:pN},hover:{Feature:mN}},_N={layout:{ProjectionNode:Py,MeasureLayout:by}},kN={...uS,...NN,...fN,..._N},L=kj(kN,Vj);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),R=(t,e)=>{const n=_.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>_.createElement("svg",{ref:d,...CN,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${TN(t)}`,l].join(" "),...u},[...e.map(([h,f])=>_.createElement(h,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=R("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=R("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=R("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=R("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=R("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=R("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=R("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=R("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=R("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=R("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=R("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=R("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=R("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=R("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=R("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=R("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=R("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=R("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=R("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=R("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=R("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=R("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=R("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=R("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=R("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=R("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=R("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=R("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=R("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=R("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=R("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=R("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=R("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=R("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=R("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=R("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=R("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=R("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=R("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=R("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=R("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=R("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=R("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=R("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=R("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=R("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),jo=({size:t="md",showText:e=!0,className:n=""})=>{const r={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16",xl:"w-20 h-20"},s={sm:"text-lg",md:"text-xl",lg:"text-2xl",xl:"text-3xl"},i={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-10 h-10"};return o.jsxs("div",{className:`flex items-center space-x-3 ${n}`,children:[o.jsxs("div",{className:`${r[t]} bg-gradient-to-br from-purple-500 via-pink-500 to-blue-500 rounded-2xl flex items-center justify-center shadow-lg relative overflow-hidden`,children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),o.jsx("div",{className:"relative flex items-center justify-center",children:o.jsxs("div",{className:"relative",children:[o.jsx(kt,{className:`${i[t]} text-white fill-white`}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:`${t==="sm"?"w-1.5 h-1.5":t==="md"?"w-2.5 h-2.5":t==="lg"?"w-4 h-4":"w-5 h-5"} bg-purple-600 rounded-full`})})]})})]}),e&&o.jsxs("div",{className:"flex flex-col",children:[o.jsx("h1",{className:`${s[t]} font-bold bg-gradient-to-r from-purple-600 via-pink-600 to-purple-700 bg-clip-text text-transparent`,children:"Co-Parents"}),t!=="sm"&&o.jsx("p",{className:"text-xs text-purple-500 -mt-1 font-medium",children:"Familles recomposées"})]})]})},HN="modulepreload",KN=function(t){return"/"+t},lm={},ji=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=KN(c),c in lm)return;lm[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":HN,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},GN=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ji(async()=>{const{default:r}=await Promise.resolve().then(()=>ts);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Dd extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class JN extends Dd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class cm extends Dd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class um extends Dd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Hc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Hc||(Hc={}));var YN=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class QN{constructor(e,{headers:n={},customFetch:r,region:s=Hc.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=GN(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return YN(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(v=>{throw new JN(v)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new cm(h);if(!h.ok)throw new um(h);let p=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return p==="application/json"?b=yield h.json():p==="application/octet-stream"?b=yield h.blob():p==="text/event-stream"?b=h:p==="multipart/form-data"?b=yield h.formData():b=yield h.text(),{data:b,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof um||s instanceof cm?s.context:void 0}}})}}var $e={},Ad={},So={},Si={},No={},_o={},XN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gr=XN();const ZN=Gr.fetch,Iy=Gr.fetch.bind(Gr),Ly=Gr.Headers,e2=Gr.Request,t2=Gr.Response,ts=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ly,Request:e2,Response:t2,default:Iy,fetch:ZN},Symbol.toStringTag,{value:"Module"})),n2=jx(ts);var ko={};Object.defineProperty(ko,"__esModule",{value:!0});let r2=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ko.default=r2;var $y=rt&&rt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_o,"__esModule",{value:!0});const s2=$y(n2),i2=$y(ko);let a2=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=s2.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,c;let u=null,d=null,h=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const v=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),j=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&j&&j.length>1&&(h=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,p="OK")}catch{i.status===404&&v===""?(f=204,p="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new i2.default(u)}return{error:u,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};_o.default=a2;var o2=rt&&rt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(No,"__esModule",{value:!0});const l2=o2(_o);let c2=class extends l2.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const c=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};No.default=c2;var u2=rt&&rt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Si,"__esModule",{value:!0});const d2=u2(No);let h2=class extends d2.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Si.default=h2;var f2=rt&&rt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(So,"__esModule",{value:!0});const hs=f2(Si);let m2=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new hs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new hs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const a="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new hs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new hs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new hs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};So.default=m2;var Co={},To={};Object.defineProperty(To,"__esModule",{value:!0});To.version=void 0;To.version="0.0.0-automated";Object.defineProperty(Co,"__esModule",{value:!0});Co.DEFAULT_HEADERS=void 0;const p2=To;Co.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${p2.version}`};var Vy=rt&&rt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ad,"__esModule",{value:!0});const g2=Vy(So),y2=Vy(Si),x2=Co;let v2=class Fy{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},x2.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new g2.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Fy(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let a;const l=new URL(`${this.url}/rpc/${e}`);let c;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(a="POST",c=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new y2.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Ad.default=v2;var ns=rt&&rt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($e,"__esModule",{value:!0});$e.PostgrestError=$e.PostgrestBuilder=$e.PostgrestTransformBuilder=$e.PostgrestFilterBuilder=$e.PostgrestQueryBuilder=$e.PostgrestClient=void 0;const Uy=ns(Ad);$e.PostgrestClient=Uy.default;const zy=ns(So);$e.PostgrestQueryBuilder=zy.default;const By=ns(Si);$e.PostgrestFilterBuilder=By.default;const Wy=ns(No);$e.PostgrestTransformBuilder=Wy.default;const qy=ns(_o);$e.PostgrestBuilder=qy.default;const Hy=ns(ko);$e.PostgrestError=Hy.default;var w2=$e.default={PostgrestClient:Uy.default,PostgrestQueryBuilder:zy.default,PostgrestFilterBuilder:By.default,PostgrestTransformBuilder:Wy.default,PostgrestBuilder:qy.default,PostgrestError:Hy.default};const{PostgrestClient:b2,PostgrestQueryBuilder:XT,PostgrestFilterBuilder:ZT,PostgrestTransformBuilder:eP,PostgrestBuilder:tP,PostgrestError:nP}=w2;class j2{static dynamicRequire(e){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(e):null}catch{return null}}static detectEnvironment(){var e,n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);if(r>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const s=this.dynamicRequire("undici");if(s&&s.WebSocket)return{type:"native",constructor:s.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const s=this.dynamicRequire("ws");if(s)return{type:"ws",constructor:(n=s.WebSocket)!==null&&n!==void 0?n:s};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${r} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const S2="2.15.0",N2=`realtime-js/${S2}`,_2="1.0.0",Kc=1e4,k2=1e3,C2=100;var Ls;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ls||(Ls={}));var ue;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ue||(ue={}));var dt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(dt||(dt={}));var Gc;(function(t){t.websocket="websocket"})(Gc||(Gc={}));var Rn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Rn||(Rn={}));class T2{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(e.slice(a,a+s));a=a+s;const c=r.decode(e.slice(a,a+i));a=a+i;const u=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Ky{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var H;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(H||(H={}));const dm=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,a)=>(i[a]=P2(a,t,e,s),i),{})},P2=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,a=n[t];return i&&!r.includes(i)?Gy(i,a):Jc(a)},Gy=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return M2(e,n)}switch(t){case H.bool:return E2(e);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return D2(e);case H.json:case H.jsonb:return A2(e);case H.timestamp:return O2(e);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return Jc(e);default:return Jc(e)}},Jc=t=>t,E2=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},D2=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},A2=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},M2=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const a=t.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>Gy(e,l))}return t},O2=t=>typeof t=="string"?t.replace(" ","T"):t,Jy=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class jl{constructor(e,n,r={},s=Kc){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var hm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(hm||(hm={}));class $s{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$s.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=$s.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=$s.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),a=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(j=>j.presence_ref),p=h.map(j=>j.presence_ref),b=d.filter(j=>p.indexOf(j.presence_ref)<0),v=h.filter(j=>f.indexOf(j.presence_ref)<0);b.length>0&&(l[u]=b),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[l].unshift(...f)}r(l,d,c)}),this.map(a,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(fm||(fm={}));var Vs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Vs||(Vs={}));var Et;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Et||(Et={}));class Md{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new jl(this,dt.join,this.params,this.timeout),this.rejoinTimer=new Ky(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ue.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new $s(this),this.broadcastEndpointURL=Jy(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ue.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Vs.PRESENCE]&&this.bindings[Vs.PRESENCE].length>0,d={},h={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(Et.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(Et.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){e==null||e(Et.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,v=(p=b==null?void 0:b.length)!==null&&p!==void 0?p:0,j=[];for(let g=0;g<v;g++){const y=b[g],{filter:{event:m,schema:x,table:w,filter:S}}=y,N=f&&f[g];if(N&&N.event===m&&N.schema===x&&N.table===w&&N.filter===S)j.push(Object.assign(Object.assign({},y),{id:N.id}));else{this.unsubscribe(),this.state=ue.errored,e==null||e(Et.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(Et.SUBSCRIBED);return}}).receive("error",f=>{this.state=ue.errored,e==null||e(Et.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Et.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ue.joined&&e===Vs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ue.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new jl(this,dt.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ue.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new jl(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>C2){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const a=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=dt;if(r&&[l,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let f=this._onMessage(a,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var b,v,j;return((b=p.filter)===null||b===void 0?void 0:b.event)==="*"||((j=(v=p.filter)===null||v===void 0?void 0:v.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===a}).map(p=>p.callback(f,r)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var b,v,j,g,y,m;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const x=p.id,w=(b=p.filter)===null||b===void 0?void 0:b.event;return x&&((v=n.ids)===null||v===void 0?void 0:v.includes(x))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const x=(y=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return x==="*"||x===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof f=="object"&&"ids"in f){const b=f.data,{schema:v,table:j,commit_timestamp:g,type:y,errors:m}=b;f=Object.assign(Object.assign({},{schema:v,table:j,commit_timestamp:g,eventType:y,new:{},old:{},errors:m}),this._getPayloadRecords(b))}p.callback(f,r)})}_isClosed(){return this.state===ue.closed}_isJoined(){return this.state===ue.joined}_isJoining(){return this.state===ue.joining}_isLeaving(){return this.state===ue.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Md.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(dt.close,{},e)}_onError(e){this._on(dt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ue.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=dm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=dm(e.columns,e.old_record)),n}}const mm=()=>{},Ji={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},R2=[1e3,2e3,5e3,1e4],I2=1e4,L2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $2{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kc,this.transport=null,this.heartbeatIntervalMs=Ji.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mm,this.ref=0,this.reconnectTimer=null,this.logger=mm,this.conn=null,this.sendBuffer=[],this.serializer=new T2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>ji(async()=>{const{default:l}=await Promise.resolve().then(()=>ts);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Gc.websocket}`,this.httpEndpoint=Jy(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=j2.createWebSocket(this.endpointURL())}catch(e){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${e.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_2}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ls.connecting:return Rn.Connecting;case Ls.open:return Rn.Open;case Ls.closing:return Rn.Closing;default:return Rn.Closed}}isConnected(){return this.connectionState()===Rn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Md(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,a=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(k2,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ji.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:a}=n,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(dt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([L2],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:N2};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(dt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ky(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ji.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,a,l,c,u;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Kc,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ji.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>R2[d-1]||I2,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(d,h)=>h(JSON.stringify(d)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Od extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function pe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class V2 extends Od{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yc extends Od{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var F2=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const Yy=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ji(async()=>{const{default:r}=await Promise.resolve().then(()=>ts);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},U2=()=>F2(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ji(()=>Promise.resolve().then(()=>ts),void 0)).Response:Response}),Qc=t=>{if(Array.isArray(t))return t.map(n=>Qc(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Qc(r)}),e},z2=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var er=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const Sl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),B2=(t,e,n)=>er(void 0,void 0,void 0,function*(){const r=yield U2();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new V2(Sl(s),i,a))}).catch(s=>{e(new Yc(Sl(s),s))}):e(new Yc(Sl(t),t))}),W2=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(z2(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n))};function Ni(t,e,n,r,s,i){return er(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(n,W2(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>B2(c,l,r))})})}function Ya(t,e,n,r){return er(this,void 0,void 0,function*(){return Ni(t,"GET",e,n,r)})}function Dt(t,e,n,r,s){return er(this,void 0,void 0,function*(){return Ni(t,"POST",e,r,s,n)})}function Xc(t,e,n,r,s){return er(this,void 0,void 0,function*(){return Ni(t,"PUT",e,r,s,n)})}function q2(t,e,n,r){return er(this,void 0,void 0,function*(){return Ni(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Qy(t,e,n,r,s){return er(this,void 0,void 0,function*(){return Ni(t,"DELETE",e,r,s,n)})}var Ie=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const H2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class K2{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Yy(s)}uploadOrUpdate(e,n,r,s){return Ie(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},pm),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(e=="PUT"?Xc:Dt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Ie(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:pm.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Xc(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(pe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Ie(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Dt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new Od("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ie(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Ie(this,void 0,void 0,function*(){try{return{data:{path:(yield Dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Ie(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Dt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Ie(this,void 0,void 0,function*(){try{const s=yield Dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}download(e,n){return Ie(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Ya(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(pe(l))return{data:null,error:l};throw l}})}info(e){return Ie(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Ya(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Qc(r),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}exists(e){return Ie(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield q2(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(pe(r)&&r instanceof Yc){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return Ie(this,void 0,void 0,function*(){try{return{data:yield Qy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ie(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},H2),n),{prefix:e||""});return{data:yield Dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const G2="2.10.4",J2={"X-Client-Info":`storage-js/${G2}`};var rr=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class Y2{constructor(e,n={},r,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},J2),n),this.fetch=Yy(r)}listBuckets(){return rr(this,void 0,void 0,function*(){try{return{data:yield Ya(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(pe(e))return{data:null,error:e};throw e}})}getBucket(e){return rr(this,void 0,void 0,function*(){try{return{data:yield Ya(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return rr(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return rr(this,void 0,void 0,function*(){try{return{data:yield Xc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return rr(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return rr(this,void 0,void 0,function*(){try{return{data:yield Qy(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}}class Q2 extends Y2{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new K2(this.url,this.headers,e,this.fetch)}}const X2="2.54.0";let js="";typeof Deno<"u"?js="deno":typeof document<"u"?js="web":typeof navigator<"u"&&navigator.product==="ReactNative"?js="react-native":js="node";const Z2={"X-Client-Info":`supabase-js-${js}/${X2}`},e_={headers:Z2},t_={schema:"public"},n_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},r_={};var s_=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const i_=t=>{let e;return t?e=t:typeof fetch>"u"?e=Iy:e=fetch,(...n)=>e(...n)},a_=()=>typeof Headers>"u"?Ly:Headers,o_=(t,e,n)=>{const r=i_(n),s=a_();return(i,a)=>s_(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},a),{headers:u}))})};var l_=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};function c_(t){return t.endsWith("/")?t:t+"/"}function u_(t,e){var n,r;const{db:s,auth:i,realtime:a,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>l_(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const Xy="2.71.1",cr=30*1e3,Zc=3,Nl=Zc*cr,d_="http://localhost:9999",h_="supabase.auth.token",f_={"X-Client-Info":`gotrue-js/${Xy}`},eu="X-Supabase-Api-Version",Zy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},m_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,p_=10*60*1e3;class Rd extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function $(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class g_ extends Rd{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function y_(t){return $(t)&&t.name==="AuthApiError"}class ex extends Rd{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class bn extends Rd{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Yt extends bn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function x_(t){return $(t)&&t.name==="AuthSessionMissingError"}class Yi extends bn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qi extends bn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Xi extends bn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function v_(t){return $(t)&&t.name==="AuthImplicitGrantRedirectError"}class gm extends bn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tu extends bn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function _l(t){return $(t)&&t.name==="AuthRetryableFetchError"}class ym extends bn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class nu extends bn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xm=` 	
\r=`.split(""),w_=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<xm.length;e+=1)t[xm[e].charCodeAt(0)]=-2;for(let e=0;e<Qa.length;e+=1)t[Qa[e].charCodeAt(0)]=e;return t})();function vm(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Qa[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Qa[r]),e.queuedBits-=6}}function tx(t,e,n){const r=w_[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function wm(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{S_(a,r,n)};for(let a=0;a<t.length;a+=1)tx(t.charCodeAt(a),s,i);return e.join("")}function b_(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function j_(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}b_(r,e)}}function S_(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function N_(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)tx(t.charCodeAt(s),n,r);return new Uint8Array(e)}function __(t){const e=[];return j_(t,n=>e.push(n)),new Uint8Array(e)}function k_(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>vm(s,n,r)),vm(null,n,r),e.join("")}function C_(t){return Math.round(Date.now()/1e3)+t}function T_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ot=()=>typeof window<"u"&&typeof document<"u",Cn={tested:!1,writable:!1},nx=()=>{if(!ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Cn.tested)return Cn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Cn.tested=!0,Cn.writable=!0}catch{Cn.tested=!0,Cn.writable=!1}return Cn.writable};function P_(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const rx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ji(async()=>{const{default:r}=await Promise.resolve().then(()=>ts);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},E_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ur=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Tn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Kt=async(t,e)=>{await t.removeItem(e)};class Po{constructor(){this.promise=new Po.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Po.promiseConstructor=Promise;function kl(t){const e=t.split(".");if(e.length!==3)throw new nu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!m_.test(e[r]))throw new nu("JWT not in base64url format");return{header:JSON.parse(wm(e[0])),payload:JSON.parse(wm(e[1])),signature:N_(e[2]),raw:{header:e[0],payload:e[1]}}}async function D_(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function A_(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function M_(t){return("0"+t.toString(16)).substr(-2)}function O_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,M_).join("")}async function R_(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function I_(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await R_(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sr(t,e,n=!1){const r=O_();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ur(t,`${e}-code-verifier`,s);const i=await I_(r);return[i,r===i?"plain":"s256"]}const L_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $_(t){const e=t.headers.get(eu);if(!e||!e.match(L_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function V_(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function F_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const U_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ir(t){if(!U_.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cl(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bm(t){return JSON.parse(JSON.stringify(t))}var z_=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const An=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),B_=[502,503,504];async function jm(t){var e;if(!E_(t))throw new tu(An(t),0);if(B_.includes(t.status))throw new tu(An(t),t.status);let n;try{n=await t.json()}catch(i){throw new ex(An(i),i)}let r;const s=$_(t);if(s&&s.getTime()>=Zy["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ym(An(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Yt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new ym(An(n),t.status,n.weak_password.reasons);throw new g_(An(n),t.status||500,r)}const W_=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function F(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[eu]||(i[eu]=Zy["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await q_(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function q_(t,e,n,r,s,i){const a=W_(e,r,s,i);let l;try{l=await t(n,Object.assign({},a))}catch(c){throw console.error(c),new tu(An(c),0)}if(l.ok||await jm(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await jm(c)}}function Tt(t){var e;let n=null;J_(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=C_(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Sm(t){const e=Tt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function tn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function H_(t){return{data:t,error:null}}function K_(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,a=z_(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function G_(t){return t}function J_(t){return t.access_token&&t.refresh_token&&t.expires_in}const Tl=["global","local","others"];var Y_=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Q_{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=rx(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Tl[0]){if(Tl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tl.join(", ")}`);try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:tn})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Y_(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:K_,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if($(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:tn})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:G_});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(b=>{const v=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(b.split(";")[1].split("=")[1]);u[`${j}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if($(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ir(e);try{return await F(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:tn})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ir(e);try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:tn})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ir(e);try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:tn})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ir(e.userId);try{const{data:n,error:r}=await F(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if($(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ir(e.userId),ir(e.id);try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}}function Nm(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function X_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ar={debug:!!(globalThis&&nx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Z_ extends sx{}async function ek(t,e,n){ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ar.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Z_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ar.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}X_();const tk={url:d_,storageKey:h_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:f_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _m(t,e,n){return await n()}const or={};class ui{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ui.nextInstanceID,ui.nextInstanceID+=1,this.instanceID>0&&ot()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},tk),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Q_({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=rx(s.fetch),this.lock=s.lock||_m,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ot()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ek:this.lock=_m,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:nx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Nm(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Nm(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=or[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){or[this.storageKey]=Object.assign(Object.assign({},or[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=or[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){or[this.storageKey]=Object.assign(Object.assign({},or[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Xy}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=P_(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ot()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),v_(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return $(n)?{error:n}:{error:new ex("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Tt}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await sr(this.storage,this.storageKey)),i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:b},xform:Tt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Tt})}else throw new Qi("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:a,options:l}=e;n=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Sm})}else if("phone"in e){const{phone:i,password:a,options:l}=e;n=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Sm})}else throw new Qi("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Yi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,a,l,c,u,d,h,f,p;let b,v;if("message"in e)b=e.message,v=e.signature;else{const{chain:j,wallet:g,statement:y,options:m}=e;let x;if(ot())if(typeof g=="object")x=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))x=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const w=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const S=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),y?{statement:y}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)b=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),v=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${w.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(s=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await x.signMessage(new TextEncoder().encode(b),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=S}}try{const{data:j,error:g}=await F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:k_(v)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Tt});if(g)throw g;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Yi}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:g})}catch(j){if($(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const n=await Tn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Tt});if(await Kt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Yi}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if($(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=e,l=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Tt}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Yi}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,a;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await sr(this.storage,this.storageKey));const{error:h}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Qi("You must provide either an email or phone number.")}catch(l){if($(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Tt});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await sr(this.storage,this.storageKey)),await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:H_})}catch(i){if($(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Yt;const{error:s}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if($(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:a}=await F(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:a,error:l}=await F(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Qi("You must provide either an email or phone number and a type")}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Tn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Nl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Tn(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Cl()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:tn}):await this._useSession(async n=>{var r,s,i;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yt}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:tn})})}catch(n){if($(n))return x_(n)&&(await this._removeSession(),await Kt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Yt;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await sr(this.storage,this.storageKey));const{data:u,error:d}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:tn});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Yt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=kl(e.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if($(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:l}=n;if(l)throw l;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Yt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ot())throw new Xi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Xi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new gm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new gm("No code detected.");const{data:y,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!a||!u)throw new Xi("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=cr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const b=f-h;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,f,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,f,d);const{data:v,error:j}=await this._getUser(i);if(j)throw j;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if($(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Tn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(y_(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Kt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=T_(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await sr(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if($(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ot()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if($(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await A_(async s=>(s>0&&await D_(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Tt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&_l(i)&&Date.now()+a-r<cr})}catch(r){if(this._debug(n,"error",r),$(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ot()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Tn(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Tn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await ur(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Cl()}else if(s&&!s.user&&!s.user){const a=await Tn(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Kt(this.storage,this.storageKey+"-user"),await ur(this.storage,this.storageKey,s)):s.user=Cl()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Nl;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Nl}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),_l(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Po;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Yt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),$(i)){const a={session:null,error:i};return _l(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ur(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=bm(s);await ur(this.storage,this.storageKey,i)}else{const s=bm(n);await ur(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Kt(this.storage,this.storageKey),await Kt(this.storage,this.storageKey+"-code-verifier"),await Kt(this.storage,this.storageKey+"-user"),this.userStorage&&await Kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),cr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/cr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${cr}ms, refresh threshold is ${Zc} ticks`),s<=Zc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof sx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await sr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await F(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await F(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:a,error:l}=await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=kl(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+p_>s)return r;const{data:i,error:a}=await F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:b}=await this.getSession();if(b||!p.session)return{data:null,error:b};r=p.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=kl(r);n!=null&&n.allowExpired||V_(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:a},error:null}}const d=F_(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,__(`${l}.${c}`)))throw new nu("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}}ui.nextInstanceID=0;const nk=ui;class rk extends nk{constructor(e){super(e)}}var sk=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class ik{constructor(e,n,r){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=c_(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:t_,realtime:r_,auth:Object.assign(Object.assign({},n_),{storageKey:u}),global:e_},h=u_(r??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=o_(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new b2(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Q2(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new QN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return sk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:a,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rk({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new $2(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ak=(t,e,n)=>new ik(t,e,n);function ok(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}ok()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const lk="https://bsofslflmtruatzkepmn.supabase.co",ck="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJzb2ZzbGZsbXRydWF0emtlcG1uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4MTAzOTksImV4cCI6MjA3MDM4NjM5OX0.0LPj4QHnt3D7JM6K9wCmUpfJ-oO2E7x4q5OtNY4Cmnk";ak(lk,ck,{auth:{persistSession:!1,autoRefreshToken:!1}});const Tr={async getAll(){try{const t=localStorage.getItem("demo_enfants");return t?JSON.parse(t):[]}catch(t){return console.error("Erreur localStorage enfants:",t),[]}},async create(t){try{const e={...t,id:Date.now().toString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()},n=localStorage.getItem("demo_enfants"),r=n?JSON.parse(n):[];return r.push(e),localStorage.setItem("demo_enfants",JSON.stringify(r)),e}catch(e){throw console.error("Erreur création enfant:",e),e}},async update(t,e){try{const n=localStorage.getItem("demo_enfants"),r=n?JSON.parse(n):[],s=r.findIndex(i=>i.id===t);if(s===-1)throw new Error("Enfant non trouvé");return r[s]={...r[s],...e,updated_at:new Date().toISOString()},localStorage.setItem("demo_enfants",JSON.stringify(r)),r[s]}catch(n){throw console.error("Erreur mise à jour enfant:",n),n}},async delete(t){try{const e=localStorage.getItem("demo_enfants"),r=(e?JSON.parse(e):[]).filter(s=>s.id!==t);localStorage.setItem("demo_enfants",JSON.stringify(r))}catch(e){throw console.error("Erreur suppression enfant:",e),e}}},km={async getAll(){try{const t=localStorage.getItem("demo_depenses");return t?JSON.parse(t):[]}catch(t){return console.error("Erreur localStorage dépenses:",t),[]}},async create(t){try{const e={...t,id:Date.now().toString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()},n=localStorage.getItem("demo_depenses"),r=n?JSON.parse(n):[];return r.push(e),localStorage.setItem("demo_depenses",JSON.stringify(r)),e}catch(e){throw console.error("Erreur création dépense:",e),e}}},Cm={async getAll(){try{const t=localStorage.getItem("demo_documents");return t?JSON.parse(t):[]}catch(t){return console.error("Erreur localStorage documents:",t),[]}},async upload(t,e,n){try{const r=new FileReader;return new Promise((s,i)=>{r.onload=()=>{const a={id:Date.now().toString(),titre:e,fichier_url:r.result,fichier_nom:t.name,fichier_taille:t.size,fichier_type:t.type,proprietaire_id:"demo-user",enfant_id:n,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},l=localStorage.getItem("demo_documents"),c=l?JSON.parse(l):[];c.push(a),localStorage.setItem("demo_documents",JSON.stringify(c)),s(a)},r.onerror=()=>i(new Error("Erreur lecture fichier")),r.readAsDataURL(t)})}catch(r){throw console.error("Erreur upload document:",r),r}}},ix=_.createContext(void 0),Pe=()=>{const t=_.useContext(ix);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},uk=({children:t})=>{const[e,n]=_.useState(null),[r,s]=_.useState(null),[i,a]=_.useState(!0),l=async(f,p,b)=>{a(!0);try{const v={id:"demo-user-"+Date.now(),email:f,created_at:new Date().toISOString()},j={id:"profile-"+Date.now(),user_id:v.id,full_name:b,email:f,enfants:[],is_trial:!0,trial_end_date:new Date(Date.now()+7*24*60*60*1e3).toISOString(),subscription_status:"trialing",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};localStorage.setItem("demo_user",JSON.stringify(v)),localStorage.setItem("demo_profile",JSON.stringify(j)),n(v),s(j)}catch(v){throw new Error(v.message)}finally{a(!1)}},c=async(f,p)=>{a(!0);try{const b={id:"demo-user",email:f,created_at:new Date().toISOString()},v=localStorage.getItem("demo_profile");let j;v?(j=JSON.parse(v),j.email=f):j={id:"profile-demo",user_id:"demo-user",full_name:"Utilisateur Démo",email:f,enfants:[{id:"enfant-1",nom:"Martin",prenom:"Emma",date_naissance:"2015-03-15",photo_url:"https://images.pexels.com/photos/1648377/pexels-photo-1648377.jpeg?auto=compress&cs=tinysrgb&w=400",ecole:{nom:"École Primaire Jean Jaurès",adresse:"12 Rue de la République, 75001 Paris",telephone:"01 42 36 85 92"},medecin:{nom:"Dr. Sophie Dubois",adresse:"45 Avenue des Champs, 75008 Paris",telephone:"01 45 62 78 34"},allergies:["Arachides","Fruits à coque"],groupe_sanguin:"A+",numero_secu:"2150315789123",activites:[{nom:"Danse classique",jour:"Mercredi",heure:"14h00",adresse:"Studio Étoile, 23 Rue Mozart, 75016 Paris",telephone:"01 47 55 89 12"},{nom:"Natation",jour:"Samedi",heure:"10h30",adresse:"Piscine Municipale, 8 Boulevard Voltaire, 75011 Paris",telephone:"01 43 57 92 45"}],urgences:[{nom:"Grand-mère Marie",telephone:"06 12 34 56 78",relation:"Grand-mère maternelle"},{nom:"Oncle Pierre",telephone:"06 87 65 43 21",relation:"Oncle paternel"}]},{id:"enfant-2",nom:"Martin",prenom:"Lucas",date_naissance:"2018-09-22",photo_url:"https://images.pexels.com/photos/1648376/pexels-photo-1648376.jpeg?auto=compress&cs=tinysrgb&w=400",ecole:{nom:"École Maternelle Les Petits Loups",adresse:"8 Impasse des Roses, 75012 Paris",telephone:"01 43 28 67 45"},medecin:{nom:"Dr. Michel Leroy",adresse:"12 Place de la Nation, 75012 Paris",telephone:"01 43 67 89 23"},allergies:["Lactose"],groupe_sanguin:"O-",numero_secu:"2180922456789",activites:[{nom:"Football",jour:"Mercredi",heure:"16h00",adresse:"Stade Municipal, 15 Avenue du Sport, 75012 Paris",telephone:"01 43 78 92 34"},{nom:"Éveil musical",jour:"Samedi",heure:"9h30",adresse:"Conservatoire, 34 Rue Beethoven, 75016 Paris",telephone:"01 47 89 12 56"}],urgences:[{nom:"Tante Claire",telephone:"06 98 76 54 32",relation:"Tante maternelle"},{nom:"Nounou Isabelle",telephone:"06 23 45 67 89",relation:"Assistante maternelle"}]},{id:"enfant-3",nom:"Dupont",prenom:"Léa",date_naissance:"2016-06-10",photo_url:"https://images.pexels.com/photos/1648375/pexels-photo-1648375.jpeg?auto=compress&cs=tinysrgb&w=400",ecole:{nom:"École Primaire Victor Hugo",adresse:"25 Rue Victor Hugo, 75015 Paris",telephone:"01 45 78 92 34"},medecin:{nom:"Dr. Anne Moreau",adresse:"67 Boulevard Saint-Germain, 75005 Paris",telephone:"01 43 29 87 65"},allergies:["Œufs","Gluten"],groupe_sanguin:"B+",numero_secu:"2160610123456",activites:[{nom:"Piano",jour:"Mardi",heure:"17h30",adresse:"École de Musique Harmony, 18 Rue des Arts, 75006 Paris",telephone:"01 42 67 89 12"},{nom:"Judo",jour:"Jeudi",heure:"18h00",adresse:"Dojo Parisien, 42 Avenue de la République, 75011 Paris",telephone:"01 48 92 34 56"}],urgences:[{nom:"Grand-père Jean",telephone:"06 45 67 89 12",relation:"Grand-père paternel"},{nom:"Voisine Martine",telephone:"06 78 90 12 34",relation:"Voisine de confiance"}]}],is_trial:!0,trial_end_date:new Date(Date.now()+30*24*60*60*1e3).toISOString(),subscription_status:"trialing",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},localStorage.setItem("demo_user",JSON.stringify(b)),localStorage.setItem("demo_profile",JSON.stringify(j)),n(b),s(j)}catch(b){throw new Error(b.message)}finally{a(!1)}},u=async()=>{localStorage.removeItem("demo_user"),localStorage.removeItem("demo_profile"),n(null),s(null)};_.useEffect(()=>{const f=localStorage.getItem("demo_user"),p=localStorage.getItem("demo_profile");if(f&&p)try{n(JSON.parse(f)),s(JSON.parse(p))}catch(b){console.error("Erreur lors du chargement des données de démo:",b)}a(!1)},[]);const h={user:e,profile:r,loading:i,signUp:l,signIn:c,signOut:u,updateProfile:async f=>{if(e)try{const p={...r,...f,updated_at:new Date().toISOString()};localStorage.setItem("demo_profile",JSON.stringify(p)),s(p),console.log("Profil mis à jour:",p)}catch(p){throw new Error(p.message)}}};return o.jsx(ix.Provider,{value:h,children:t})},dk=()=>{const[t,e]=_.useState(!0),[n,r]=_.useState(""),[s,i]=_.useState(""),[a,l]=_.useState(""),[c,u]=_.useState(!1),[d,h]=_.useState(""),[f,p]=_.useState(!1),{signIn:b,signUp:v}=Pe(),j=async g=>{g.preventDefault(),h(""),p(!0);try{t?await b(n,s):await v(n,s,a)}catch(y){h(y.message||"Une erreur est survenue")}finally{p(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center px-4",children:o.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx(jo,{size:"lg",showText:!1})}),!t&&o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 text-white px-4 py-2 rounded-full text-sm font-medium mb-4 inline-block",children:"🎉 Essai gratuit 1 mois complet - Sans engagement"}),o.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-green-600 bg-clip-text text-transparent mb-2",children:"Co-Parents"}),o.jsx("p",{className:"text-gray-600",children:t?"Connectez-vous à votre espace":"Rejoignez-nous sans engagement"})]}),o.jsxs("form",{onSubmit:j,className:"space-y-6",children:[!t&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet"}),o.jsxs("div",{className:"relative",children:[o.jsx(ve,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",value:a,onChange:g=>l(g.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Votre nom complet",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ay,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"email",value:n,onChange:g=>r(g.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"votre@email.com",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx(IN,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),o.jsx("input",{type:c?"text":"password",value:s,onChange:g=>i(g.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••",required:!0}),o.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:c?o.jsx(MN,{className:"w-5 h-5"}):o.jsx(Dy,{className:"w-5 h-5"})})]})]}),d&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:o.jsx("p",{className:"text-red-600 text-sm",children:d})}),!t&&o.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg p-4",children:o.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-green-500",children:"✓"}),o.jsx("span",{children:"Sans engagement"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-green-500",children:"✓"}),o.jsx("span",{children:"Annulation facile"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-green-500",children:"✓"}),o.jsx("span",{children:"Aucun frais caché"})]})]})}),o.jsx("button",{type:"submit",disabled:f,className:"w-full bg-gradient-to-r from-blue-500 to-green-500 text-white py-3 rounded-lg font-semibold hover:from-blue-600 hover:to-green-600 transition-colors disabled:opacity-50 shadow-lg",children:f?"Chargement...":t?"Se connecter":"Créer mon compte"}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>{e(!t),h(""),r(""),i(""),l("")},className:"text-blue-600 hover:text-blue-700 text-sm",children:t?"Pas encore de compte ? S'inscrire":"Déjà un compte ? Se connecter"})}),o.jsx("div",{className:"text-center mt-4 p-3 bg-blue-50 rounded-lg",children:o.jsx("p",{className:"text-sm text-blue-700",children:t?o.jsxs(o.Fragment,{children:["💡 ",o.jsx("strong",{children:"Astuce :"})," Votre email servira d'identifiant pour vous connecter."]}):o.jsxs(o.Fragment,{children:["🎯 ",o.jsx("strong",{children:"Promesse :"})," Aucune carte bancaire • Accès immédiat • Annulation en 1 clic"]})})})]})]})})})},hk=({onGetStarted:t})=>{_.useState(0);const e=[{icon:Bt,title:"Planning de garde",description:"Organisez facilement les jours de garde avec un calendrier intuitif",image:"https://images.pexels.com/photos/1181406/pexels-photo-1181406.jpeg?auto=compress&cs=tinysrgb&w=800",color:"from-blue-500 to-blue-600"},{icon:Kr,title:"Messages instantanés",description:"Communiquez en temps réel avec votre co-parent",image:"https://images.pexels.com/photos/1591447/pexels-photo-1591447.jpeg?auto=compress&cs=tinysrgb&w=800",color:"from-green-500 to-green-600"},{icon:Qn,title:"Photos partagées",description:"Partagez les plus beaux moments de vos enfants",image:"https://images.pexels.com/photos/1648377/pexels-photo-1648377.jpeg?auto=compress&cs=tinysrgb&w=800",color:"from-purple-500 to-purple-600"},{icon:ye,title:"Contacts d'urgence",description:"Accédez rapidement aux informations importantes",image:"https://images.pexels.com/photos/4226140/pexels-photo-4226140.jpeg?auto=compress&cs=tinysrgb&w=800",color:"from-red-500 to-red-600"}],n=[{name:"Marie L.",text:"Cette app a révolutionné notre organisation familiale !",rating:5},{name:"Thomas D.",text:"Enfin une solution simple pour communiquer avec mon ex-conjointe.",rating:5},{name:"Sophie M.",text:"Les enfants adorent voir leurs photos partagées !",rating:5}],r=["Organisation simplifiée","Communication apaisée","Souvenirs préservés","Informations centralisées"];return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:[o.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 text-white py-4 px-4 text-center relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 to-transparent"}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-1",children:[o.jsx("span",{className:"text-3xl",children:"🎉"}),o.jsx("span",{className:"font-bold text-2xl",children:"1 MOIS OFFERT"}),o.jsx("span",{className:"text-3xl",children:"🎉"})]}),o.jsx("p",{className:"text-sm opacity-90",children:"Profitez de toutes les fonctionnalités gratuitement pendant 1 mois complet"})]})]}),o.jsx("div",{className:"relative overflow-hidden",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[o.jsx("div",{className:"text-center",children:o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx(jo,{size:"xl",showText:!1})}),o.jsx("h1",{className:"text-4xl md:text-6xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-green-600 bg-clip-text text-transparent mb-4",children:"Co-Parents"}),o.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"L'application qui simplifie la vie des familles recomposées"}),o.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:o.jsxs("button",{onClick:t,className:"bg-gradient-to-r from-blue-500 to-green-500 text-white px-8 py-4 rounded-full font-semibold text-lg hover:from-blue-600 hover:to-green-600 transition-colors transform hover:scale-105 flex items-center space-x-2",children:[o.jsx("span",{children:"Commencer maintenant"}),o.jsx(Bc,{className:"w-5 h-5"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-12",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:"0€"}),o.jsx("div",{className:"text-gray-600",children:"Frais d'engagement"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"∞"}),o.jsx("div",{className:"text-gray-600",children:"Liberté totale"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:"24h"}),o.jsx("div",{className:"text-gray-600",children:"Pour annuler"})]})]})]})}),o.jsxs(L.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},className:"relative rounded-2xl overflow-hidden shadow-2xl",children:[o.jsx("img",{src:"https://images.pexels.com/photos/1648377/pexels-photo-1648377.jpeg?auto=compress&cs=tinysrgb&w=1200",alt:"Famille heureuse",className:"w-full h-64 md:h-96 object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),o.jsxs("div",{className:"absolute bottom-6 left-6 text-white",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("span",{className:"flex items-center space-x-2",children:[o.jsx(wl,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{children:"Résiliation à tout moment"})]}),o.jsxs("span",{className:"flex items-center space-x-2",children:[o.jsx(wl,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{children:"Aucun frais caché"})]})]}),o.jsx("p",{className:"text-sm opacity-90 mt-2",children:"Restez connectés, même à distance"})]})]})]})}),o.jsx("div",{className:"py-16 bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Forfait sans engagement"}),o.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Une suite complète d'outils pour faciliter la coparentalité"})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((s,i)=>{const a=s.icon;return o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:i*.1},className:"text-center group cursor-pointer",children:[o.jsxs("div",{className:"relative mb-6",children:[o.jsx("div",{className:"w-full h-48 rounded-xl overflow-hidden mb-4 shadow-lg group-hover:shadow-xl transition-shadow",children:o.jsx("img",{src:s.image,alt:s.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),o.jsx("div",{className:`absolute -bottom-4 left-1/2 transform -translate-x-1/2 w-12 h-12 bg-gradient-to-r ${s.color} rounded-full flex items-center justify-center shadow-lg`,children:o.jsx(a,{className:"w-6 h-6 text-white"})})]}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:s.title}),o.jsx("p",{className:"text-gray-600",children:s.description})]},i)})})]})}),o.jsx("div",{className:"py-16 bg-gray-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[o.jsxs(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Pourquoi choisir Co-Parents ?"}),o.jsx("div",{className:"space-y-4",children:r.map((s,i)=>o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(wl,{className:"w-6 h-6 text-green-500 flex-shrink-0"}),o.jsx("span",{className:"text-lg text-gray-700",children:s})]},i))}),o.jsxs("div",{className:"mt-8 p-6 bg-blue-50 rounded-xl border border-blue-200",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[o.jsx(Ed,{className:"w-6 h-6 text-blue-600"}),o.jsx("h3",{className:"font-semibold text-blue-900",children:"Sécurité garantie"})]}),o.jsx("p",{className:"text-blue-700",children:"Vos données sont protégées et ne sont jamais partagées avec des tiers."})]})]}),o.jsx(L.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"relative",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("img",{src:"https://images.pexels.com/photos/1648377/pexels-photo-1648377.jpeg?auto=compress&cs=tinysrgb&w=400",alt:"Enfants heureux",className:"rounded-xl shadow-lg"}),o.jsx("img",{src:"https://images.pexels.com/photos/4226140/pexels-photo-4226140.jpeg?auto=compress&cs=tinysrgb&w=400",alt:"Communication",className:"rounded-xl shadow-lg mt-8"})]})})]})})}),o.jsx("div",{className:"py-16 bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsx("div",{className:"text-center mb-12",children:o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Ce que disent nos utilisateurs"})}),o.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:n.map((s,i)=>o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:i*.1},className:"bg-gray-50 p-6 rounded-xl",children:[o.jsx("div",{className:"flex items-center mb-4",children:[...Array(s.rating)].map((a,l)=>o.jsx(Ry,{className:"w-5 h-5 text-yellow-400 fill-current"},l))}),o.jsxs("p",{className:"text-gray-700 mb-4 italic",children:['"',s.text,'"']}),o.jsxs("p",{className:"font-semibold text-gray-900",children:["- ",s.name]})]},i))})]})}),o.jsx("div",{className:"py-16 bg-gradient-to-r from-blue-500 to-green-500",children:o.jsx("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Rejoignez-nous sans engagement !"}),o.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Des milliers de familles nous font déjà confiance"}),o.jsxs("button",{onClick:t,className:"bg-white text-blue-600 px-8 py-4 rounded-full font-semibold text-lg hover:bg-gray-100 transition-colors transform hover:scale-105 flex items-center space-x-2 mx-auto",children:[o.jsx("span",{children:"Commencer sans engagement"}),o.jsx(Bc,{className:"w-5 h-5"})]}),o.jsx("p",{className:"text-blue-100 mt-4 text-sm",children:"Résiliation libre • 1 mois d'essai gratuit • Aucun frais caché"})]})})})]})},fk=({activeTab:t,onTabChange:e})=>{const n=[{id:"home",label:"Accueil",icon:RN},{id:"photos",label:"Photos",icon:Qn},{id:"planning",label:"Planning",icon:Bt},{id:"enfants",label:"Enfants",icon:ve},{id:"contact",label:"Contact",icon:ye},{id:"messages",label:"Messages",icon:Kr}];return o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-30",children:o.jsx("div",{className:"flex",children:n.map(r=>{const s=r.icon,i=t===r.id;return o.jsx("button",{onClick:()=>e(r.id),className:`flex-1 flex flex-col items-center py-3 px-2 transition-colors ${i?"text-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,children:o.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[o.jsx(s,{className:`w-4 h-4 ${i?"text-blue-600":"text-gray-500"}`}),o.jsx("span",{className:`text-xs font-medium ${i?"text-blue-600":"text-gray-500"}`,children:r.label})]})},r.id)})})})},mk=({isOpen:t,onClose:e,onNavigate:n})=>{var a;const{signOut:r,profile:s}=Pe(),i=[{id:"profile",label:"Profil",icon:ve},{id:"documents",label:"Documents",icon:bs},{id:"health",label:"Suivi Santé",icon:kt},{id:"rdv",label:"Rendez-vous",icon:Hr},{id:"subscription",label:"Abonnement",icon:Ey},{id:"settings",label:"Paramètres",icon:Oy},{id:"help",label:"Aide/FAQ",icon:Wc}];return t?o.jsxs(o.Fragment,{children:[o.jsx("div",{onClick:e,className:"fixed inset-0 bg-black bg-opacity-50 z-[100]"}),o.jsxs(L.div,{initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",damping:25,stiffness:200},className:"fixed left-0 top-0 h-screen w-72 bg-gradient-to-br from-purple-50 via-white to-pink-50 shadow-2xl z-[101] border-r border-purple-100 flex flex-col",children:[o.jsxs("div",{className:"relative p-3 border-b border-purple-200 bg-gradient-to-r from-purple-500 via-pink-500 to-purple-600 flex-shrink-0",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent"}),o.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-white/5 rounded-full -translate-y-8 translate-x-8"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-12 h-12 bg-white/5 rounded-full translate-y-6 -translate-x-6"}),o.jsxs("div",{className:"relative flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"relative",children:o.jsx(jo,{size:"sm",showText:!1})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-base font-bold text-white",children:"Co-Parents"}),o.jsx("p",{className:"text-white/80 text-xs truncate max-w-[120px]",children:(s==null?void 0:s.full_name)||"Utilisateur"})]})]}),o.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:o.jsx(Ct,{className:"w-5 h-5 text-white"})})]}),o.jsxs("div",{className:"relative mt-2 grid grid-cols-3 gap-1",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xs font-bold text-white",children:((a=s==null?void 0:s.enfants)==null?void 0:a.length)||0}),o.jsx("div",{className:"text-xs text-white/70",children:"Enfants"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xs font-bold text-white",children:"12"}),o.jsx("div",{className:"text-xs text-white/70",children:"Jours"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xs font-bold text-white",children:"45"}),o.jsx("div",{className:"text-xs text-white/70",children:"Photos"})]})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto py-2 px-3",style:{maxHeight:"calc(100vh - 120px)"},children:o.jsx("nav",{className:"space-y-1",children:i.map((l,c)=>{const u=l.icon,d=["from-blue-500 to-blue-600","from-purple-500 to-purple-600","from-pink-500 to-pink-600","from-green-500 to-green-600","from-orange-500 to-orange-600","from-red-500 to-red-600","from-indigo-500 to-indigo-600","from-teal-500 to-teal-600","from-yellow-500 to-yellow-600"],h=d[c%d.length];return o.jsxs(L.button,{whileHover:{scale:1.02,x:4},whileTap:{scale:.98},onClick:()=>{n(l.id),e()},className:"w-full flex items-center space-x-3 p-2.5 text-left hover:bg-white/60 rounded-lg transition-all duration-200 group",children:[o.jsx("div",{className:`w-7 h-7 bg-gradient-to-r ${h} rounded-lg flex items-center justify-center shadow-md group-hover:shadow-lg transition-shadow`,children:o.jsx(u,{className:"w-4 h-4 text-white"})}),o.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900 transition-colors",children:l.label})]},l.id)})})})]})]}):null},pk=()=>{const{profile:t,updateProfile:e}=Pe(),[n,r]=_.useState(!1),[s,i]=_.useState({full_name:(t==null?void 0:t.full_name)||"",photo:(t==null?void 0:t.photo)||"",enfants:(t==null?void 0:t.enfants)||[]}),[a,l]=_.useState(!1),[c,u]=_.useState(null),[d,h]=_.useState(!1),f=async()=>{l(!0);try{await e(s),r(!1)}catch(m){console.error("Erreur lors de la sauvegarde:",m)}finally{l(!1)}},p=()=>{i({full_name:(t==null?void 0:t.full_name)||"",photo:(t==null?void 0:t.photo)||"",enfants:(t==null?void 0:t.enfants)||[]}),r(!1),h(!1),u(null)},b=m=>{window.location.href=`tel:${m}`},v=m=>{const x=encodeURIComponent(m),w=`https://waze.com/ul?q=${x}&navigate=yes`,S=`https://www.google.com/maps/search/?api=1&query=${x}`,N=window.open(w,"_blank");setTimeout(()=>{(!N||N.closed)&&window.open(S,"_blank")},1e3)},j=m=>{i(x=>{const w=x.enfants.findIndex(S=>S.id===m.id);if(w>=0){const S=[...x.enfants];return S[w]=m,{...x,enfants:S}}else return{...x,enfants:[...x.enfants,m]}}),h(!1),u(null)},g=m=>{i(x=>({...x,enfants:x.enfants.filter((w,S)=>S!==m)}))},y=({enfant:m,onSave:x,onCancel:w})=>{const[S,N]=_.useState(m||{id:Date.now().toString(),nom:"",prenom:"",date_naissance:"",ecole:{nom:"",adresse:"",telephone:""},medecin:{nom:"",adresse:"",telephone:""},allergies:[],groupe_sanguin:"",numero_secu:"",activites:[],urgences:[]}),k=T=>{T.preventDefault(),x(S)};return o.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[m?"Modifier":"Ajouter"," un enfant"]}),o.jsx("button",{onClick:w,className:"text-gray-500 hover:text-gray-700",children:o.jsx(Ct,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:k,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prénom"}),o.jsx("input",{type:"text",value:S.prenom,onChange:T=>N(C=>({...C,prenom:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom"}),o.jsx("input",{type:"text",value:S.nom,onChange:T=>N(C=>({...C,nom:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de naissance"}),o.jsx("input",{type:"date",value:S.date_naissance,onChange:T=>N(C=>({...C,date_naissance:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de la photo"}),o.jsx("input",{type:"url",value:S.photo_url,onChange:T=>N(C=>({...C,photo_url:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://..."}),o.jsxs("div",{className:"mt-2",children:[o.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Ou télécharger une photo :"}),o.jsx("input",{type:"file",accept:"image/*",onChange:T=>{var A;const C=(A=T.target.files)==null?void 0:A[0];if(C){const V=new FileReader;V.onload=z=>{var Sn;const jn=(Sn=z.target)==null?void 0:Sn.result;N(tr=>({...tr,photo_url:jn}))},V.readAsDataURL(C)}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[o.jsx(Bt,{className:"w-5 h-5 mr-2 text-blue-600"}),"École"]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("input",{type:"text",placeholder:"Nom de l'école",value:S.ecole.nom,onChange:T=>N(C=>({...C,ecole:{...C.ecole,nom:T.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),o.jsx("input",{type:"text",placeholder:"Adresse de l'école",value:S.ecole.adresse,onChange:T=>N(C=>({...C,ecole:{...C.ecole,adresse:T.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),o.jsx("input",{type:"tel",placeholder:"Téléphone de l'école",value:S.ecole.telephone,onChange:T=>N(C=>({...C,ecole:{...C.ecole,telephone:T.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[o.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[o.jsx(kt,{className:"w-5 h-5 mr-2 text-green-600"}),"Médecin traitant"]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("input",{type:"text",placeholder:"Nom du médecin",value:S.medecin.nom,onChange:T=>N(C=>({...C,medecin:{...C.medecin,nom:T.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),o.jsx("input",{type:"text",placeholder:"Adresse du cabinet",value:S.medecin.adresse,onChange:T=>N(C=>({...C,medecin:{...C.medecin,adresse:T.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),o.jsx("input",{type:"tel",placeholder:"Téléphone du médecin",value:S.medecin.telephone,onChange:T=>N(C=>({...C,medecin:{...C.medecin,telephone:T.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[o.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[o.jsx(ci,{className:"w-5 h-5 mr-2 text-red-600"}),"Informations médicales"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("input",{type:"text",placeholder:"Groupe sanguin (ex: O+)",value:S.groupe_sanguin,onChange:T=>N(C=>({...C,groupe_sanguin:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),o.jsx("input",{type:"text",placeholder:"N° Sécurité sociale",value:S.numero_secu,onChange:T=>N(C=>({...C,numero_secu:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),o.jsx("textarea",{placeholder:"Allergies (séparées par des virgules)",value:S.allergies.join(", "),onChange:T=>N(C=>({...C,allergies:T.target.value.split(",").map(A=>A.trim()).filter(A=>A)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 mt-3",rows:2})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{type:"submit",className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-medium",children:m?"Modifier":"Ajouter"}),o.jsx("button",{type:"button",onClick:w,className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-3 rounded-lg font-medium",children:"Annuler"})]})]})]})})})};return o.jsx("div",{className:"p-6 pb-20",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[o.jsx(ve,{className:"w-8 h-8 text-blue-600"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mon profil"})]}),o.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-20 h-20 bg-blue-500 rounded-full flex items-center justify-center overflow-hidden",children:s.photo?o.jsx("img",{src:s.photo,alt:"Profil",className:"w-full h-full object-cover"}):o.jsx(ve,{className:"w-10 h-10 text-white"})}),n&&o.jsx("button",{className:"absolute -bottom-1 -right-1 bg-blue-500 text-white p-1 rounded-full hover:bg-blue-600",children:o.jsx(Qn,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex-1",children:[n?o.jsx("input",{type:"text",value:s.full_name,onChange:m=>i(x=>({...x,full_name:m.target.value})),className:"text-xl font-bold text-gray-900 border-b-2 border-blue-500 bg-transparent focus:outline-none w-full",placeholder:"Votre nom complet"}):o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:(t==null?void 0:t.full_name)||"Nom non défini"}),o.jsx("p",{className:"text-gray-500",children:"Parent"})]}),o.jsx("div",{className:"flex space-x-2",children:n?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:f,disabled:a,className:"bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white p-2 rounded-lg transition-colors",children:o.jsx(My,{className:"w-5 h-5"})}),o.jsx("button",{onClick:p,className:"bg-gray-500 hover:bg-gray-600 text-white p-2 rounded-lg transition-colors",children:o.jsx(Ct,{className:"w-5 h-5"})})]}):o.jsx("button",{onClick:()=>r(!0),className:"bg-blue-500 hover:bg-blue-600 text-white p-2 rounded-lg transition-colors",children:o.jsx(Ga,{className:"w-5 h-5"})})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Mes enfants"}),s.enfants.length===0?o.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Aucun enfant ajouté"}):o.jsx("div",{className:"space-y-4 mb-4",children:s.enfants.map((m,x)=>o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("h4",{className:"font-semibold text-gray-900",children:[m.prenom," ",m.nom]}),n&&o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>{u(m),h(!0)},className:"text-blue-500 hover:text-blue-700",children:o.jsx(Ga,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>g(x),className:"text-red-500 hover:text-red-700",children:o.jsx(Ja,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[m.ecole.nom&&o.jsxs("div",{className:"flex items-center justify-between bg-blue-50 p-2 rounded",children:[o.jsxs("span",{className:"text-gray-700",children:[o.jsx(Bt,{className:"w-4 h-4 inline mr-1"}),m.ecole.nom]}),o.jsxs("div",{className:"flex space-x-1",children:[m.ecole.telephone&&o.jsx("button",{onClick:()=>b(m.ecole.telephone),className:"text-green-600 hover:text-green-700",title:"Appeler l'école",children:o.jsx(ye,{className:"w-4 h-4"})}),m.ecole.adresse&&o.jsx("button",{onClick:()=>v(m.ecole.adresse),className:"text-blue-600 hover:text-blue-700",title:"Naviguer vers l'école",children:o.jsx(Wt,{className:"w-4 h-4"})})]})]}),m.medecin.nom&&o.jsxs("div",{className:"flex items-center justify-between bg-green-50 p-2 rounded",children:[o.jsxs("span",{className:"text-gray-700",children:[o.jsx(kt,{className:"w-4 h-4 inline mr-1"}),"Dr. ",m.medecin.nom]}),o.jsxs("div",{className:"flex space-x-1",children:[m.medecin.telephone&&o.jsx("button",{onClick:()=>b(m.medecin.telephone),className:"text-green-600 hover:text-green-700",title:"Appeler le médecin",children:o.jsx(ye,{className:"w-4 h-4"})}),m.medecin.adresse&&o.jsx("button",{onClick:()=>v(m.medecin.adresse),className:"text-blue-600 hover:text-blue-700",title:"Naviguer vers le cabinet",children:o.jsx(Wt,{className:"w-4 h-4"})})]})]}),m.allergies.length>0&&o.jsx("div",{className:"bg-red-50 p-2 rounded",children:o.jsxs("span",{className:"text-red-700 text-xs",children:[o.jsx(ci,{className:"w-4 h-4 inline mr-1"}),"Allergies: ",m.allergies.join(", ")]})}),m.groupe_sanguin&&o.jsx("div",{className:"bg-gray-50 p-2 rounded",children:o.jsxs("span",{className:"text-gray-700 text-xs",children:["Groupe: ",m.groupe_sanguin]})})]})]},x))}),n&&o.jsxs("button",{onClick:()=>{u(null),h(!0)},className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-medium flex items-center justify-center space-x-2",children:[o.jsx(bi,{className:"w-5 h-5"}),o.jsx("span",{children:"Ajouter un enfant"})]})]}),o.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistiques"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:"12"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Jours ce mois"})]}),o.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"45"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Photos partagées"})]})]})]})]})]})}),d&&o.jsx(y,{enfant:c||void 0,onSave:j,onCancel:()=>{h(!1),u(null)}})]})})},ax=6048e5,gk=864e5,ox=6e4,lx=36e5,Tm=Symbol.for("constructDateFrom");function Me(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Tm in t?t[Tm](e):t instanceof Date?new t.constructor(e):new Date(e)}function fe(t,e){return Me(e||t,t)}function yk(t,e,n){const r=fe(t,n==null?void 0:n.in);return isNaN(e)?Me(t,NaN):(r.setDate(r.getDate()+e),r)}function cx(t,e,n){const r=fe(t,n==null?void 0:n.in);if(isNaN(e))return Me(t,NaN);if(!e)return r;const s=r.getDate(),i=Me(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const a=i.getDate();return s>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),s),r)}let xk={};function Eo(){return xk}function di(t,e){var l,c,u,d;const n=Eo(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=fe(t,e==null?void 0:e.in),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Xa(t,e){return di(t,{...e,weekStartsOn:1})}function ux(t,e){const n=fe(t,e==null?void 0:e.in),r=n.getFullYear(),s=Me(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=Xa(s),a=Me(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=Xa(a);return n.getTime()>=i.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function Pm(t){const e=fe(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Do(t,...e){const n=Me.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Za(t,e){const n=fe(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function vk(t,e,n){const[r,s]=Do(n==null?void 0:n.in,t,e),i=Za(r),a=Za(s),l=+i-Pm(i),c=+a-Pm(a);return Math.round((l-c)/gk)}function wk(t,e){const n=ux(t,e),r=Me(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Xa(r)}function dx(t){return Me(t,Date.now())}function In(t,e,n){const[r,s]=Do(n==null?void 0:n.in,t,e);return+Za(r)==+Za(s)}function bk(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function jk(t){return!(!bk(t)&&typeof t!="number"||isNaN(+fe(t)))}function Sk(t,e){const n=fe(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Nk(t,e){const[n,r]=Do(t,e.start,e.end);return{start:n,end:r}}function Em(t,e){const{start:n,end:r}=Nk(e==null?void 0:e.in,t);let s=+n>+r;const i=s?+n:+r,a=s?r:n;a.setHours(0,0,0,0);let l=1;const c=[];for(;+a<=i;)c.push(Me(n,a)),a.setDate(a.getDate()+l),a.setHours(0,0,0,0);return s?c.reverse():c}function _k(t,e){const n=fe(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function kk(t,e){const n=fe(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Ck={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Tk=(t,e,n)=>{let r;const s=Ck[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ir(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Pk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ek={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Dk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ak={date:Ir({formats:Pk,defaultWidth:"full"}),time:Ir({formats:Ek,defaultWidth:"full"}),dateTime:Ir({formats:Dk,defaultWidth:"full"})},Mk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ok=(t,e,n,r)=>Mk[t];function vt(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const Rk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ik={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Lk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$k={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Vk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Fk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Uk=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},zk={ordinalNumber:Uk,era:vt({values:Rk,defaultWidth:"wide"}),quarter:vt({values:Ik,defaultWidth:"wide",argumentCallback:t=>t-1}),month:vt({values:Lk,defaultWidth:"wide"}),day:vt({values:$k,defaultWidth:"wide"}),dayPeriod:vt({values:Vk,defaultWidth:"wide",formattingValues:Fk,defaultFormattingWidth:"wide"})};function wt(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Wk(l,h=>h.test(a)):Bk(l,h=>h.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function Bk(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Wk(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function hx(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(s.length);return{value:a,rest:l}}}const qk=/^(\d+)(th|st|nd|rd)?/i,Hk=/\d+/i,Kk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Gk={any:[/^b/i,/^(a|c)/i]},Jk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Yk={any:[/1/i,/2/i,/3/i,/4/i]},Qk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Xk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Zk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},eC={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tC={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nC={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rC={ordinalNumber:hx({matchPattern:qk,parsePattern:Hk,valueCallback:t=>parseInt(t,10)}),era:wt({matchPatterns:Kk,defaultMatchWidth:"wide",parsePatterns:Gk,defaultParseWidth:"any"}),quarter:wt({matchPatterns:Jk,defaultMatchWidth:"wide",parsePatterns:Yk,defaultParseWidth:"any",valueCallback:t=>t+1}),month:wt({matchPatterns:Qk,defaultMatchWidth:"wide",parsePatterns:Xk,defaultParseWidth:"any"}),day:wt({matchPatterns:Zk,defaultMatchWidth:"wide",parsePatterns:eC,defaultParseWidth:"any"}),dayPeriod:wt({matchPatterns:tC,defaultMatchWidth:"any",parsePatterns:nC,defaultParseWidth:"any"})},sC={code:"en-US",formatDistance:Tk,formatLong:Ak,formatRelative:Ok,localize:zk,match:rC,options:{weekStartsOn:0,firstWeekContainsDate:1}};function iC(t,e){const n=fe(t,e==null?void 0:e.in);return vk(n,kk(n))+1}function aC(t,e){const n=fe(t,e==null?void 0:e.in),r=+Xa(n)-+wk(n);return Math.round(r/ax)+1}function fx(t,e){var d,h,f,p;const n=fe(t,e==null?void 0:e.in),r=n.getFullYear(),s=Eo(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(f=s.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=Me((e==null?void 0:e.in)||t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const l=di(a,e),c=Me((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=di(c,e);return+n>=+l?r+1:+n>=+u?r:r-1}function oC(t,e){var l,c,u,d;const n=Eo(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=fx(t,e),i=Me((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),di(i,e)}function lC(t,e){const n=fe(t,e==null?void 0:e.in),r=+di(n,e)-+oC(n,e);return Math.round(r/ax)+1}function W(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Gt={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return W(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):W(n+1,2)},d(t,e){return W(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return W(t.getHours()%12||12,e.length)},H(t,e){return W(t.getHours(),e.length)},m(t,e){return W(t.getMinutes(),e.length)},s(t,e){return W(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return W(s,e.length)}},lr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Dm={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Gt.y(t,e)},Y:function(t,e,n,r){const s=fx(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return W(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):W(i,e.length)},R:function(t,e){const n=ux(t);return W(n,e.length)},u:function(t,e){const n=t.getFullYear();return W(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return W(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return W(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Gt.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return W(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=lC(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):W(s,e.length)},I:function(t,e,n){const r=aC(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):W(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Gt.d(t,e)},D:function(t,e,n){const r=iC(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):W(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return W(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return W(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return W(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=lr.noon:r===0?s=lr.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=lr.evening:r>=12?s=lr.afternoon:r>=4?s=lr.morning:s=lr.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Gt.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Gt.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):W(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):W(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Gt.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Gt.s(t,e)},S:function(t,e){return Gt.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Mm(r);case"XXXX":case"XX":return Mn(r);case"XXXXX":case"XXX":default:return Mn(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Mm(r);case"xxxx":case"xx":return Mn(r);case"xxxxx":case"xxx":default:return Mn(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Am(r,":");case"OOOO":default:return"GMT"+Mn(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Am(r,":");case"zzzz":default:return"GMT"+Mn(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return W(r,e.length)},T:function(t,e,n){return W(+t,e.length)}};function Am(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+W(i,2)}function Mm(t,e){return t%60===0?(t>0?"-":"+")+W(Math.abs(t)/60,2):Mn(t,e)}function Mn(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=W(Math.trunc(r/60),2),i=W(r%60,2);return n+s+e+i}const Om=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},mx=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},cC=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Om(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Om(r,e)).replace("{{time}}",mx(s,e))},uC={p:mx,P:cC},dC=/^D+$/,hC=/^Y+$/,fC=["D","DD","YY","YYYY"];function mC(t){return dC.test(t)}function pC(t){return hC.test(t)}function gC(t,e,n){const r=yC(t,e,n);if(console.warn(r),fC.includes(t))throw new RangeError(r)}function yC(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wC=/^'([^]*?)'?$/,bC=/''/g,jC=/[a-zA-Z]/;function It(t,e,n){var d,h,f,p,b,v,j,g;const r=Eo(),s=(n==null?void 0:n.locale)??r.locale??sC,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((v=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((g=(j=r.locale)==null?void 0:j.options)==null?void 0:g.weekStartsOn)??0,l=fe(t,n==null?void 0:n.in);if(!jk(l))throw new RangeError("Invalid time value");let c=e.match(vC).map(y=>{const m=y[0];if(m==="p"||m==="P"){const x=uC[m];return x(y,s.formatLong)}return y}).join("").match(xC).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const m=y[0];if(m==="'")return{isToken:!1,value:SC(y)};if(Dm[m])return{isToken:!0,value:y};if(m.match(jC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(y=>{if(!y.isToken)return y.value;const m=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&pC(m)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&mC(m))&&gC(m,e,String(t));const x=Dm[m[0]];return x(l,m,s.localize,u)}).join("")}function SC(t){const e=t.match(wC);return e?e[1].replace(bC,"'"):t}function px(t,e){return+fe(t)<+fe(e)}function NC(t,e,n){const[r,s]=Do(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function eo(t,e){return In(Me(t,t),dx(t))}function gx(t,e){return In(t,yk(dx(t),1),e)}function Rm(t,e){const n=()=>Me(e==null?void 0:e.in,NaN),s=TC(t);let i;if(s.date){const u=PC(s.date,2);i=EC(u.restDateString,u.year)}if(!i||isNaN(+i))return n();const a=+i;let l=0,c;if(s.time&&(l=DC(s.time),isNaN(l)))return n();if(s.timezone){if(c=AC(s.timezone),isNaN(c))return n()}else{const u=new Date(a+l),d=fe(0,e==null?void 0:e.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return fe(a+l+c,e==null?void 0:e.in)}const Zi={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},_C=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,kC=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,CC=/^([+-])(\d{2})(?::?(\d{2}))?$/;function TC(t){const e={},n=t.split(Zi.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Zi.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Zi.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const s=Zi.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function PC(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function EC(t,e){if(e===null)return new Date(NaN);const n=t.match(_C);if(!n)return new Date(NaN);const r=!!n[4],s=fs(n[1]),i=fs(n[2])-1,a=fs(n[3]),l=fs(n[4]),c=fs(n[5])-1;if(r)return LC(e,l,c)?MC(e,l,c):new Date(NaN);{const u=new Date(0);return!RC(e,i,a)||!IC(e,s)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(s,a)),u)}}function fs(t){return t?parseInt(t):1}function DC(t){const e=t.match(kC);if(!e)return NaN;const n=Pl(e[1]),r=Pl(e[2]),s=Pl(e[3]);return $C(n,r,s)?n*lx+r*ox+s*1e3:NaN}function Pl(t){return t&&parseFloat(t.replace(",","."))||0}function AC(t){if(t==="Z")return 0;const e=t.match(CC);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return VC(r,s)?n*(r*lx+s*ox):NaN}function MC(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const OC=[31,null,31,30,31,30,31,31,30,31,30,31];function yx(t){return t%400===0||t%4===0&&t%100!==0}function RC(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(OC[e]||(yx(t)?29:28))}function IC(t,e){return e>=1&&e<=(yx(t)?366:365)}function LC(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function $C(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function VC(t,e){return e>=0&&e<=59}function FC(t,e,n){return cx(t,-e,n)}const UC={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},zC=(t,e,n)=>{let r;const s=UC[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+r:"il y a "+r:r},BC={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},WC={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},qC={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HC={date:Ir({formats:BC,defaultWidth:"full"}),time:Ir({formats:WC,defaultWidth:"full"}),dateTime:Ir({formats:qC,defaultWidth:"full"})},KC={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},GC=(t,e,n,r)=>KC[t],JC={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},YC={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},QC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},XC={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},ZC={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},eT=(t,e)=>{const n=Number(t),r=e==null?void 0:e.unit;if(n===0)return"0";const s=["year","week","hour","minute","second"];let i;return n===1?i=r&&s.includes(r)?"ère":"er":i="ème",n+i},tT=["MMM","MMMM"],nT={preprocessor:(t,e)=>t.getDate()===1||!e.some(r=>r.isToken&&tT.includes(r.value))?e:e.map(r=>r.isToken&&r.value==="do"?{isToken:!0,value:"d"}:r),ordinalNumber:eT,era:vt({values:JC,defaultWidth:"wide"}),quarter:vt({values:YC,defaultWidth:"wide",argumentCallback:t=>t-1}),month:vt({values:QC,defaultWidth:"wide"}),day:vt({values:XC,defaultWidth:"wide"}),dayPeriod:vt({values:ZC,defaultWidth:"wide"})},rT=/^(\d+)(ième|ère|ème|er|e)?/i,sT=/\d+/i,iT={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},aT={any:[/^av/i,/^ap/i]},oT={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},lT={any:[/1/i,/2/i,/3/i,/4/i]},cT={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},uT={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},dT={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},hT={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},fT={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},mT={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},pT={ordinalNumber:hx({matchPattern:rT,parsePattern:sT,valueCallback:t=>parseInt(t)}),era:wt({matchPatterns:iT,defaultMatchWidth:"wide",parsePatterns:aT,defaultParseWidth:"any"}),quarter:wt({matchPatterns:oT,defaultMatchWidth:"wide",parsePatterns:lT,defaultParseWidth:"any",valueCallback:t=>t+1}),month:wt({matchPatterns:cT,defaultMatchWidth:"wide",parsePatterns:uT,defaultParseWidth:"any"}),day:wt({matchPatterns:dT,defaultMatchWidth:"wide",parsePatterns:hT,defaultParseWidth:"any"}),dayPeriod:wt({matchPatterns:fT,defaultMatchWidth:"any",parsePatterns:mT,defaultParseWidth:"any"})},_i={code:"fr",formatDistance:zC,formatLong:HC,formatRelative:GC,localize:nT,match:pT,options:{weekStartsOn:1,firstWeekContainsDate:4}},gT=()=>{const{user:t}=Pe(),[e,n]=_.useState([]),[r,s]=_.useState(null),[i,a]=_.useState(!1),[l,c]=_.useState(0);_.useEffect(()=>{u()},[]);const u=async()=>{try{let h=localStorage.getItem(`photos_${t==null?void 0:t.id}`);if(h){const f=JSON.parse(h);n(f)}else{const f=[{id:"photo-1",user_id:(t==null?void 0:t.id)||"demo-user",url:"https://images.pexels.com/photos/1648377/pexels-photo-1648377.jpeg?auto=compress&cs=tinysrgb&w=800",description:"Emma au parc - Sortie du weekend",date_upload:new Date(Date.now()-1728e5).toISOString(),enfant:"Emma"},{id:"photo-2",user_id:(t==null?void 0:t.id)||"demo-user",url:"https://images.pexels.com/photos/1648376/pexels-photo-1648376.jpeg?auto=compress&cs=tinysrgb&w=800",description:"Lucas à la plage - Vacances d'été",date_upload:new Date(Date.now()-432e6).toISOString(),enfant:"Lucas"},{id:"photo-3",user_id:(t==null?void 0:t.id)||"demo-user",url:"https://images.pexels.com/photos/1648375/pexels-photo-1648375.jpeg?auto=compress&cs=tinysrgb&w=800",description:"Léa à son cours de danse",date_upload:new Date(Date.now()-6048e5).toISOString(),enfant:"Léa"},{id:"photo-4",user_id:(t==null?void 0:t.id)||"demo-user",url:"https://images.pexels.com/photos/1648374/pexels-photo-1648374.jpeg?auto=compress&cs=tinysrgb&w=800",description:"Sortie famille au zoo",date_upload:new Date(Date.now()-864e6).toISOString(),enfant:"Tous"},{id:"photo-5",user_id:(t==null?void 0:t.id)||"demo-user",url:"https://images.pexels.com/photos/1648373/pexels-photo-1648373.jpeg?auto=compress&cs=tinysrgb&w=800",description:"Emma et Lucas - Goûter d'anniversaire",date_upload:new Date(Date.now()-12096e5).toISOString(),enfant:"Emma & Lucas"}];localStorage.setItem(`photos_${t==null?void 0:t.id}`,JSON.stringify(f)),n(f)}}catch(h){console.error("Erreur lors du chargement des photos:",h)}},d=async h=>{if(!h.target.files||!h.target.files[0]||!t)return;const f=h.target.files[0];a(!0),c(0);const p=setInterval(()=>{c(b=>b>=100?(clearInterval(p),100):b+10)},100);try{const b=new FileReader;b.onload=async v=>{var m;const j=(m=v.target)==null?void 0:m.result,y=[{id:Date.now().toString(),user_id:t.id,url:j,description:`Photo ajoutée le ${It(new Date,"dd/MM/yyyy à HH:mm")}`,date_upload:new Date().toISOString()},...e];localStorage.setItem(`photos_${t.id}`,JSON.stringify(y)),n(y),clearInterval(p),c(100),setTimeout(()=>{a(!1),c(0)},500)},b.readAsDataURL(f)}catch(b){console.error("Erreur lors de l'upload:",b),a(!1),c(0)}h.target.value=""};return o.jsx("div",{className:"p-4 pb-20",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Qn,{className:"w-8 h-8 text-blue-600"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Photos partagées"}),o.jsx("p",{className:"text-gray-600",children:"Souvenirs de vos enfants"})]})]}),o.jsxs("label",{className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg cursor-pointer flex items-center space-x-2 transition-colors",children:[o.jsx(qc,{className:"w-5 h-5"}),o.jsx("span",{children:"Ajouter"}),o.jsx("input",{type:"file",accept:"image/*",onChange:d,className:"hidden",disabled:i})]})]}),i&&o.jsx("div",{className:"mb-4 bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(qc,{className:"w-5 h-5 text-blue-500"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Upload en cours..."}),o.jsxs("span",{className:"text-sm text-gray-600",children:[l,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${l}%`}})})]})]})}),e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center mb-4",children:o.jsx(Qn,{className:"w-8 h-8 text-gray-400"})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune photo pour le moment"}),o.jsx("p",{className:"text-gray-500 mb-6 max-w-sm",children:"Partagez vos plus beaux souvenirs avec votre co-parent en ajoutant la première photo."})]}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(h=>o.jsx(L.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{scale:1.05},className:"aspect-square bg-gray-200 rounded-lg overflow-hidden cursor-pointer shadow-sm hover:shadow-md transition-shadow",onClick:()=>s(h),children:o.jsx("img",{src:h.url,alt:h.description||"Photo partagée",className:"w-full h-full object-cover"})},h.id))}),r&&o.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",onClick:()=>s(null),children:o.jsxs(L.div,{initial:{scale:.9},animate:{scale:1},className:"relative max-w-4xl max-h-full",onClick:h=>h.stopPropagation(),children:[o.jsx("button",{onClick:()=>s(null),className:"absolute -top-12 right-0 text-white hover:text-gray-300 z-10",children:o.jsx(Ct,{className:"w-8 h-8"})}),o.jsx("img",{src:r.url,alt:r.description||"Photo",className:"max-w-full max-h-full object-contain rounded-lg"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent text-white p-4 rounded-b-lg",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(ve,{className:"w-5 h-5"}),o.jsxs("span",{className:"text-sm",children:["Ajouté le ",It(new Date(r.date_upload),"dd MMMM yyyy",{locale:_i})]})]}),o.jsx("button",{className:"text-red-400 hover:text-red-300",children:o.jsx(kt,{className:"w-5 h-5"})})]}),r.description&&o.jsx("p",{className:"text-sm mt-2 text-gray-200",children:r.description}),r.enfant&&o.jsxs("p",{className:"text-xs mt-1 text-blue-200",children:["👶 ",r.enfant]})]})]})})]})})},yT=()=>{const{user:t}=Pe(),[e,n]=_.useState([]),[r,s]=_.useState(""),[i,a]=_.useState(!1),[l,c]=_.useState(null),u=_.useRef(null);_.useEffect(()=>{h(),f()},[t]),_.useEffect(()=>{d()},[e]);const d=()=>{var v;(v=u.current)==null||v.scrollIntoView({behavior:"smooth"})},h=async()=>{if(t)try{const v=localStorage.getItem(`messages_${t.id}`);if(v){const j=JSON.parse(v);n(j)}}catch(v){console.error("Erreur lors du chargement des messages:",v)}},f=async()=>{if(t)try{c({id:"demo-co-parent",nom:"Co-Parent",photo:null})}catch(v){console.error("Erreur lors du chargement du co-parent:",v)}},p=async()=>{if(!(!t||!r.trim()||!l)){a(!0);try{const v={id:Date.now().toString(),from_id:t.id,to_id:l.id,texte:r.trim(),date_envoi:new Date().toISOString(),lu:!1},j=[...e,v];localStorage.setItem(`messages_${t.id}`,JSON.stringify(j)),n(j),s("")}catch(v){console.error("Erreur lors de l'envoi du message:",v)}finally{a(!1)}}},b=v=>{v.preventDefault(),p()};return o.jsxs("div",{className:"flex flex-col h-screen",children:[o.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Kr,{className:"w-6 h-6 text-blue-600"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Messages"}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Conversation avec ",(l==null?void 0:l.nom)||"votre co-parent"]})]})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 pb-24 bg-gray-50",children:e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center mb-4",children:o.jsx(Kr,{className:"w-8 h-8 text-gray-400"})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun message pour le moment"}),o.jsx("p",{className:"text-gray-500 mb-6 max-w-sm",children:"Commencez une conversation avec votre co-parent en envoyant le premier message."})]}):o.jsxs("div",{className:"space-y-4",children:[e.map(v=>{const j=v.from_id===(t==null?void 0:t.id);return o.jsx(L.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${j?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-xs lg:max-w-md flex ${j?"flex-row-reverse":"flex-row"} items-end space-x-2`,children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${j?"bg-blue-500 ml-2":"bg-gray-300 mr-2"}`,children:o.jsx(ve,{className:"w-4 h-4 text-white"})}),o.jsxs("div",{className:`px-4 py-2 rounded-lg ${j?"bg-blue-500 text-white":"bg-white text-gray-900 border border-gray-200"}`,children:[o.jsx("p",{className:"text-sm",children:v.texte}),o.jsx("p",{className:`text-xs mt-1 ${j?"text-blue-100":"text-gray-500"}`,children:It(new Date(v.date_envoi),"HH:mm",{locale:_i})})]})]})},v.id)}),o.jsx("div",{ref:u})]})}),o.jsx("div",{className:"fixed bottom-16 left-0 right-0 bg-white border-t border-gray-200 p-4",children:o.jsxs("form",{onSubmit:b,className:"flex space-x-3",children:[o.jsx("input",{type:"text",value:r,onChange:v=>s(v.target.value),placeholder:"Tapez votre message...",className:"flex-1 px-4 py-3 border border-gray-300 rounded-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:i}),o.jsx("button",{type:"submit",disabled:i||!r.trim(),className:"bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 text-white p-3 rounded-full transition-colors",children:o.jsx(zN,{className:"w-5 h-5"})})]})})]})},xT=()=>{const{profile:t}=Pe(),e=s=>{window.location.href=`tel:${s}`},n=s=>{const i=encodeURIComponent(s),a=`https://waze.com/ul?q=${i}&navigate=yes`,l=`https://www.google.com/maps/search/?api=1&query=${i}`,c=window.open(a,"_blank");setTimeout(()=>{(!c||c.closed)&&window.open(l,"_blank")},1e3)},r=[{name:"SAMU",phone:"15",type:"Urgence médicale"},{name:"Police",phone:"17",type:"Urgence sécurité"},{name:"Pompiers",phone:"18",type:"Urgence incendie"},{name:"Urgences européennes",phone:"112",type:"Urgence générale"}];return o.jsx("div",{className:"p-6 pb-20",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[o.jsx(ye,{className:"w-8 h-8 text-blue-600"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Contacts & Infos"}),o.jsx("p",{className:"text-gray-600",children:"Informations importantes pour vos enfants"})]})]}),o.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 mb-6",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[o.jsx(ci,{className:"w-6 h-6 mr-2 text-red-600"}),"Numéros d'urgence"]}),o.jsx("div",{className:"space-y-4",children:r.map((s,i)=>o.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 rounded-lg border border-red-200",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:s.name}),o.jsx("p",{className:"text-sm text-gray-500",children:s.type})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:"text-gray-700 font-medium",children:s.phone}),o.jsx("button",{onClick:()=>e(s.phone),className:"bg-red-500 hover:bg-red-600 text-white p-2 rounded-full transition-colors",children:o.jsx(ye,{className:"w-4 h-4"})})]})]},i))})]})}),!(t!=null&&t.enfants)||t.enfants.length===0?o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-blue-50 rounded-xl border border-blue-200 p-6 text-center",children:[o.jsx(ve,{className:"w-12 h-12 text-blue-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Ajoutez vos enfants"}),o.jsx("p",{className:"text-blue-700 mb-4",children:"Pour voir les contacts spécifiques (école, médecin, activités), ajoutez vos enfants dans votre profil."})]}):t.enfants.map((s,i)=>{var a,l;return o.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1+i*.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 mb-6",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-white font-bold",children:s.prenom.charAt(0)})}),s.prenom," ",s.nom]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[((a=s.ecole)==null?void 0:a.nom)&&o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[o.jsxs("h3",{className:"font-semibold text-blue-900 mb-3 flex items-center",children:[o.jsx(Hr,{className:"w-5 h-5 mr-2"}),"École"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"font-medium text-gray-900",children:s.ecole.nom}),s.ecole.adresse&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-gray-600",children:s.ecole.adresse}),o.jsx("button",{onClick:()=>n(s.ecole.adresse),className:"text-blue-600 hover:text-blue-700",title:"Naviguer vers l'école",children:o.jsx(Wt,{className:"w-4 h-4"})})]}),s.ecole.telephone&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-gray-600",children:s.ecole.telephone}),o.jsx("button",{onClick:()=>e(s.ecole.telephone),className:"text-green-600 hover:text-green-700",title:"Appeler l'école",children:o.jsx(ye,{className:"w-4 h-4"})})]})]})]}),((l=s.medecin)==null?void 0:l.nom)&&o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[o.jsxs("h3",{className:"font-semibold text-green-900 mb-3 flex items-center",children:[o.jsx(kt,{className:"w-5 h-5 mr-2"}),"Médecin traitant"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{className:"font-medium text-gray-900",children:["Dr. ",s.medecin.nom]}),s.medecin.adresse&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-gray-600",children:s.medecin.adresse}),o.jsx("button",{onClick:()=>n(s.medecin.adresse),className:"text-blue-600 hover:text-blue-700",title:"Naviguer vers le cabinet",children:o.jsx(Wt,{className:"w-4 h-4"})})]}),s.medecin.telephone&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-gray-600",children:s.medecin.telephone}),o.jsx("button",{onClick:()=>e(s.medecin.telephone),className:"text-green-600 hover:text-green-700",title:"Appeler le médecin",children:o.jsx(ye,{className:"w-4 h-4"})})]})]})]})]}),(s.groupe_sanguin||s.numero_secu||s.allergies&&s.allergies.length>0)&&o.jsxs("div",{className:"mt-6 bg-red-50 p-4 rounded-lg border border-red-200",children:[o.jsxs("h3",{className:"font-semibold text-red-900 mb-3 flex items-center",children:[o.jsx(ci,{className:"w-5 h-5 mr-2"}),"Informations médicales"]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.groupe_sanguin&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Groupe sanguin"}),o.jsx("p",{className:"font-medium text-gray-900",children:s.groupe_sanguin})]}),s.numero_secu&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"N° Sécurité sociale"}),o.jsx("p",{className:"font-medium text-gray-900",children:s.numero_secu})]}),s.allergies&&s.allergies.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Allergies"}),o.jsx("p",{className:"font-medium text-red-700",children:s.allergies.join(", ")})]})]})]}),s.urgences&&s.urgences.length>0&&o.jsxs("div",{className:"mt-6 bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[o.jsx("h3",{className:"font-semibold text-yellow-900 mb-3",children:"Contacts d'urgence"}),o.jsx("div",{className:"space-y-2",children:s.urgences.map((c,u)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:c.nom}),o.jsx("p",{className:"text-sm text-gray-600",children:c.relation})]}),o.jsx("button",{onClick:()=>e(c.telephone),className:"text-green-600 hover:text-green-700",title:`Appeler ${c.nom}`,children:o.jsx(ye,{className:"w-5 h-5"})})]},u))})]})]})},s.id)})]})})},vT=()=>{const{user:t}=Pe(),[e,n]=_.useState([]),[r,s]=_.useState(!1),[i,a]=_.useState(null),[l,c]=_.useState(!1);_.useEffect(()=>{t&&u()},[t]);const u=async()=>{try{const p=await Tr.getAll();n(p)}catch(p){console.error("Erreur lors du chargement des enfants:",p)}},d=async p=>{if(t){c(!0);try{i?await Tr.update(i.id,p):await Tr.create({...p,parent_id:t.id}),await u(),s(!1),a(null)}catch(b){console.error("Erreur lors de la sauvegarde:",b)}finally{c(!1)}}},h=async p=>{if(confirm("Êtes-vous sûr de vouloir supprimer cet enfant ?"))try{await Tr.delete(p),await u()}catch(b){console.error("Erreur lors de la suppression:",b)}},f=({enfant:p,onSave:b,onCancel:v})=>{const[j,g]=_.useState({nom:(p==null?void 0:p.nom)||"",date_naissance:(p==null?void 0:p.date_naissance)||"",allergies:(p==null?void 0:p.allergies)||"",medecin:(p==null?void 0:p.medecin)||"",photo_url:(p==null?void 0:p.photo_url)||""}),y=m=>{m.preventDefault(),b(j)};return o.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[p?"Modifier":"Ajouter"," un enfant"]}),o.jsx("button",{onClick:v,className:"text-gray-500 hover:text-gray-700",children:o.jsx(Ct,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet"}),o.jsx("input",{type:"text",value:j.nom,onChange:m=>g(x=>({...x,nom:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de naissance"}),o.jsx("input",{type:"date",value:j.date_naissance,onChange:m=>g(x=>({...x,date_naissance:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Allergies"}),o.jsx("textarea",{value:j.allergies,onChange:m=>g(x=>({...x,allergies:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Allergies connues..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Médecin traitant"}),o.jsx("input",{type:"text",value:j.medecin,onChange:m=>g(x=>({...x,medecin:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Dr. Nom du médecin"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de la photo"}),o.jsx("input",{type:"url",value:j.photo_url,onChange:m=>g(x=>({...x,photo_url:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://..."})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{type:"submit",disabled:l,className:"flex-1 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white py-3 rounded-lg font-medium",children:l?"Sauvegarde...":p?"Modifier":"Ajouter"}),o.jsx("button",{type:"button",onClick:v,className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-3 rounded-lg font-medium",children:"Annuler"})]})]})]})})})};return o.jsx("div",{className:"p-6 pb-20",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(ve,{className:"w-8 h-8 text-blue-600"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mes enfants"}),o.jsx("p",{className:"text-gray-600",children:"Gérez les informations de vos enfants"})]})]}),o.jsxs("button",{onClick:()=>{a(null),s(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[o.jsx(bi,{className:"w-5 h-5"}),o.jsx("span",{children:"Ajouter"})]})]}),e.length===0?o.jsxs("div",{className:"text-center py-16",children:[o.jsx(ve,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun enfant enregistré"}),o.jsx("p",{className:"text-gray-500 mb-6",children:"Ajoutez votre premier enfant pour commencer."}),o.jsx("button",{onClick:()=>s(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-medium",children:"Ajouter un enfant"})]}):o.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:e.map(p=>o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-blue-500 flex items-center justify-center",children:p.photo_url?o.jsx("img",{src:p.photo_url,alt:p.nom,className:"w-full h-full object-cover"}):o.jsx(ve,{className:"w-8 h-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:p.nom}),o.jsxs("p",{className:"text-sm text-gray-600",children:[new Date().getFullYear()-new Date(p.date_naissance).getFullYear()," ans"]})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>{a(p),s(!0)},className:"text-blue-500 hover:text-blue-700 p-2",children:o.jsx(Ga,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>h(p.id),className:"text-red-500 hover:text-red-700 p-2",children:o.jsx(Ja,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(Bt,{className:"w-4 h-4 text-gray-500"}),o.jsxs("span",{className:"text-gray-700",children:["Né(e) le ",new Date(p.date_naissance).toLocaleDateString("fr-FR")]})]}),p.medecin&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(kt,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{className:"text-gray-700",children:p.medecin})]}),p.allergies&&o.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[o.jsx(ci,{className:"w-4 h-4 text-red-500 mt-0.5"}),o.jsx("span",{className:"text-red-700",children:p.allergies})]})]})]},p.id))}),r&&o.jsx(f,{enfant:i||void 0,onSave:d,onCancel:()=>{s(!1),a(null)}})]})})},wT=()=>{const{user:t}=Pe(),[e,n]=_.useState([]),[r,s]=_.useState([]),[i,a]=_.useState(!1),[l,c]=_.useState(!1);_.useEffect(()=>{t&&(u(),d())},[t]);const u=async()=>{try{const v=await Cm.getAll();n(v)}catch(v){console.error("Erreur lors du chargement des documents:",v)}},d=async()=>{try{const v=await Tr.getAll();s(v)}catch(v){console.error("Erreur lors du chargement des enfants:",v)}},h=async(v,j,g)=>{c(!0);try{await Cm.upload(v,j,g),await u(),a(!1)}catch(y){console.error("Erreur lors de l'upload:",y)}finally{c(!1)}},f=v=>{if(!v)return"Taille inconnue";const j=["Bytes","KB","MB","GB"],g=Math.floor(Math.log(v)/Math.log(1024));return Math.round(v/Math.pow(1024,g)*100)/100+" "+j[g]},p=v=>v?v.includes("image")?"🖼️":v.includes("pdf")?"📄":v.includes("word")?"📝":v.includes("excel")?"📊":o.jsx(bs,{className:"w-6 h-6"}):o.jsx(bs,{className:"w-6 h-6"}),b=({onUpload:v,onCancel:j})=>{const[g,y]=_.useState(null),[m,x]=_.useState(""),[w,S]=_.useState(""),N=T=>{T.preventDefault(),g&&m&&v(g,m,w||void 0)},k=T=>{var A;const C=(A=T.target.files)==null?void 0:A[0];C&&(y(C),m||x(C.name.split(".")[0]))};return o.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl max-w-md w-full",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Ajouter un document"}),o.jsx("button",{onClick:j,className:"text-gray-500 hover:text-gray-700",children:o.jsx(Ct,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:N,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fichier"}),o.jsx("input",{type:"file",onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0}),g&&o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[g.name," (",f(g.size),")"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre"}),o.jsx("input",{type:"text",value:m,onChange:T=>x(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nom du document",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enfant concerné (optionnel)"}),o.jsxs("select",{value:w,onChange:T=>S(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Tous les enfants"}),r.map(T=>o.jsx("option",{value:T.id,children:T.nom},T.id))]})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{type:"submit",disabled:l||!g||!m,className:"flex-1 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white py-3 rounded-lg font-medium",children:l?"Upload...":"Ajouter"}),o.jsx("button",{type:"button",onClick:j,className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-3 rounded-lg font-medium",children:"Annuler"})]})]})]})})})};return o.jsx("div",{className:"p-6 pb-20",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(bs,{className:"w-8 h-8 text-purple-600"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Documents"}),o.jsx("p",{className:"text-gray-600",children:"Gérez vos documents familiaux"})]})]}),o.jsxs("button",{onClick:()=>a(!0),className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[o.jsx(qc,{className:"w-5 h-5"}),o.jsx("span",{children:"Ajouter"})]})]}),e.length===0?o.jsxs("div",{className:"text-center py-16",children:[o.jsx(bs,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun document"}),o.jsx("p",{className:"text-gray-500 mb-6",children:"Ajoutez vos premiers documents familiaux."}),o.jsx("button",{onClick:()=>a(!0),className:"bg-purple-500 hover:bg-purple-600 text-white px-6 py-3 rounded-lg font-medium",children:"Ajouter un document"})]}):o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(v=>o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("div",{className:"flex items-start justify-between mb-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"text-2xl",children:p(v.fichier_type)}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:v.titre}),o.jsx("p",{className:"text-sm text-gray-600",children:f(v.fichier_taille)})]})]})}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(Bt,{className:"w-4 h-4 mr-2"}),new Date(v.created_at).toLocaleDateString("fr-FR")]}),v.enfant&&o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(ve,{className:"w-4 h-4 mr-2"}),v.enfant.nom]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("a",{href:v.fichier_url,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 px-3 rounded-lg text-sm font-medium flex items-center justify-center space-x-1",children:[o.jsx(Dy,{className:"w-4 h-4"}),o.jsx("span",{children:"Voir"})]}),o.jsxs("a",{href:v.fichier_url,download:v.fichier_nom,className:"flex-1 bg-green-500 hover:bg-green-600 text-white py-2 px-3 rounded-lg text-sm font-medium flex items-center justify-center space-x-1",children:[o.jsx(AN,{className:"w-4 h-4"}),o.jsx("span",{children:"Télécharger"})]})]})]},v.id))}),i&&o.jsx(b,{onUpload:h,onCancel:()=>a(!1)})]})})},bT=()=>{const{user:t}=Pe(),[e,n]=_.useState([]),[r,s]=_.useState([]),[i,a]=_.useState(!1),[l,c]=_.useState(null),[u,d]=_.useState(!1);_.useEffect(()=>{t&&(h(),f())},[t]);const h=async()=>{try{const j=await km.getAll();n(j)}catch(j){console.error("Erreur lors du chargement des dépenses:",j)}},f=async()=>{try{const j=await Tr.getAll();s(j)}catch(j){console.error("Erreur lors du chargement des enfants:",j)}},p=async j=>{if(t){d(!0);try{l?console.log("Mise à jour de dépense non implémentée"):await km.create({...j,payeur_id:t.id}),await h(),a(!1),c(null)}catch(g){console.error("Erreur lors de la sauvegarde:",g)}finally{d(!1)}}},b=e.reduce((j,g)=>j+g.montant,0),v=({depense:j,onSave:g,onCancel:y})=>{const[m,x]=_.useState({montant:(j==null?void 0:j.montant)||0,description:(j==null?void 0:j.description)||"",date_depense:(j==null?void 0:j.date_depense)||new Date().toISOString().split("T")[0],enfant_id:(j==null?void 0:j.enfant_id)||"",justificatif_url:(j==null?void 0:j.justificatif_url)||""}),w=S=>{S.preventDefault(),g({...m,enfant_id:m.enfant_id||void 0})};return o.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl max-w-md w-full",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[j?"Modifier":"Ajouter"," une dépense"]}),o.jsx("button",{onClick:y,className:"text-gray-500 hover:text-gray-700",children:o.jsx(Ct,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:w,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Montant (€)"}),o.jsx("input",{type:"number",step:"0.01",value:m.montant,onChange:S=>x(N=>({...N,montant:parseFloat(S.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("input",{type:"text",value:m.description,onChange:S=>x(N=>({...N,description:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Achat de vêtements, frais médicaux...",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),o.jsx("input",{type:"date",value:m.date_depense,onChange:S=>x(N=>({...N,date_depense:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enfant concerné (optionnel)"}),o.jsxs("select",{value:m.enfant_id,onChange:S=>x(N=>({...N,enfant_id:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Tous les enfants"}),r.map(S=>o.jsx("option",{value:S.id,children:S.nom},S.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Justificatif (URL)"}),o.jsx("input",{type:"url",value:m.justificatif_url,onChange:S=>x(N=>({...N,justificatif_url:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://..."})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{type:"submit",disabled:u,className:"flex-1 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white py-3 rounded-lg font-medium",children:u?"Sauvegarde...":j?"Modifier":"Ajouter"}),o.jsx("button",{type:"button",onClick:y,className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-3 rounded-lg font-medium",children:"Annuler"})]})]})]})})})};return o.jsx("div",{className:"p-6 pb-20",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(bl,{className:"w-8 h-8 text-green-600"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dépenses"}),o.jsx("p",{className:"text-gray-600",children:"Gérez vos dépenses familiales"})]})]}),o.jsxs("button",{onClick:()=>{c(null),a(!0)},className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[o.jsx(bi,{className:"w-5 h-5"}),o.jsx("span",{children:"Ajouter"})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[b.toFixed(2),"€"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length}),o.jsx("div",{className:"text-sm text-gray-600",children:"Dépenses"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[e.length>0?(b/e.length).toFixed(2):"0.00","€"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Moyenne"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:new Date().getMonth()+1}),o.jsx("div",{className:"text-sm text-gray-600",children:"Mois actuel"})]})]})}),e.length===0?o.jsxs("div",{className:"text-center py-16",children:[o.jsx(bl,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune dépense enregistrée"}),o.jsx("p",{className:"text-gray-500 mb-6",children:"Commencez à suivre vos dépenses familiales."}),o.jsx("button",{onClick:()=>a(!0),className:"bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg font-medium",children:"Ajouter une dépense"})]}):o.jsx("div",{className:"space-y-4",children:e.map(j=>o.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(bl,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:j.description}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[o.jsxs("span",{className:"flex items-center",children:[o.jsx(Bt,{className:"w-4 h-4 mr-1"}),new Date(j.date_depense).toLocaleDateString("fr-FR")]}),j.enfant&&o.jsxs("span",{className:"flex items-center",children:[o.jsx(ve,{className:"w-4 h-4 mr-1"}),j.enfant.nom]})]})]})]}),o.jsx("div",{className:"flex items-center space-x-4",children:o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-xl font-bold text-green-600",children:[j.montant.toFixed(2),"€"]}),j.justificatif_url&&o.jsxs("a",{href:j.justificatif_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-700 flex items-center",children:[o.jsx(FN,{className:"w-4 h-4 mr-1"}),"Justificatif"]})]})})]})},j.id))}),i&&o.jsx(v,{depense:l||void 0,onSave:p,onCancel:()=>{a(!1),c(null)}})]})})};var xx="basil",jT=function(e){return e===3?"v3":e},vx="https://js.stripe.com",ST="".concat(vx,"/").concat(xx,"/stripe.js"),NT=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,_T=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,Im="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",kT=function(e){return NT.test(e)||_T.test(e)},CT=function(){for(var e=document.querySelectorAll('script[src^="'.concat(vx,'"]')),n=0;n<e.length;n++){var r=e[n];if(kT(r.src))return r}return null},Lm=function(e){var n="",r=document.createElement("script");r.src="".concat(ST).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},TT=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.8.0",startTime:n})},ms=null,ea=null,ta=null,PT=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},ET=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},DT=function(e){return ms!==null?ms:(ms=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(Im),window.Stripe){n(window.Stripe);return}try{var s=CT();if(s&&e)console.warn(Im);else if(!s)s=Lm(e);else if(s&&ta!==null&&ea!==null){var i;s.removeEventListener("load",ta),s.removeEventListener("error",ea),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=Lm(e)}ta=ET(n,r),ea=PT(r),s.addEventListener("load",ta),s.addEventListener("error",ea)}catch(a){r(a);return}}),ms.catch(function(n){return ms=null,Promise.reject(n)}))},AT=function(e,n,r){if(e===null)return null;var s=n[0],i=s.match(/^pk_test/),a=jT(e.version),l=xx;i&&a!==l&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("7.8.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=e.apply(void 0,n);return TT(c,r),c},ps,wx=!1,bx=function(){return ps||(ps=DT(null).catch(function(e){return ps=null,Promise.reject(e)}),ps)};Promise.resolve().then(function(){return bx()}).catch(function(t){wx||console.warn(t)});var MT=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];wx=!0;var s=Date.now();return bx().then(function(i){return AT(i,n,s)})};MT("pk_live_51RuZvV3WPtnvw5tUOpvvQspzRfmJY2uXCP2NIPLcqvnV289fXRdd3lpHPcmnSdA6mdVMao2IaYDK0QzVsKjF3x3W00XiAkUir4");const OT=[{id:"co_parents_monthly",name:"Co-Parents Mensuel",price:999,currency:"eur",interval:"month",trialDays:30,features:["Planning de garde illimité","Messages instantanés","Partage de photos","Contacts d'urgence","Support prioritaire","Synchronisation temps réel"]}],RT=async(t,e)=>{try{return console.log("Création session Stripe pour:",{planId:t,userId:e}),await new Promise(n=>setTimeout(n,1e3)),"cs_test_demo_"+Date.now()}catch(n){throw console.error("Erreur Stripe:",n),n}},IT=async t=>{if(console.log("Redirection vers Stripe Checkout:",t),confirm(`🎯 MODE DÉMO STRIPE

✅ Abonnement: Co-Parents Mensuel
💰 Prix: 9,99€/mois
🎁 Essai gratuit: 7 jours

Voulez-vous simuler un paiement réussi ?`)){alert(`🎉 Paiement simulé avec succès !

Votre essai gratuit de 1 mois commence maintenant.`);const n=localStorage.getItem("demo_profile");if(n){const r=JSON.parse(n);r.subscription_status="active",r.is_trial=!0,r.trial_end_date=new Date(Date.now()+30*24*60*60*1e3).toISOString(),localStorage.setItem("demo_profile",JSON.stringify(r))}window.location.reload()}else throw new Error("Paiement annulé par l'utilisateur")},LT=async t=>{try{const e=await fetch("https://bsofslflmtruatzkepmn.supabase.co/functions/v1/create-customer-portal",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJzb2ZzbGZsbXRydWF0emtlcG1uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4MTAzOTksImV4cCI6MjA3MDM4NjM5OX0.0LPj4QHnt3D7JM6K9wCmUpfJ-oO2E7x4q5OtNY4Cmnk"},body:JSON.stringify({customerId:t,returnUrl:window.location.origin})});if(!e.ok)throw new Error("Erreur lors de la création du portail client");const{url:n}=await e.json();window.location.href=n}catch(e){throw console.error("Erreur portail client:",e),e}},$T=()=>{const{user:t,profile:e}=Pe(),[n,r]=_.useState(!1),[s,i]=_.useState(""),a=async f=>{if(t){r(!0),i("");try{const p=await RT(f,t.id);await IT(p)}catch(p){i(p.message||"Une erreur est survenue")}finally{r(!1)}}},l=async()=>{if(e!=null&&e.stripe_customer_id)try{await LT(e.stripe_customer_id)}catch(f){i(f.message||"Une erreur est survenue")}},c=(e==null?void 0:e.is_trial)&&(e==null?void 0:e.trial_end_date)&&new Date(e.trial_end_date)>new Date,u=(e==null?void 0:e.subscription_status)==="active",d=[{icon:Bt,text:"Planning de garde illimité",color:"text-blue-500"},{icon:Kr,text:"Messages instantanés",color:"text-green-500"},{icon:Qn,text:"Partage de photos illimité",color:"text-purple-500"},{icon:ye,text:"Contacts d'urgence",color:"text-red-500"},{icon:WN,text:"Synchronisation temps réel",color:"text-indigo-500"},{icon:Ed,text:"Support prioritaire",color:"text-yellow-500"}],h=[{name:"Marie L.",text:"Cette app a révolutionné notre organisation familiale !",rating:5},{name:"Thomas D.",text:"Enfin une solution simple pour communiquer avec mon ex-conjointe.",rating:5},{name:"Sophie M.",text:"Les enfants adorent voir leurs photos partagées !",rating:5}];return o.jsx("div",{className:"p-6 pb-20",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("div",{className:"text-center mb-8",children:o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Ey,{className:"w-8 h-8 text-white"})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Abonnement Co-Parents"}),o.jsx("p",{className:"text-gray-600",children:u?"Gérez votre abonnement":"Continuez votre expérience sans engagement"})]})}),s&&o.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ct,{className:"w-5 h-5 text-red-500 mr-2"}),o.jsx("p",{className:"text-red-700",children:s})]})}),(c||u)&&o.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`mb-8 p-6 rounded-xl border-2 ${c?"bg-blue-50 border-blue-200":"bg-green-50 border-green-200"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${c?"bg-blue-500":"bg-green-500"}`,children:c?o.jsx(Hr,{className:"w-6 h-6 text-white"}):o.jsx(On,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:`font-bold ${c?"text-blue-900":"text-green-900"}`,children:c?"Essai gratuit actif":"Abonnement actif"}),o.jsx("p",{className:`text-sm ${c?"text-blue-700":"text-green-700"}`,children:c?`Se termine le ${new Date(e.trial_end_date).toLocaleDateString("fr-FR")}`:"Renouvelé automatiquement chaque mois"})]})]}),u&&o.jsx("button",{onClick:l,className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:"Gérer l'abonnement"})]})}),OT.map((f,p)=>o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"bg-white rounded-2xl shadow-xl border-2 border-blue-200 overflow-hidden mb-8",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 text-white text-center py-2",children:o.jsx("span",{className:"font-semibold",children:"⭐ Plan le plus populaire"})}),o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsxs("div",{className:"flex items-center justify-center mb-4",children:[o.jsxs("span",{className:"text-5xl font-bold text-gray-900",children:[(f.price/100).toFixed(2),"€"]}),o.jsx("span",{className:"text-gray-500 ml-2",children:"/mois"})]}),o.jsx("div",{className:"bg-green-100 text-green-800 px-4 py-2 rounded-full inline-block mb-4",children:"🎉 Essai gratuit 1 mois complet - Sans engagement"}),o.jsxs("p",{className:"text-gray-600",children:["Puis ",(f.price/100).toFixed(2),"€/mois • Résiliation en 1 clic"]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6 text-center",children:"Tout ce dont vous avez besoin"}),o.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:d.map((b,v)=>{const j=b.icon;return o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(j,{className:`w-5 h-5 ${b.color}`}),o.jsx("span",{className:"text-gray-700",children:b.text})]},v)})})]}),o.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-8",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Nos garanties"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(On,{className:"w-5 h-5 text-green-500"}),o.jsx("span",{className:"text-gray-700",children:"Aucun engagement"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(On,{className:"w-5 h-5 text-green-500"}),o.jsx("span",{className:"text-gray-700",children:"Annulation en 1 clic"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(On,{className:"w-5 h-5 text-green-500"}),o.jsx("span",{className:"text-gray-700",children:"Données sécurisées"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(On,{className:"w-5 h-5 text-green-500"}),o.jsx("span",{className:"text-gray-700",children:"Support 7j/7"})]})]})]}),!u&&o.jsx("button",{onClick:()=>a(f.id),disabled:n,className:"w-full bg-gradient-to-r from-blue-500 to-green-500 text-white py-4 rounded-xl font-bold text-lg hover:from-blue-600 hover:to-green-600 transition-colors disabled:opacity-50 flex items-center justify-center space-x-2",children:n?o.jsx("span",{children:"Chargement..."}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:c?"Continuer avec cet abonnement":"Commencer l'essai gratuit"}),o.jsx(Bc,{className:"w-5 h-5"})]})}),o.jsx("p",{className:"text-center text-sm text-gray-500 mt-4",children:"Paiement sécurisé par Stripe • Aucune donnée bancaire stockée"})]})]},f.id)),o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900 text-center mb-8",children:"Ce que disent nos utilisateurs"}),o.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:h.map((f,p)=>o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5+p*.1},className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsx("div",{className:"flex items-center mb-4",children:[...Array(f.rating)].map((b,v)=>o.jsx(Ry,{className:"w-4 h-4 text-yellow-400 fill-current"},v))}),o.jsxs("p",{className:"text-gray-700 mb-4 italic",children:['"',f.text,'"']}),o.jsxs("p",{className:"font-semibold text-gray-900",children:["- ",f.name]})]},p))})]}),o.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[o.jsx("h4",{className:"font-bold text-blue-900 mb-4",children:"Questions fréquentes"}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-blue-900",children:"Puis-je annuler à tout moment ?"}),o.jsx("p",{className:"text-blue-700",children:"Oui, annulation en 1 clic depuis votre profil. Aucun frais."})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-blue-900",children:"Que se passe-t-il après l'essai ?"}),o.jsx("p",{className:"text-blue-700",children:"Si vous ne souscrivez pas, votre compte passe en lecture seule."})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-blue-900",children:"Les paiements sont-ils sécurisés ?"}),o.jsx("p",{className:"text-blue-700",children:"Oui, nous utilisons Stripe, la solution la plus sécurisée au monde."})]})]})]})]})})},VT=()=>{const{signOut:t}=Pe(),[e,n]=_.useState("blue"),[r,s]=_.useState(!1),[i,a]=_.useState(!0),[l,c]=_.useState("fr"),[u,d]=_.useState(!0);_.useEffect(()=>{const m=localStorage.getItem("app_theme")||"blue",x=localStorage.getItem("app_dark_mode")==="true",w=localStorage.getItem("app_notifications")!=="false",S=localStorage.getItem("app_language")||"fr",N=localStorage.getItem("app_sounds")!=="false";n(m),s(x),a(w),c(S),d(N),h(m)},[]);const h=m=>{const x=document.documentElement,S={blue:{primary:"#3b82f6",primaryHover:"#2563eb",primaryLight:"#dbeafe",secondary:"#10b981",accent:"#8b5cf6"},green:{primary:"#10b981",primaryHover:"#059669",primaryLight:"#d1fae5",secondary:"#3b82f6",accent:"#f59e0b"},purple:{primary:"#8b5cf6",primaryHover:"#7c3aed",primaryLight:"#ede9fe",secondary:"#ec4899",accent:"#10b981"},pink:{primary:"#ec4899",primaryHover:"#db2777",primaryLight:"#fce7f3",secondary:"#8b5cf6",accent:"#f59e0b"},orange:{primary:"#f59e0b",primaryHover:"#d97706",primaryLight:"#fef3c7",secondary:"#ef4444",accent:"#10b981"},red:{primary:"#ef4444",primaryHover:"#dc2626",primaryLight:"#fee2e2",secondary:"#f59e0b",accent:"#8b5cf6"}}[m];x.style.setProperty("--color-primary",S.primary),x.style.setProperty("--color-primary-hover",S.primaryHover),x.style.setProperty("--color-primary-light",S.primaryLight),x.style.setProperty("--color-secondary",S.secondary),x.style.setProperty("--color-accent",S.accent)},f=m=>{n(m),localStorage.setItem("app_theme",m),h(m)},p=()=>{const m=!r;s(m),localStorage.setItem("app_dark_mode",m.toString()),m?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},b=()=>{const m=!i;a(m),localStorage.setItem("app_notifications",m.toString())},v=m=>{c(m),localStorage.setItem("app_language",m)},j=()=>{const m=!u;d(m),localStorage.setItem("app_sounds",m.toString())},g=async()=>{if(confirm("Êtes-vous sûr de vouloir vous déconnecter ?"))try{await t()}catch(m){console.error("Erreur lors de la déconnexion:",m)}},y=[{id:"blue",name:"Bleu",color:"#3b82f6",emoji:"💙"},{id:"green",name:"Vert",color:"#10b981",emoji:"💚"},{id:"purple",name:"Violet",color:"#8b5cf6",emoji:"💜"},{id:"pink",name:"Rose",color:"#ec4899",emoji:"💗"},{id:"orange",name:"Orange",color:"#f59e0b",emoji:"🧡"},{id:"red",name:"Rouge",color:"#ef4444",emoji:"❤️"}];return o.jsx("div",{className:"p-6 pb-20",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[o.jsx(Oy,{className:"w-8 h-8 text-blue-600"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Paramètres"}),o.jsx("p",{className:"text-gray-600",children:"Personnalisez votre expérience"})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx(VN,{className:"w-6 h-6 text-purple-600"}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Apparence"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Couleur principale"}),o.jsx("div",{className:"grid grid-cols-3 gap-3",children:y.map(m=>o.jsxs("button",{onClick:()=>f(m.id),className:`relative p-4 rounded-lg border-2 transition-all ${e===m.id?"border-gray-900 bg-gray-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-full",style:{backgroundColor:m.color}}),o.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[m.emoji," ",m.name]})]}),e===m.id&&o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx(On,{className:"w-4 h-4 text-green-600"})})]},m.id))})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[r?o.jsx($N,{className:"w-5 h-5 text-gray-600"}):o.jsx(BN,{className:"w-5 h-5 text-yellow-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Mode sombre"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Interface avec couleurs sombres"})]})]}),o.jsx("button",{onClick:p,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${r?"bg-blue-600":"bg-gray-200"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${r?"translate-x-6":"translate-x-1"}`})})]})]}),o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx(am,{className:"w-6 h-6 text-blue-600"}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Notifications"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(am,{className:"w-5 h-5 text-gray-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Notifications push"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Recevoir les alertes importantes"})]})]}),o.jsx("button",{onClick:b,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${i?"bg-blue-600":"bg-gray-200"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${i?"translate-x-6":"translate-x-1"}`})})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(qN,{className:"w-5 h-5 text-gray-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Sons"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Sons pour les notifications"})]})]}),o.jsx("button",{onClick:j,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${u?"bg-blue-600":"bg-gray-200"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${u?"translate-x-6":"translate-x-1"}`})})]})]})]}),o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx(ON,{className:"w-6 h-6 text-green-600"}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Langue"})]}),o.jsx("div",{className:"space-y-2",children:[{code:"fr",name:"Français",flag:"🇫🇷"},{code:"en",name:"English",flag:"🇬🇧"},{code:"es",name:"Español",flag:"🇪🇸"}].map(m=>o.jsxs("button",{onClick:()=>v(m.code),className:`w-full flex items-center justify-between p-3 rounded-lg transition-colors ${l===m.code?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}`,children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:"text-xl",children:m.flag}),o.jsx("span",{className:"font-medium text-gray-900",children:m.name})]}),l===m.code&&o.jsx(On,{className:"w-5 h-5 text-blue-600"})]},m.code))})]}),o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx(Ed,{className:"w-6 h-6 text-red-600"}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Sécurité"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{className:"w-full flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"font-medium text-gray-900",children:"Changer le mot de passe"}),o.jsx("span",{className:"text-gray-400",children:"→"})]}),o.jsxs("button",{className:"w-full flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"font-medium text-gray-900",children:"Authentification à deux facteurs"}),o.jsx("span",{className:"text-gray-400",children:"→"})]}),o.jsxs("button",{className:"w-full flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"font-medium text-gray-900",children:"Sessions actives"}),o.jsx("span",{className:"text-gray-400",children:"→"})]})]})]}),o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Aperçu du thème"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{className:"w-full py-3 rounded-lg font-medium text-white transition-colors",style:{backgroundColor:"var(--color-primary)"},children:"Bouton principal"}),o.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-primary-light)"},children:o.jsx("p",{className:"text-gray-700",children:"Zone d'information avec la couleur secondaire"})})]})]}),o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx(om,{className:"w-6 h-6 text-red-600"}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Déconnexion"})]}),o.jsx("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200 mb-4",children:o.jsx("p",{className:"text-red-700 text-sm",children:"Vous allez être déconnecté de votre compte. Vos données resteront sauvegardées."})}),o.jsxs("button",{onClick:g,className:"w-full bg-red-500 hover:bg-red-600 text-white py-3 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:[o.jsx(om,{className:"w-5 h-5"}),o.jsx("span",{children:"Se déconnecter"})]})]})]})]})})},FT=()=>{const[t,e]=_.useState(""),[n,r]=_.useState(null),i=[{category:"Démarrage",questions:[{question:"Comment créer mon compte ?",answer:"Cliquez sur 'Commencer' sur la page d'accueil, puis remplissez le formulaire avec votre nom, email et mot de passe. Votre compte est créé instantanément, sans confirmation par email."},{question:"Comment ajouter mon co-parent ?",answer:"Actuellement, l'application fonctionne de manière indépendante pour chaque parent. Votre co-parent doit créer son propre compte. Les fonctionnalités de partage seront ajoutées prochainement."},{question:"Comment ajouter mes enfants ?",answer:"Allez dans votre Profil, cliquez sur 'Ajouter un enfant' et remplissez les informations : nom, école, médecin, allergies, etc. Ces informations seront disponibles dans la section Contact."}]},{category:"Planning",questions:[{question:"Comment planifier mes jours de garde ?",answer:"Dans l'onglet Planning, cliquez sur les dates où vous avez la garde. Les dates sélectionnées apparaissent en vert. Cliquez sur 'Sauvegarder' pour enregistrer votre planning."},{question:"Puis-je modifier des jours déjà sauvegardés ?",answer:"Oui ! Cliquez sur une date déjà sauvegardée (en bleu) pour la retirer de votre planning. Les modifications sont instantanées."},{question:"Comment voir le planning de mon co-parent ?",answer:"Cette fonctionnalité sera bientôt disponible. Pour l'instant, vous pouvez partager votre planning par message ou photo."}]},{category:"Messages",questions:[{question:"Comment envoyer un message ?",answer:"Allez dans l'onglet Messages, tapez votre message dans le champ en bas et appuyez sur Envoyer. Les messages sont instantanés."},{question:"Puis-je envoyer des photos par message ?",answer:"Pour l'instant, utilisez l'onglet Photos pour partager des images. L'envoi de photos par message sera ajouté prochainement."},{question:"Les messages sont-ils sécurisés ?",answer:"Oui, tous vos messages sont chiffrés et stockés de manière sécurisée. Seuls vous et votre co-parent pouvez les voir."}]},{category:"Photos",questions:[{question:"Comment partager une photo ?",answer:"Dans l'onglet Photos, cliquez sur 'Ajouter', sélectionnez une photo depuis votre appareil. Elle sera automatiquement partagée avec votre co-parent."},{question:"Puis-je supprimer une photo ?",answer:"Cette fonctionnalité sera bientôt disponible. Pour l'instant, contactez le support si vous devez supprimer une photo."},{question:"Quelle taille maximum pour les photos ?",answer:"Les photos sont automatiquement optimisées. Nous recommandons des photos de moins de 10MB pour un upload rapide."}]},{category:"Contacts & Urgences",questions:[{question:"Comment appeler directement depuis l'app ?",answer:"Dans la section Contact, cliquez sur l'icône téléphone 📞 à côté d'un numéro. Cela ouvrira directement votre clavier d'appel."},{question:"Comment naviguer vers une adresse ?",answer:"Cliquez sur l'icône localisation 📍 à côté d'une adresse. L'app essaiera d'ouvrir Waze, puis Google Maps si Waze n'est pas disponible."},{question:"Puis-je ajouter des contacts d'urgence personnalisés ?",answer:"Oui ! Lors de l'ajout d'un enfant, vous pouvez ajouter des contacts d'urgence avec leur nom, téléphone et relation (grand-parent, nounou, etc.)."}]},{category:"Compte & Sécurité",questions:[{question:"Comment modifier mes informations ?",answer:"Allez dans votre Profil, cliquez sur l'icône crayon pour modifier vos informations. N'oubliez pas de sauvegarder vos modifications."},{question:"Comment changer mon mot de passe ?",answer:"Cette fonctionnalité sera bientôt disponible dans les paramètres. Pour l'instant, contactez le support pour changer votre mot de passe."},{question:"Mes données sont-elles sécurisées ?",answer:"Absolument ! Vos données sont chiffrées, stockées de manière sécurisée et ne sont jamais partagées avec des tiers. Seuls vous et votre co-parent y avez accès."},{question:"Comment supprimer mon compte ?",answer:"Vous pouvez supprimer votre compte à tout moment en nous contactant. Toutes vos données seront définitivement supprimées sous 30 jours."}]},{category:"Abonnement",questions:[{question:"L'application est-elle vraiment sans engagement ?",answer:"Oui ! Aucun engagement, aucun frais caché. Vous pouvez annuler à tout moment en un clic. Votre abonnement se termine à la fin de la période payée."},{question:"Combien coûte l'abonnement ?",answer:"Après votre essai gratuit de 7 jours, l'abonnement est de 9,99€/mois. Pas de frais d'activation, pas d'engagement."},{question:"Que se passe-t-il si j'annule ?",answer:"Vous gardez l'accès jusqu'à la fin de votre période payée. Après, votre compte passe en mode lecture seule - vous pouvez consulter vos données mais pas en ajouter."}]}].map(l=>({...l,questions:l.questions.filter(c=>c.question.toLowerCase().includes(t.toLowerCase())||c.answer.toLowerCase().includes(t.toLowerCase()))})).filter(l=>l.questions.length>0),a=l=>{r(n===l?null:l)};return o.jsx("div",{className:"p-6 pb-20",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[o.jsx(Wc,{className:"w-8 h-8 text-blue-600"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Aide & FAQ"}),o.jsx("p",{className:"text-gray-600",children:"Trouvez rapidement les réponses à vos questions"})]})]}),o.jsxs("div",{className:"relative mb-8",children:[o.jsx(UN,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Rechercher dans la FAQ...",value:t,onChange:l=>e(l.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 rounded-xl p-6 mb-8 text-white",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Besoin d'aide personnalisée ?"}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ay,{className:"w-6 h-6"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Email"}),o.jsx("p",{className:"text-sm opacity-90",children:"support@co-parents.fr"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(ye,{className:"w-6 h-6"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Téléphone"}),o.jsx("p",{className:"text-sm opacity-90",children:"01 23 45 67 89"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Kr,{className:"w-6 h-6"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Chat en direct"}),o.jsx("p",{className:"text-sm opacity-90",children:"Lun-Ven 9h-18h"})]})]})]})]}),o.jsx("div",{className:"space-y-6",children:i.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Wc,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun résultat trouvé"}),o.jsx("p",{className:"text-gray-500",children:"Essayez avec d'autres mots-clés ou contactez notre support."})]}):i.map((l,c)=>o.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},className:"bg-white rounded-xl shadow-sm border border-gray-200",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center mr-3",children:o.jsx("span",{className:"text-white text-sm font-bold",children:l.category.charAt(0)})}),l.category]}),o.jsx("div",{className:"space-y-3",children:l.questions.map((u,d)=>{const h=c*100+d,f=n===h;return o.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[o.jsxs("button",{onClick:()=>a(h),className:"w-full flex items-center justify-between p-4 text-left hover:bg-gray-50 transition-colors",children:[o.jsx("span",{className:"font-medium text-gray-900 pr-4",children:u.question}),f?o.jsx(DN,{className:"w-5 h-5 text-gray-500 flex-shrink-0"}):o.jsx(EN,{className:"w-5 h-5 text-gray-500 flex-shrink-0"})]}),o.jsx(Gb,{children:f&&o.jsx(L.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:o.jsx("div",{className:"px-4 pb-4 text-gray-600 border-t border-gray-100",children:o.jsx("div",{className:"pt-3",children:u.answer})})})})]},d)})})]})},c))}),o.jsxs("div",{className:"mt-8 bg-blue-50 rounded-xl p-6 border border-blue-200",children:[o.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"💡 Conseils pour bien commencer"}),o.jsxs("div",{className:"space-y-3 text-blue-800",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("span",{className:"text-blue-500 font-bold",children:"1."}),o.jsx("span",{children:"Complétez votre profil et ajoutez vos enfants avec toutes leurs informations"})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("span",{className:"text-blue-500 font-bold",children:"2."}),o.jsx("span",{children:"Planifiez vos premiers jours de garde dans le calendrier"})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("span",{className:"text-blue-500 font-bold",children:"3."}),o.jsx("span",{children:"Testez les liens directs d'appel et de navigation dans la section Contact"})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("span",{className:"text-blue-500 font-bold",children:"4."}),o.jsx("span",{children:"Partagez vos premières photos de famille"})]})]})]})]})})},UT=()=>{const{user:t,profile:e}=Pe(),[n,r]=_.useState([]),[s,i]=_.useState(!1),[a,l]=_.useState(null),[c,u]=_.useState("tous");_.useEffect(()=>{d()},[t]);const d=()=>{if(t)try{const w=localStorage.getItem(`health_${t.id}`);if(w){const S=JSON.parse(w);r(S.sort((N,k)=>new Date(N.date+" "+(N.heure||"00:00")).getTime()-new Date(k.date+" "+(k.heure||"00:00")).getTime()))}else{const S=[{id:"1",type:"rdv",titre:"Contrôle annuel Emma",description:"Visite de routine chez le pédiatre pour Emma",date:new Date(Date.now()+6048e5).toISOString().split("T")[0],heure:"14:30",enfant_id:"enfant-1",enfant_nom:"Emma",medecin:{nom:"Dr. Sophie Dubois",telephone:"01 45 62 78 34",adresse:"45 Avenue des Champs, 75008 Paris"},statut:"prevu",rappel_active:!0,created_at:new Date(Date.now()-432e6).toISOString()},{id:"2",type:"vaccin",titre:"Rappel DTP Lucas",description:"Vaccination de rappel Diphtérie-Tétanos-Poliomyélite",date:new Date(Date.now()+18144e5).toISOString().split("T")[0],heure:"10:00",enfant_id:"enfant-2",enfant_nom:"Lucas",medecin:{nom:"Dr. Michel Leroy",telephone:"01 43 67 89 23",adresse:"12 Place de la Nation, 75012 Paris"},statut:"prevu",rappel_active:!0,created_at:new Date(Date.now()-864e6).toISOString()},{id:"3",type:"traitement",titre:"Traitement allergie Léa",description:"Antihistaminique pour allergie saisonnière - 1 comprimé/jour pendant 10 jours",date:new Date(Date.now()-2592e5).toISOString().split("T")[0],enfant_id:"enfant-3",enfant_nom:"Léa",statut:"fait",rappel_active:!1,created_at:new Date(Date.now()-1296e6).toISOString()},{id:"4",type:"rdv",titre:"Orthodontiste Emma",description:"Consultation pour évaluer le besoin d'un appareil dentaire",date:new Date(Date.now()+12096e5).toISOString().split("T")[0],heure:"16:00",enfant_id:"enfant-1",enfant_nom:"Emma",medecin:{nom:"Dr. Claire Martin",telephone:"01 42 78 56 34",adresse:"28 Rue de la Paix, 75002 Paris"},statut:"prevu",rappel_active:!0,created_at:new Date(Date.now()-6048e5).toISOString()}];localStorage.setItem(`health_${t.id}`,JSON.stringify(S)),r(S)}}catch(w){console.error("Erreur lors du chargement des données santé:",w)}},h=w=>{if(!t)return;const S={...w,id:(a==null?void 0:a.id)||Date.now().toString(),created_at:(a==null?void 0:a.created_at)||new Date().toISOString()};let N;a?N=n.map(k=>k.id===a.id?S:k):N=[...n,S],N.sort((k,T)=>new Date(k.date+" "+(k.heure||"00:00")).getTime()-new Date(T.date+" "+(T.heure||"00:00")).getTime()),localStorage.setItem(`health_${t.id}`,JSON.stringify(N)),r(N),i(!1),l(null)},f=(w,S)=>{const N=n.map(k=>k.id===w?{...k,statut:S}:k);localStorage.setItem(`health_${t==null?void 0:t.id}`,JSON.stringify(N)),r(N)},p=w=>{if(!confirm("Supprimer cet enregistrement ?"))return;const S=n.filter(N=>N.id!==w);localStorage.setItem(`health_${t==null?void 0:t.id}`,JSON.stringify(S)),r(S)},b=w=>{window.location.href=`tel:${w}`},v=w=>{const S=encodeURIComponent(w),N=`https://waze.com/ul?q=${S}&navigate=yes`,k=`https://www.google.com/maps/search/?api=1&query=${S}`;window.open(N,"_blank")||window.open(k,"_blank")},j=w=>{switch(w){case"rdv":return"bg-blue-100 text-blue-800 border-blue-200";case"vaccin":return"bg-green-100 text-green-800 border-green-200";case"traitement":return"bg-purple-100 text-purple-800 border-purple-200";case"urgence":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},g=w=>{switch(w){case"rdv":return"🩺";case"vaccin":return"💉";case"traitement":return"💊";case"urgence":return"🚨";default:return"📋"}},y=w=>{const S=new Date(w);return eo(S)?{text:"Aujourd'hui",color:"text-red-600 font-bold"}:gx(S)?{text:"Demain",color:"text-orange-600 font-semibold"}:px(S,new Date)?{text:"Passé",color:"text-gray-500"}:{text:It(S,"dd MMM",{locale:_i}),color:"text-gray-700"}},m=c==="tous"?n:n.filter(w=>w.type===c),x=({record:w,onSave:S,onCancel:N})=>{var A;const[k,T]=_.useState({type:(w==null?void 0:w.type)||"rdv",titre:(w==null?void 0:w.titre)||"",description:(w==null?void 0:w.description)||"",date:(w==null?void 0:w.date)||new Date().toISOString().split("T")[0],heure:(w==null?void 0:w.heure)||"",enfant_id:(w==null?void 0:w.enfant_id)||"",enfant_nom:(w==null?void 0:w.enfant_nom)||"",medecin:(w==null?void 0:w.medecin)||{nom:"",telephone:"",adresse:""},statut:(w==null?void 0:w.statut)||"prevu",rappel_active:(w==null?void 0:w.rappel_active)??!0}),C=V=>{V.preventDefault(),S(k)};return o.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[w?"Modifier":"Nouvel"," enregistrement santé"]}),o.jsx("button",{onClick:N,className:"text-gray-500 hover:text-gray-700",children:o.jsx(Ct,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:C,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),o.jsxs("select",{value:k.type,onChange:V=>T(z=>({...z,type:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"rdv",children:"🩺 Rendez-vous"}),o.jsx("option",{value:"vaccin",children:"💉 Vaccination"}),o.jsx("option",{value:"traitement",children:"💊 Traitement"}),o.jsx("option",{value:"urgence",children:"🚨 Urgence"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enfant"}),o.jsxs("select",{value:k.enfant_nom,onChange:V=>T(z=>({...z,enfant_nom:V.target.value,enfant_id:V.target.value?`enfant-${V.target.value}`:""})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Tous les enfants"}),(A=e==null?void 0:e.enfants)==null?void 0:A.map(V=>o.jsx("option",{value:V.prenom,children:V.prenom},V.id))]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre"}),o.jsx("input",{type:"text",value:k.titre,onChange:V=>T(z=>({...z,titre:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Contrôle annuel, Vaccination ROR...",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:k.description,onChange:V=>T(z=>({...z,description:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Détails, instructions, notes..."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),o.jsx("input",{type:"date",value:k.date,onChange:V=>T(z=>({...z,date:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heure (optionnel)"}),o.jsx("input",{type:"time",value:k.heure,onChange:V=>T(z=>({...z,heure:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Professionnel de santé"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("input",{type:"text",placeholder:"Nom du médecin/professionnel",value:k.medecin.nom,onChange:V=>T(z=>({...z,medecin:{...z.medecin,nom:V.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("input",{type:"tel",placeholder:"Téléphone",value:k.medecin.telephone,onChange:V=>T(z=>({...z,medecin:{...z.medecin,telephone:V.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),o.jsxs("select",{value:k.statut,onChange:V=>T(z=>({...z,statut:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"prevu",children:"📅 Prévu"}),o.jsx("option",{value:"fait",children:"✅ Fait"}),o.jsx("option",{value:"annule",children:"❌ Annulé"})]})]}),o.jsx("input",{type:"text",placeholder:"Adresse du cabinet",value:k.medecin.adresse,onChange:V=>T(z=>({...z,medecin:{...z.medecin,adresse:V.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",id:"rappel",checked:k.rappel_active,onChange:V=>T(z=>({...z,rappel_active:V.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:"rappel",className:"text-sm text-gray-700",children:"Activer les rappels automatiques"})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs("button",{type:"submit",className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-medium",children:[w?"Modifier":"Créer"," l'enregistrement"]}),o.jsx("button",{type:"button",onClick:N,className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-3 rounded-lg font-medium",children:"Annuler"})]})]})]})})})};return o.jsx("div",{className:"p-6 pb-20",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(kt,{className:"w-8 h-8 text-red-600"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Suivi Santé"}),o.jsx("p",{className:"text-gray-600",children:"Gérez la santé de vos enfants"})]})]}),o.jsxs("button",{onClick:()=>{l(null),i(!0)},className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[o.jsx(bi,{className:"w-5 h-5"}),o.jsx("span",{children:"Nouveau"})]})]}),o.jsx("div",{className:"flex space-x-2 mb-6 overflow-x-auto",children:[{id:"tous",label:"Tous",emoji:"📋"},{id:"rdv",label:"RDV",emoji:"🩺"},{id:"vaccin",label:"Vaccins",emoji:"💉"},{id:"traitement",label:"Traitements",emoji:"💊"},{id:"urgence",label:"Urgences",emoji:"🚨"}].map(w=>o.jsxs("button",{onClick:()=>u(w.id),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${c===w.id?"bg-red-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[w.emoji," ",w.label]},w.id))}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:n.filter(w=>w.type==="rdv"&&w.statut==="prevu").length}),o.jsx("div",{className:"text-sm text-gray-600",children:"RDV prévus"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:n.filter(w=>w.type==="vaccin").length}),o.jsx("div",{className:"text-sm text-gray-600",children:"Vaccinations"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:n.filter(w=>w.type==="traitement").length}),o.jsx("div",{className:"text-sm text-gray-600",children:"Traitements"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-red-600 mb-1",children:n.filter(w=>w.rappel_active&&w.statut==="prevu").length}),o.jsx("div",{className:"text-sm text-gray-600",children:"Rappels actifs"})]})]}),m.length===0?o.jsxs("div",{className:"text-center py-16",children:[o.jsx(kt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun enregistrement santé"}),o.jsx("p",{className:"text-gray-500 mb-6",children:"Commencez à suivre la santé de vos enfants."}),o.jsx("button",{onClick:()=>i(!0),className:"bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-lg font-medium",children:"Premier enregistrement"})]}):o.jsx("div",{className:"space-y-4",children:m.map(w=>{var N;const S=y(w.date);return o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"text-3xl",children:g(w.type)}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:w.titre}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[o.jsx("span",{className:`font-medium ${S.color}`,children:S.text}),w.heure&&o.jsxs("span",{children:["à ",w.heure]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs border ${j(w.type)}`,children:w.type}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs border ${w.statut==="fait"?"bg-green-100 text-green-800 border-green-200":w.statut==="annule"?"bg-red-100 text-red-800 border-red-200":"bg-blue-100 text-blue-800 border-blue-200"}`,children:w.statut})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[w.statut==="prevu"&&o.jsxs("select",{value:w.statut,onChange:k=>f(w.id,k.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[o.jsx("option",{value:"prevu",children:"Prévu"}),o.jsx("option",{value:"fait",children:"Fait"}),o.jsx("option",{value:"annule",children:"Annulé"})]}),o.jsx("button",{onClick:()=>{l(w),i(!0)},className:"text-blue-500 hover:text-blue-700 p-1",children:"✏️"}),o.jsx("button",{onClick:()=>p(w.id),className:"text-red-500 hover:text-red-700 p-1",children:"🗑️"})]})]}),w.description&&o.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:o.jsx("p",{className:"text-gray-700 text-sm",children:w.description})}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[w.enfant_nom&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[o.jsx(ve,{className:"w-4 h-4"}),o.jsx("span",{children:w.enfant_nom})]}),((N=w.medecin)==null?void 0:N.nom)&&o.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(kt,{className:"w-4 h-4"}),o.jsx("span",{children:w.medecin.nom})]}),o.jsxs("div",{className:"flex space-x-2",children:[w.medecin.telephone&&o.jsx("button",{onClick:()=>b(w.medecin.telephone),className:"text-green-600 hover:text-green-700",title:"Appeler",children:o.jsx(ye,{className:"w-4 h-4"})}),w.medecin.adresse&&o.jsx("button",{onClick:()=>v(w.medecin.adresse),className:"text-blue-600 hover:text-blue-700",title:"Naviguer",children:o.jsx(Wt,{className:"w-4 h-4"})})]})]})]}),w.rappel_active&&w.statut==="prevu"&&o.jsx("div",{className:"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center space-x-2 text-yellow-700",children:[o.jsx(Hr,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Rappel automatique activé"})]})})]},w.id)})}),s&&o.jsx(x,{record:a||void 0,onSave:h,onCancel:()=>{i(!1),l(null)}})]})})},zT=()=>{const{user:t,profile:e}=Pe(),[n,r]=_.useState([]),[s,i]=_.useState(!1),[a,l]=_.useState(null),[c,u]=_.useState("tous");_.useEffect(()=>{d()},[t]);const d=async()=>{if(t)try{const x=localStorage.getItem(`rdvs_${t.id}`);if(x){const w=JSON.parse(x);w.sort((S,N)=>new Date(S.date+" "+S.heure).getTime()-new Date(N.date+" "+N.heure).getTime()),r(w)}}catch(x){console.error("Erreur lors du chargement des RDV:",x)}},h=async x=>{if(t)try{const w={...x,id:(a==null?void 0:a.id)||Date.now().toString(),created_at:(a==null?void 0:a.created_at)||new Date().toISOString()};let S;a?S=n.map(N=>N.id===a.id?w:N):S=[...n,w],S.sort((N,k)=>new Date(N.date+" "+N.heure).getTime()-new Date(k.date+" "+k.heure).getTime()),localStorage.setItem(`rdvs_${t.id}`,JSON.stringify(S)),r(S),i(!1),l(null)}catch(w){console.error("Erreur lors de la sauvegarde:",w)}},f=async x=>{if(t)try{const w=n.filter(S=>S.id!==x);localStorage.setItem(`rdvs_${t.id}`,JSON.stringify(w)),r(w)}catch(w){console.error("Erreur lors de la suppression:",w)}},p=x=>{window.location.href=`tel:${x}`},b=x=>{const w=encodeURIComponent(x),S=`https://waze.com/ul?q=${w}`,N=`https://www.google.com/maps/search/?api=1&query=${w}`;window.open(S,"_blank")||window.open(N,"_blank")},v=x=>{switch(x){case"medical":return"bg-red-100 text-red-800 border-red-200";case"scolaire":return"bg-blue-100 text-blue-800 border-blue-200";case"activite":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},j=x=>{switch(x){case"medical":return"🩺";case"scolaire":return"🏫";case"activite":return"⚽";default:return"📅"}},g=x=>{const w=Rm(x);return eo(w)?{text:"Aujourd'hui",color:"text-red-600 font-bold"}:gx(w)?{text:"Demain",color:"text-orange-600 font-semibold"}:px(w,new Date)?{text:"Passé",color:"text-gray-500"}:{text:It(w,"dd MMM",{locale:_i}),color:"text-gray-700"}},y=c==="tous"?n:n.filter(x=>x.type===c),m=({rdv:x,onSave:w,onCancel:S})=>{const[N,k]=_.useState({titre:(x==null?void 0:x.titre)||"",type:(x==null?void 0:x.type)||"medical",date:(x==null?void 0:x.date)||It(new Date,"yyyy-MM-dd"),heure:(x==null?void 0:x.heure)||"09:00",lieu:(x==null?void 0:x.lieu)||"",contact:(x==null?void 0:x.contact)||{nom:"",telephone:""},enfant:(x==null?void 0:x.enfant)||"",notes:(x==null?void 0:x.notes)||"",rappel:(x==null?void 0:x.rappel)||!0}),T=C=>{C.preventDefault(),w(N)};return o.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[x?"Modifier":"Nouveau"," rendez-vous"]}),o.jsx("button",{onClick:S,className:"text-gray-500 hover:text-gray-700",children:o.jsx(Ja,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:T,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre"}),o.jsx("input",{type:"text",value:N.titre,onChange:C=>k(A=>({...A,titre:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Visite chez le pédiatre",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),o.jsxs("select",{value:N.type,onChange:C=>k(A=>({...A,type:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"medical",children:"🩺 Médical"}),o.jsx("option",{value:"scolaire",children:"🏫 Scolaire"}),o.jsx("option",{value:"activite",children:"⚽ Activité"}),o.jsx("option",{value:"autre",children:"📅 Autre"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),o.jsx("input",{type:"date",value:N.date,onChange:C=>k(A=>({...A,date:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heure"}),o.jsx("input",{type:"time",value:N.heure,onChange:C=>k(A=>({...A,heure:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lieu"}),o.jsx("input",{type:"text",value:N.lieu,onChange:C=>k(A=>({...A,lieu:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Adresse du rendez-vous",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enfant concerné"}),o.jsx("input",{type:"text",value:N.enfant,onChange:C=>k(A=>({...A,enfant:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Prénom de l'enfant",required:!0})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Contact (optionnel)"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("input",{type:"text",placeholder:"Nom du contact",value:N.contact.nom,onChange:C=>k(A=>({...A,contact:{...A.contact,nom:C.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),o.jsx("input",{type:"tel",placeholder:"Téléphone",value:N.contact.telephone,onChange:C=>k(A=>({...A,contact:{...A.contact,telephone:C.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),o.jsx("textarea",{value:N.notes,onChange:C=>k(A=>({...A,notes:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Informations complémentaires..."})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",id:"rappel",checked:N.rappel,onChange:C=>k(A=>({...A,rappel:C.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:"rappel",className:"text-sm text-gray-700",children:"Activer les rappels"})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs("button",{type:"submit",className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-medium",children:[x?"Modifier":"Créer"," le RDV"]}),o.jsx("button",{type:"button",onClick:S,className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-3 rounded-lg font-medium",children:"Annuler"})]})]})]})})})};return o.jsx("div",{className:"p-6 pb-20",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Hr,{className:"w-8 h-8 text-blue-600"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Rendez-vous"}),o.jsx("p",{className:"text-gray-600",children:"Gérez vos RDV médicaux et scolaires"})]})]}),o.jsxs("button",{onClick:()=>{l(null),i(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[o.jsx(bi,{className:"w-5 h-5"}),o.jsx("span",{children:"Nouveau RDV"})]})]}),o.jsx("div",{className:"flex space-x-2 mb-6 overflow-x-auto",children:[{id:"tous",label:"Tous",emoji:"📅"},{id:"medical",label:"Médical",emoji:"🩺"},{id:"scolaire",label:"Scolaire",emoji:"🏫"},{id:"activite",label:"Activité",emoji:"⚽"},{id:"autre",label:"Autre",emoji:"📋"}].map(x=>o.jsxs("button",{onClick:()=>u(x.id),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${c===x.id?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[x.emoji," ",x.label]},x.id))}),y.length===0?o.jsxs("div",{className:"text-center py-16",children:[o.jsx(Hr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun rendez-vous"}),o.jsx("p",{className:"text-gray-500 mb-6",children:"Créez votre premier RDV pour commencer à organiser vos rendez-vous."}),o.jsx("button",{onClick:()=>i(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-medium",children:"Créer un RDV"})]}):o.jsx("div",{className:"space-y-4",children:y.map(x=>{var S;const w=g(x.date);return x.date+""+x.heure,o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"text-3xl",children:j(x.type)}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:x.titre}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[o.jsx("span",{className:`font-medium ${w.color}`,children:w.text}),o.jsxs("span",{children:["à ",x.heure]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs border ${v(x.type)}`,children:x.type})]})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>{l(x),i(!0)},className:"text-blue-500 hover:text-blue-700",children:o.jsx(Ga,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>f(x.id),className:"text-red-500 hover:text-red-700",children:o.jsx(Ja,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[o.jsx(ve,{className:"w-4 h-4"}),o.jsx("span",{children:x.enfant})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Wt,{className:"w-4 h-4"}),o.jsx("span",{children:x.lieu})]}),o.jsx("button",{onClick:()=>b(x.lieu),className:"text-blue-500 hover:text-blue-700",title:"Naviguer",children:o.jsx(Wt,{className:"w-4 h-4"})})]})]}),((S=x.contact)==null?void 0:S.nom)&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[o.jsx(ye,{className:"w-4 h-4"}),o.jsx("span",{children:x.contact.nom})]}),x.contact.telephone&&o.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[o.jsx("span",{children:x.contact.telephone}),o.jsx("button",{onClick:()=>p(x.contact.telephone),className:"text-green-500 hover:text-green-700",title:"Appeler",children:o.jsx(ye,{className:"w-4 h-4"})})]})]})]}),x.notes&&o.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:o.jsx("p",{className:"text-sm text-gray-700",children:x.notes})}),x.rappel&&eo(Rm(x.date))&&o.jsxs("div",{className:"mt-4 flex items-center space-x-2 text-orange-600 bg-orange-50 p-3 rounded-lg",children:[o.jsx(PN,{className:"w-5 h-5"}),o.jsxs("span",{className:"text-sm font-medium",children:["Rappel : RDV aujourd'hui à ",x.heure]})]})]},x.id)})}),s&&o.jsx(m,{rdv:a||void 0,onSave:h,onCancel:()=>{i(!1),l(null)}})]})})},BT=()=>{const{user:t,profile:e}=Pe(),[n,r]=_.useState(new Date),[s,i]=_.useState([]),[a,l]=_.useState([]);_.useEffect(()=>{c()},[t]);const c=()=>{if(t)try{const m=localStorage.getItem(`garde_days_${t.id}`);if(m)i(JSON.parse(m));else{const x=[{id:"1",date:"2025-01-15",created_at:new Date().toISOString()},{id:"2",date:"2025-01-20",created_at:new Date().toISOString()},{id:"3",date:"2025-01-18",created_at:new Date().toISOString()}];localStorage.setItem(`garde_days_${t.id}`,JSON.stringify(x)),i(x)}}catch(m){console.error("Erreur lors du chargement des jours de garde:",m)}},u=m=>s.some(x=>In(new Date(x.date),m)),d=m=>a.some(x=>In(x,m)),h=m=>{u(m)?p(m):d(m)?l(a.filter(x=>!In(x,m))):l([...a,m])},f=()=>{if(a.length===0)return;const m=a.map(w=>({id:Date.now().toString()+Math.random().toString(),date:It(w,"yyyy-MM-dd"),created_at:new Date().toISOString()})),x=[...s,...m];localStorage.setItem(`garde_days_${t==null?void 0:t.id}`,JSON.stringify(x)),i(x),l([])},p=m=>{const x=s.filter(w=>!In(new Date(w.date),m));localStorage.setItem(`garde_days_${t==null?void 0:t.id}`,JSON.stringify(x)),i(x)},b=_k(n),v=Sk(n);Em({start:b,end:v});const j=new Date(b);j.setDate(j.getDate()-b.getDay());const g=new Date(v);g.setDate(g.getDate()+(6-v.getDay()));const y=Em({start:j,end:g});return o.jsx("div",{className:"p-6 pb-20",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Bt,{className:"w-8 h-8 text-blue-600"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Planning de Garde"}),o.jsx("p",{className:"text-gray-600",children:"Gérez vos jours de garde"})]})]}),a.length>0&&o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:f,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[o.jsx(My,{className:"w-5 h-5"}),o.jsxs("span",{children:["Valider la sélection (",a.length,")"]})]}),o.jsxs("button",{onClick:()=>l([]),className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[o.jsx(Ct,{className:"w-5 h-5"}),o.jsx("span",{children:"Annuler"})]})]})]}),a.length===0?o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[o.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Comment utiliser le planning"}),o.jsxs("p",{className:"text-blue-700 text-sm",children:["• Cliquez sur les jours où vous avez la garde (ils apparaîtront en vert)",o.jsx("br",{}),"• Cliquez sur un jour de garde existant (👶) pour le supprimer",o.jsx("br",{}),'• Validez votre sélection avec le bouton "Valider la sélection"']})]}):o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[o.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"Sélection en cours"}),o.jsxs("p",{className:"text-green-700 text-sm",children:[a.length," jour",a.length>1?"s":""," sélectionné",a.length>1?"s":"",`. Cliquez sur "Valider la sélection" pour confirmer ou continuez à sélectionner d'autres jours.`]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsx("button",{onClick:()=>r(FC(n,1)),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:"←"}),o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:It(n,"MMMM yyyy",{locale:_i})}),o.jsx("button",{onClick:()=>r(cx(n,1)),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:"→"})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"].map(m=>o.jsx("div",{className:"p-2 text-center text-sm font-medium text-gray-500",children:m},m))}),o.jsx("div",{className:"grid grid-cols-7 gap-1",children:y.map(m=>{const x=NC(m,n),w=eo(m),S=d(m),N=u(m);return o.jsx(L.div,{whileHover:{scale:1.05},onClick:()=>{x&&h(m)},className:`
                      relative p-2 min-h-[80px] border border-gray-200 rounded-lg transition-colors
                      ${x?"cursor-pointer":"cursor-not-allowed"}
                      ${x?"bg-white hover:bg-blue-50":"bg-gray-50 text-gray-400"}
                      ${w?"ring-2 ring-blue-500 bg-blue-50":""}
                      ${S?"bg-green-200 border-green-500 ring-2 ring-green-300":""}
                      ${N&&!S?"bg-blue-100 border-blue-300":""}
                    `,children:o.jsxs("div",{className:`text-sm font-medium ${w?"text-blue-600":S?"text-green-700 font-bold":N?"text-blue-600":""}`,children:[It(m,"d"),S&&o.jsx("span",{className:"ml-1 text-green-600",children:"✓"}),N&&!S&&o.jsx("span",{className:"ml-1",children:"👶"})]})},m.toISOString())})})]})]}),a.length===0&&o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[o.jsx("div",{className:"p-4 border-b border-gray-200",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Mes jours de garde"})}),o.jsx("div",{className:"p-4",children:s.length===0?o.jsxs("p",{className:"text-gray-500 text-center py-8",children:["Aucun jour de garde configuré.",o.jsx("br",{}),"Cliquez directement sur les jours dans le calendrier pour commencer."]}):o.jsxs("div",{children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-4",children:[o.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.length}),o.jsx("div",{className:"text-sm text-gray-600",children:"Jours ce mois"})]}),o.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(s.length/30*100),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Du mois"})]}),o.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:s.filter(m=>In(new Date(m.date),new Date)).length>0?"👶":"📅"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Aujourd'hui"})]})]}),o.jsx("p",{className:"text-sm text-gray-600 text-center",children:"💡 Cliquez sur un jour de garde (👶) pour le supprimer ou sur un jour vide pour l'ajouter"})]})})]})]})})},$m=()=>{var c,u;const{user:t,profile:e,updateProfile:n}=Pe(),[r,s]=_.useState(null),i=d=>{window.location.href=`tel:${d}`},a=d=>{const h=encodeURIComponent(d),f=`https://waze.com/ul?q=${h}&navigate=yes`,p=`https://www.google.com/maps/search/?api=1&query=${h}`;window.open(f,"_blank")||window.open(p,"_blank")},l=async(d,h)=>{var b;const f=(b=h.target.files)==null?void 0:b[0];if(!f||!e)return;const p=new FileReader;p.onload=async v=>{var y;const j=(y=v.target)==null?void 0:y.result,g=e.enfants.map(m=>m.id===d?{...m,photo_url:j}:m);await n({enfants:g})},p.readAsDataURL(f),s(null)};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-6 pb-20",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsx("div",{className:"text-center mb-12",children:o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx(jo,{size:"lg",showText:!1})}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-purple-600 via-pink-600 to-purple-700 bg-clip-text text-transparent mb-4",children:"Co-Parents"}),o.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-pink-500 to-violet-600 bg-clip-text text-transparent mb-4",children:"Ma Famille"}),o.jsxs("p",{className:"text-gray-500",children:["Bienvenue ",(c=t==null?void 0:t.email)==null?void 0:c.split("@")[0]," ! Gérez votre famille en toute simplicité."]})]})}),e!=null&&e.enfants&&e.enfants.length>0?o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:e.enfants.map((d,h)=>{var f,p;return o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.1},className:"bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-200",children:[o.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-blue-400 via-purple-500 to-pink-500",children:[d.photo_url?o.jsx("img",{src:d.photo_url,alt:d.prenom,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(ve,{className:"w-16 h-16 text-white"})}),o.jsx("button",{onClick:()=>s(d.id),className:"absolute top-3 right-3 bg-white bg-opacity-90 hover:bg-opacity-100 p-2 rounded-full shadow-lg transition-all",children:o.jsx(Qn,{className:"w-4 h-4 text-gray-700"})}),r===d.id&&o.jsx("input",{type:"file",accept:"image/*",onChange:b=>l(d.id,b),className:"absolute inset-0 opacity-0 cursor-pointer",autoFocus:!0}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:d.prenom}),o.jsxs("p",{className:"text-white/90 text-sm",children:[new Date().getFullYear()-new Date(d.date_naissance).getFullYear()," ans"]})]})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[((f=d.ecole)==null?void 0:f.nom)&&o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h4",{className:"font-semibold text-blue-900 flex items-center",children:"🏫 École"}),o.jsxs("div",{className:"flex space-x-2",children:[d.ecole.telephone&&o.jsx("button",{onClick:()=>i(d.ecole.telephone),className:"text-green-600 hover:text-green-700 p-1",title:"Appeler l'école",children:o.jsx(ye,{className:"w-4 h-4"})}),d.ecole.adresse&&o.jsx("button",{onClick:()=>a(d.ecole.adresse),className:"text-blue-600 hover:text-blue-700 p-1",title:"Naviguer vers l'école",children:o.jsx(Wt,{className:"w-4 h-4"})})]})]}),o.jsx("p",{className:"font-medium text-blue-900",children:d.ecole.nom}),d.ecole.adresse&&o.jsx("p",{className:"text-sm text-blue-700",children:d.ecole.adresse}),d.ecole.telephone&&o.jsx("p",{className:"text-sm text-blue-700",children:d.ecole.telephone})]}),((p=d.medecin)==null?void 0:p.nom)&&o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h4",{className:"font-semibold text-green-900 flex items-center",children:"🩺 Médecin"}),o.jsxs("div",{className:"flex space-x-2",children:[d.medecin.telephone&&o.jsx("button",{onClick:()=>i(d.medecin.telephone),className:"text-green-600 hover:text-green-700 p-1",title:"Appeler le médecin",children:o.jsx(ye,{className:"w-4 h-4"})}),d.medecin.adresse&&o.jsx("button",{onClick:()=>a(d.medecin.adresse),className:"text-blue-600 hover:text-blue-700 p-1",title:"Naviguer vers le cabinet",children:o.jsx(Wt,{className:"w-4 h-4"})})]})]}),o.jsxs("p",{className:"font-medium text-green-900",children:["Dr. ",d.medecin.nom]}),d.medecin.adresse&&o.jsx("p",{className:"text-sm text-green-700",children:d.medecin.adresse}),d.medecin.telephone&&o.jsx("p",{className:"text-sm text-green-700",children:d.medecin.telephone})]}),d.allergies&&d.allergies.length>0&&o.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[o.jsx("h4",{className:"font-semibold text-red-900 mb-2",children:"⚠️ Allergies"}),o.jsx("p",{className:"text-sm text-red-700 font-medium",children:d.allergies.join(", ")})]}),(d.groupe_sanguin||d.numero_secu)&&o.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[o.jsx("h4",{className:"font-semibold text-orange-900 mb-2",children:"📋 Infos médicales"}),o.jsxs("div",{className:"space-y-1",children:[d.groupe_sanguin&&o.jsxs("p",{className:"text-sm text-orange-700",children:[o.jsx("span",{className:"font-medium",children:"Groupe sanguin:"})," ",d.groupe_sanguin]}),d.numero_secu&&o.jsxs("p",{className:"text-sm text-orange-700",children:[o.jsx("span",{className:"font-medium",children:"N° Sécu:"})," ",d.numero_secu]})]})]}),d.activites&&d.activites.length>0&&o.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[o.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"⚽ Activités"}),o.jsx("div",{className:"space-y-2",children:d.activites.map((b,v)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-purple-900",children:b.nom}),o.jsxs("p",{className:"text-xs text-purple-700",children:[b.jour," à ",b.heure]}),b.adresse&&o.jsx("p",{className:"text-xs text-purple-600",children:b.adresse})]}),b.telephone&&o.jsx("button",{onClick:()=>i(b.telephone),className:"text-green-600 hover:text-green-700 p-1",title:"Appeler",children:o.jsx(ye,{className:"w-4 h-4"})})]},v))})]}),d.urgences&&d.urgences.length>0&&o.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[o.jsx("h4",{className:"font-semibold text-yellow-900 mb-2",children:"🚨 Urgences"}),o.jsx("div",{className:"space-y-2",children:d.urgences.map((b,v)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-yellow-900",children:b.nom}),o.jsx("p",{className:"text-xs text-yellow-700",children:b.relation})]}),o.jsx("button",{onClick:()=>i(b.telephone),className:"text-green-600 hover:text-green-700 p-1",title:`Appeler ${b.nom}`,children:o.jsx(ye,{className:"w-4 h-4"})})]},v))})]})]})]},d.id)})}):o.jsxs("div",{className:"text-center py-12 mb-8",children:[o.jsx(ve,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun enfant configuré"}),o.jsx("p",{className:"text-gray-500",children:"Ajoutez vos enfants dans votre profil pour les voir ici."})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-12",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 text-center",children:[o.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:((u=e==null?void 0:e.enfants)==null?void 0:u.length)||0}),o.jsx("div",{className:"text-gray-600",children:"Enfants"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 text-center",children:[o.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"12"}),o.jsx("div",{className:"text-gray-600",children:"Jours ce mois"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 text-center",children:[o.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:"45"}),o.jsx("div",{className:"text-gray-600",children:"Photos partagées"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 text-center",children:[o.jsx("div",{className:"text-4xl font-bold text-orange-600 mb-2",children:"8"}),o.jsx("div",{className:"text-gray-600",children:"Messages"})]})]})]})})},WT=()=>{const{user:t,loading:e}=Pe(),[n,r]=_.useState("home"),[s,i]=_.useState(!1),[a,l]=_.useState(!1);if(console.log("showSideMenu:",a),_.useEffect(()=>{!e&&!t&&i(!0)},[t,e]),e)return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})});if(!t)return s?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-purple-50 flex items-center justify-center px-4",children:o.jsx(hk,{onGetStarted:()=>i(!1)})}):o.jsx(dk,{});const c=()=>{switch(n){case"home":return o.jsx($m,{});case"photos":return o.jsx(gT,{});case"planning":return o.jsx(BT,{});case"enfants":return o.jsx(vT,{});case"contact":return o.jsx(xT,{});case"messages":return o.jsx(yT,{});case"profile":return o.jsx(pk,{});case"documents":return o.jsx(wT,{});case"depenses":return o.jsx(bT,{});case"subscription":return o.jsx($T,{});case"settings":return o.jsx(VT,{});case"help":return o.jsx(FT,{});case"health":return o.jsx(UT,{});case"rdv":return o.jsx(zT,{});default:return o.jsx($m,{})}};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between relative z-40",children:[o.jsx("button",{onClick:()=>l(!0),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors z-50",children:o.jsx(LN,{className:"w-6 h-6 text-gray-600"})}),o.jsx("div",{}),o.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:o.jsx(ve,{className:"w-5 h-5 text-white"})})]}),a&&o.jsx(mk,{isOpen:a,onClose:()=>l(!1),onNavigate:u=>{r(u),l(!1)}}),o.jsx("main",{className:"pb-16",children:c()}),o.jsx(fk,{activeTab:n,onTabChange:r})]})};Qg(document.getElementById("root")).render(o.jsx(_.StrictMode,{children:o.jsx(uk,{children:o.jsx(WT,{})})}));
